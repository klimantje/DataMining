
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{llncs}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Crime prediction}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    Table of Contents{}

{{1~~}Data exploration}

{{1.1~~}Loading the data}

{{1.2~~}Exploring the variables}

{{1.2.1~~}Numeric variables}

{{1.2.2~~}Categorical variables}

{{1.3~~}Examing the missing values and dropping columns}

{{1.4~~}Handling missing values}

{{1.5~~}Exploring the correlation between variables}

{{1.6~~}Exploration of correlation with target variable}

{{1.6.1~~}We look at the categorical variables}

{{1.7~~}Correlation with target for numerical features}

{{2~~}Regression}

{{2.1~~}Splitting in train and testset}

{{2.2~~}Different regression model}

{{2.3~~}Performance on the testset}

{{2.4~~}Different random forest}

    \section{Data exploration}\label{data-exploration}

    \subsection{Loading the data}\label{loading-the-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}116}]:} \PY{c+c1}{\PYZsh{}libraries for exploration}
          \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
          \PY{c+c1}{\PYZsh{}pandas settings}
          \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{display.max\PYZus{}columns}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+m+mi}{150}\PY{p}{)}
          \PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{display.max\PYZus{}info\PYZus{}columns}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+m+mi}{150}\PY{p}{)}
              
          
          
          \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
          \PY{k+kn}{from} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{import} \PY{n}{norm}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}\PY{p}{,} \PY{n}{Imputer}\PY{p}{,} \PY{n}{Normalizer}
          \PY{k+kn}{from} \PY{n+nn}{scipy} \PY{k}{import} \PY{n}{stats}
          
          \PY{c+c1}{\PYZsh{} plotting missing values}
          \PY{k+kn}{import} \PY{n+nn}{missingno} \PY{k}{as} \PY{n+nn}{msno}
          
          \PY{c+c1}{\PYZsh{}plotting inline matplotlib}
          \PY{k+kn}{import} \PY{n+nn}{warnings}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
          \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
          
          \PY{c+c1}{\PYZsh{} machine learning}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k}{import} \PY{n}{LinearRegression}\PY{p}{,} \PY{n}{ElasticNet}
          
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{svm} \PY{k}{import} \PY{n}{SVC}\PY{p}{,} \PY{n}{LinearSVC}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{RandomForestRegressor}\PY{p}{,} \PY{n}{GradientBoostingRegressor}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neural\PYZus{}network} \PY{k}{import} \PY{n}{MLPRegressor}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k}{import} \PY{n}{KNeighborsRegressor}
          \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{model\PYZus{}selection}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{,} \PY{n}{cross\PYZus{}val\PYZus{}score}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{r2\PYZus{}score}
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{decomposition} \PY{k}{import} \PY{n}{PCA}
          \PY{k+kn}{from} \PY{n+nn}{xgboost} \PY{k}{import} \PY{n}{XGBRegressor}
          \PY{k+kn}{from} \PY{n+nn}{yellowbrick}\PY{n+nn}{.}\PY{n+nn}{features} \PY{k}{import} \PY{n}{FeatureImportances}
\end{Verbatim}


    We load the data as a pandas dataframe and exampine the different
features.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{n}{crimes} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{CommViolPredUnnormalizedData.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    There are quite some instances where the target variable is not filled.
However, we have columns per type of crime (also totals and per
population) so we can check whether we can fill some more target vars to
not have to throw away too many lines.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 2215 entries, 0 to 2214
Data columns (total 147 columns):
communityname          2215 non-null object
State                  2215 non-null object
countyCode             994 non-null float64
communityCode          991 non-null float64
fold                   2215 non-null int64
pop                    2215 non-null int64
perHoush               2215 non-null float64
pctBlack               2215 non-null float64
pctWhite               2215 non-null float64
pctAsian               2215 non-null float64
pctHisp                2215 non-null float64
pct12-21               2215 non-null float64
pct12-29               2215 non-null float64
pct16-24               2215 non-null float64
pct65up                2215 non-null float64
persUrban              2215 non-null int64
pctUrban               2215 non-null float64
medIncome              2215 non-null int64
pctWwage               2215 non-null float64
pctWfarm               2215 non-null float64
pctWdiv                2215 non-null float64
pctWsocsec             2215 non-null float64
pctPubAsst             2215 non-null float64
pctRetire              2215 non-null float64
medFamIncome           2215 non-null int64
perCapInc              2215 non-null int64
whitePerCap            2215 non-null int64
blackPerCap            2215 non-null int64
NAperCap               2215 non-null int64
asianPerCap            2215 non-null int64
otherPerCap            2214 non-null float64
hispPerCap             2215 non-null int64
persPoverty            2215 non-null int64
pctPoverty             2215 non-null float64
pctLowEdu              2215 non-null float64
pctNotHSgrad           2215 non-null float64
pctCollGrad            2215 non-null float64
pctUnemploy            2215 non-null float64
pctEmploy              2215 non-null float64
pctEmployMfg           2215 non-null float64
pctEmployProfServ      2215 non-null float64
pctOccupManu           2215 non-null float64
pctOccupMgmt           2215 non-null float64
pctMaleDivorc          2215 non-null float64
pctMaleNevMar          2215 non-null float64
pctFemDivorc           2215 non-null float64
pctAllDivorc           2215 non-null float64
persPerFam             2215 non-null float64
pct2Par                2215 non-null float64
pctKids2Par            2215 non-null float64
pctKids-4w2Par         2215 non-null float64
pct12-17w2Par          2215 non-null float64
pctWorkMom-6           2215 non-null float64
pctWorkMom-18          2215 non-null float64
kidsBornNevrMarr       2215 non-null int64
pctKidsBornNevrMarr    2215 non-null float64
numForeignBorn         2215 non-null int64
pctFgnImmig-3          2215 non-null float64
pctFgnImmig-5          2215 non-null float64
pctFgnImmig-8          2215 non-null float64
pctFgnImmig-10         2215 non-null float64
pctImmig-3             2215 non-null float64
pctImmig-5             2215 non-null float64
pctImmig-8             2215 non-null float64
pctImmig-10            2215 non-null float64
pctSpeakOnlyEng        2215 non-null float64
pctNotSpeakEng         2215 non-null float64
pctLargHousFam         2215 non-null float64
pctLargHous            2215 non-null float64
persPerOccupHous       2215 non-null float64
persPerOwnOccup        2215 non-null float64
persPerRenterOccup     2215 non-null float64
pctPersOwnOccup        2215 non-null float64
pctPopDenseHous        2215 non-null float64
pctSmallHousUnits      2215 non-null float64
medNumBedrm            2215 non-null int64
houseVacant            2215 non-null int64
pctHousOccup           2215 non-null float64
pctHousOwnerOccup      2215 non-null float64
pctVacantBoarded       2215 non-null float64
pctVacant6up           2215 non-null float64
medYrHousBuilt         2215 non-null int64
pctHousWOphone         2215 non-null float64
pctHousWOplumb         2215 non-null float64
ownHousLowQ            2215 non-null int64
ownHousMed             2215 non-null int64
ownHousUperQ           2215 non-null int64
ownHousQrange          2215 non-null int64
rentLowQ               2215 non-null int64
rentMed                2215 non-null int64
rentUpperQ             2215 non-null int64
rentQrange             2215 non-null int64
medGrossRent           2215 non-null int64
medRentpctHousInc      2215 non-null float64
medOwnCostpct          2215 non-null float64
medOwnCostPctWO        2215 non-null float64
persEmergShelt         2215 non-null int64
persHomeless           2215 non-null int64
pctForeignBorn         2215 non-null float64
pctBornStateResid      2215 non-null float64
pctSameHouse-5         2215 non-null float64
pctSameCounty-5        2215 non-null float64
pctSameState-5         2215 non-null float64
numPolice              343 non-null float64
policePerPop           343 non-null float64
policeField            343 non-null float64
policeFieldPerPop      343 non-null float64
policeCalls            343 non-null float64
policCallPerPop        343 non-null float64
policCallPerOffic      343 non-null float64
policePerPop2          343 non-null float64
racialMatch            343 non-null float64
pctPolicWhite          343 non-null float64
pctPolicBlack          343 non-null float64
pctPolicHisp           343 non-null float64
pctPolicAsian          343 non-null float64
pctPolicMinority       343 non-null float64
officDrugUnits         343 non-null float64
numDiffDrugsSeiz       343 non-null float64
policAveOT             343 non-null float64
landArea               2215 non-null float64
popDensity             2215 non-null float64
pctUsePubTrans         2215 non-null float64
policCarsAvail         343 non-null float64
policOperBudget        343 non-null float64
pctPolicPatrol         343 non-null float64
gangUnit               343 non-null float64
pctOfficDrugUnit       2215 non-null float64
policBudgetPerPop      343 non-null float64
murders                2215 non-null int64
murdPerPop             2215 non-null float64
rapes                  2007 non-null float64
rapesPerPop            2007 non-null float64
robberies              2214 non-null float64
robbbPerPop            2214 non-null float64
assaults               2202 non-null float64
assaultPerPop          2202 non-null float64
burglaries             2212 non-null float64
burglPerPop            2212 non-null float64
larcenies              2212 non-null float64
larcPerPop             2212 non-null float64
autoTheft              2212 non-null float64
autoTheftPerPop        2212 non-null float64
arsons                 2124 non-null float64
arsonsPerPop           2124 non-null float64
violentPerPop          1994 non-null float64
nonViolPerPop          2118 non-null float64
dtypes: float64(116), int64(29), object(2)
memory usage: 2.5+ MB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:}              communityname State  countyCode  communityCode  fold    pop  \textbackslash{}
        0  BerkeleyHeightstownship    NJ        39.0         5320.0     1  11980   
        1           Marpletownship    PA        45.0        47616.0     1  23123   
        2               Tigardcity    OR         NaN            NaN     1  29344   
        3         Gloversvillecity    NY        35.0        29443.0     1  16656   
        4              Bemidjicity    MN         7.0         5068.0     1  11245   
        
           perHoush  pctBlack  pctWhite  pctAsian  pctHisp  pct12-21  pct12-29  \textbackslash{}
        0      3.10      1.37     91.78      6.50     1.88     12.47     21.44   
        1      2.82      0.80     95.57      3.44     0.85     11.01     21.30   
        2      2.43      0.74     94.33      3.43     2.35     11.36     25.88   
        3      2.40      1.70     97.35      0.50     0.70     12.55     25.20   
        4      2.76      0.53     89.16      1.17     0.52     24.46     40.53   
        
           pct16-24  pct65up  persUrban  pctUrban  medIncome  pctWwage  pctWfarm  \textbackslash{}
        0     10.93    11.33      11980     100.0      75122     89.24      1.55   
        1     10.48    17.18      23123     100.0      47917     78.99      1.11   
        2     11.01    10.28      29344     100.0      35669     82.00      1.15   
        3     12.19    17.57          0       0.0      20580     68.15      0.24   
        4     28.69    12.65          0       0.0      17390     69.33      0.55   
        
           pctWdiv  pctWsocsec  pctPubAsst  pctRetire  medFamIncome  perCapInc  \textbackslash{}
        0    70.20       23.62        1.03      18.39         79584      29711   
        1    64.11       35.50        2.75      22.85         55323      20148   
        2    55.73       22.25        2.94      14.56         42112      16946   
        3    38.95       39.48       11.71      18.33         26501      10810   
        4    42.82       32.16       11.21      14.43         24018       8483   
        
           whitePerCap  blackPerCap  NAperCap  asianPerCap  otherPerCap  hispPerCap  \textbackslash{}
        0        30233        13600      5725        27101       5115.0       22838   
        1        20191        18137         0        20074       5250.0       12222   
        2        17103        16644     21606        15528       5954.0        8405   
        3        10909         9984      4941         3541       2451.0        4391   
        4         9009          887      4425         3352       3000.0        1328   
        
           persPoverty  pctPoverty  pctLowEdu  pctNotHSgrad  pctCollGrad  pctUnemploy  \textbackslash{}
        0          227        1.96       5.81          9.90        48.18         2.70   
        1          885        3.98       5.61         13.72        29.89         2.43   
        2         1389        4.75       2.80          9.09        30.13         4.01   
        3         2831       17.23      11.05         33.68        10.81         9.86   
        4         2855       29.99      12.15         23.06        25.28         9.08   
        
           pctEmploy  pctEmployMfg  pctEmployProfServ  pctOccupManu  pctOccupMgmt  \textbackslash{}
        0      64.55         14.65              28.82          5.49         50.73   
        1      61.96         12.26              29.28          6.39         37.64   
        2      69.80         15.95              21.52          8.79         32.48   
        3      54.74         31.22              27.43         26.76         22.71   
        4      52.44          6.89              36.54         10.94         27.80   
        
           pctMaleDivorc  pctMaleNevMar  pctFemDivorc  pctAllDivorc  persPerFam  \textbackslash{}
        0           3.67          26.38          5.22          4.47        3.22   
        1           4.23          27.99          6.45          5.42        3.11   
        2          10.10          25.78         14.76         12.55        2.95   
        3          10.98          28.15         14.47         12.91        2.98   
        4           7.51          50.66         11.64          9.73        2.98   
        
           pct2Par  pctKids2Par  pctKids-4w2Par  pct12-17w2Par  pctWorkMom-6  \textbackslash{}
        0    91.43        90.17           95.78          95.81         44.56   
        1    86.91        85.33           96.82          86.46         51.14   
        2    78.54        78.85           92.37          75.72         66.08   
        3    64.02        62.36           65.38          67.43         59.59   
        4    58.59        55.20           66.51          79.17         61.22   
        
           pctWorkMom-18  kidsBornNevrMarr  pctKidsBornNevrMarr  numForeignBorn  \textbackslash{}
        0          58.88                31                 0.36            1277   
        1          62.43                43                 0.24            1920   
        2          74.19               164                 0.88            1468   
        3          70.27               561                 3.84             339   
        4          68.94               402                 4.70             196   
        
           pctFgnImmig-3  pctFgnImmig-5  pctFgnImmig-8  pctFgnImmig-10  pctImmig-3  \textbackslash{}
        0           8.69          13.00          20.99           30.93        0.93   
        1           5.21           8.65          13.33           22.50        0.43   
        2          16.42          23.98          32.08           35.63        0.82   
        3          13.86          13.86          15.34           15.34        0.28   
        4          46.94          56.12          67.86           69.90        0.82   
        
           pctImmig-5  pctImmig-8  pctImmig-10  pctSpeakOnlyEng  pctNotSpeakEng  \textbackslash{}
        0        1.39        2.24         3.30            85.68            1.37   
        1        0.72        1.11         1.87            87.79            1.81   
        2        1.20        1.61         1.78            93.11            1.14   
        3        0.28        0.31         0.31            94.98            0.56   
        4        0.98        1.18         1.22            94.64            0.39   
        
           pctLargHousFam  pctLargHous  persPerOccupHous  persPerOwnOccup  \textbackslash{}
        0            4.81         4.17              2.99             3.00   
        1            4.25         3.34              2.70             2.83   
        2            2.97         2.05              2.42             2.69   
        3            3.93         2.56              2.37             2.51   
        4            5.23         3.11              2.35             2.55   
        
           persPerRenterOccup  pctPersOwnOccup  pctPopDenseHous  pctSmallHousUnits  \textbackslash{}
        0                2.84            91.46             0.39              11.06   
        1                1.96            89.03             1.01              23.60   
        2                2.06            64.18             2.03              47.46   
        3                2.20            58.18             1.21              45.66   
        4                2.12            58.13             2.94              55.64   
        
           medNumBedrm  houseVacant  pctHousOccup  pctHousOwnerOccup  \textbackslash{}
        0            3           64         98.37              91.01   
        1            3          240         97.15              84.88   
        2            3          544         95.68              57.79   
        3            3          669         91.19              54.89   
        4            2          333         92.45              53.57   
        
           pctVacantBoarded  pctVacant6up  medYrHousBuilt  pctHousWOphone  \textbackslash{}
        0              3.12         37.50            1959            0.00   
        1              0.00         18.33            1958            0.31   
        2              0.92          7.54            1976            1.55   
        3              2.54         57.85            1939            7.00   
        4              3.90         42.64            1958            7.45   
        
           pctHousWOplumb  ownHousLowQ  ownHousMed  ownHousUperQ  ownHousQrange  \textbackslash{}
        0            0.28       215900      262600        326900         111000   
        1            0.14       136300      164200        199900          63600   
        2            0.12        74700       90400        112000          37300   
        3            0.87        36400       49600         66500          30100   
        4            0.82        30600       43200         59500          28900   
        
           rentLowQ  rentMed  rentUpperQ  rentQrange  medGrossRent  medRentpctHousInc  \textbackslash{}
        0       685     1001        1001         316          1001               23.8   
        1       467      560         672         205           627               27.6   
        2       370      428         520         150           484               24.1   
        3       195      250         309         114           333               28.7   
        4       202      283         362         160           332               32.2   
        
           medOwnCostpct  medOwnCostPctWO  persEmergShelt  persHomeless  \textbackslash{}
        0           21.1             14.0              11             0   
        1           20.7             12.5               0             0   
        2           21.7             11.6              16             0   
        3           20.6             14.5               0             0   
        4           23.2             12.9               2             0   
        
           pctForeignBorn  pctBornStateResid  pctSameHouse-5  pctSameCounty-5  \textbackslash{}
        0           10.66              53.72           65.29            78.09   
        1            8.30              77.17           71.27            90.22   
        2            5.00              44.77           36.60            61.26   
        3            2.04              88.71           56.70            90.17   
        4            1.74              73.75           42.22            60.34   
        
           pctSameState-5  numPolice  policePerPop  policeField  policeFieldPerPop  \textbackslash{}
        0           89.14        NaN           NaN          NaN                NaN   
        1           96.12        NaN           NaN          NaN                NaN   
        2           82.85        NaN           NaN          NaN                NaN   
        3           96.24        NaN           NaN          NaN                NaN   
        4           89.02        NaN           NaN          NaN                NaN   
        
           policeCalls  policCallPerPop  policCallPerOffic  policePerPop2  \textbackslash{}
        0          NaN              NaN                NaN            NaN   
        1          NaN              NaN                NaN            NaN   
        2          NaN              NaN                NaN            NaN   
        3          NaN              NaN                NaN            NaN   
        4          NaN              NaN                NaN            NaN   
        
           racialMatch  pctPolicWhite  pctPolicBlack  pctPolicHisp  pctPolicAsian  \textbackslash{}
        0          NaN            NaN            NaN           NaN            NaN   
        1          NaN            NaN            NaN           NaN            NaN   
        2          NaN            NaN            NaN           NaN            NaN   
        3          NaN            NaN            NaN           NaN            NaN   
        4          NaN            NaN            NaN           NaN            NaN   
        
           pctPolicMinority  officDrugUnits  numDiffDrugsSeiz  policAveOT  landArea  \textbackslash{}
        0               NaN             NaN               NaN         NaN       6.5   
        1               NaN             NaN               NaN         NaN      10.6   
        2               NaN             NaN               NaN         NaN      10.6   
        3               NaN             NaN               NaN         NaN       5.2   
        4               NaN             NaN               NaN         NaN      11.5   
        
           popDensity  pctUsePubTrans  policCarsAvail  policOperBudget  \textbackslash{}
        0      1845.9            9.63             NaN              NaN   
        1      2186.7            3.84             NaN              NaN   
        2      2780.9            4.37             NaN              NaN   
        3      3217.7            3.31             NaN              NaN   
        4       974.2            0.38             NaN              NaN   
        
           pctPolicPatrol  gangUnit  pctOfficDrugUnit  policBudgetPerPop  murders  \textbackslash{}
        0             NaN       NaN               0.0                NaN        0   
        1             NaN       NaN               0.0                NaN        0   
        2             NaN       NaN               0.0                NaN        3   
        3             NaN       NaN               0.0                NaN        0   
        4             NaN       NaN               0.0                NaN        0   
        
           murdPerPop  rapes  rapesPerPop  robberies  robbbPerPop  assaults  \textbackslash{}
        0         0.0    0.0         0.00        1.0         8.20       4.0   
        1         0.0    1.0         4.25        5.0        21.26      24.0   
        2         8.3    6.0        16.60       56.0       154.95      14.0   
        3         0.0   10.0        57.86       10.0        57.86      33.0   
        4         0.0    NaN          NaN        4.0        32.04      14.0   
        
           assaultPerPop  burglaries  burglPerPop  larcenies  larcPerPop  autoTheft  \textbackslash{}
        0          32.81        14.0       114.85      138.0     1132.08       16.0   
        1         102.05        57.0       242.37      376.0     1598.78       26.0   
        2          38.74       274.0       758.14     1797.0     4972.19      136.0   
        3         190.93       225.0      1301.78      716.0     4142.56       47.0   
        4         112.14        91.0       728.93     1060.0     8490.87       91.0   
        
           autoTheftPerPop  arsons  arsonsPerPop  violentPerPop  nonViolPerPop  
        0           131.26     2.0         16.41          41.02        1394.59  
        1           110.55     1.0          4.25         127.56        1955.95  
        2           376.30    22.0         60.87         218.59        6167.51  
        3           271.93     NaN           NaN         306.64            NaN  
        4           728.93     5.0         40.05            NaN        9988.79  
\end{Verbatim}
            
    We check the size of the data

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} (2215, 147)
\end{Verbatim}
            Drop the rows where the target variable is missing
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{violentPerPop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{inplace} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{violentPerPop}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 0
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{crime\PYZus{}types} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{ix}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{murders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{arsonsPerPop}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{crime\PYZus{}types}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}10}]:} arsonsPerPop       87
         arsons             87
         autoTheftPerPop     3
         autoTheft           3
         burglPerPop         3
         burglaries          3
         larcPerPop          2
         larcenies           2
         assaultPerPop       0
         assaults            0
         robbbPerPop         0
         robberies           0
         rapesPerPop         0
         rapes               0
         murdPerPop          0
         murders             0
         dtype: int64
\end{Verbatim}
            
    We can now drop all specific crimes. They are obviously closely
correlated to the target variable as they are a subset of it but don't
really count as feature. In fact they could be target variables
themselves.

    We also drop the column indicating the number of non violent crimes as
we only want to perdict the violent ones on the basis of socio economic
variables.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{crimes} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{columns} \PY{o}{=} \PY{n}{crime\PYZus{}types}\PY{o}{.}\PY{n}{columns}\PY{p}{)}
         \PY{n}{crimes} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{nonViolPerPop}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{values}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} array(['communityname', 'State', 'countyCode', 'communityCode', 'fold',
                'pop', 'perHoush', 'pctBlack', 'pctWhite', 'pctAsian', 'pctHisp',
                'pct12-21', 'pct12-29', 'pct16-24', 'pct65up', 'persUrban',
                'pctUrban', 'medIncome', 'pctWwage', 'pctWfarm', 'pctWdiv',
                'pctWsocsec', 'pctPubAsst', 'pctRetire', 'medFamIncome',
                'perCapInc', 'whitePerCap', 'blackPerCap', 'NAperCap',
                'asianPerCap', 'otherPerCap', 'hispPerCap', 'persPoverty',
                'pctPoverty', 'pctLowEdu', 'pctNotHSgrad', 'pctCollGrad',
                'pctUnemploy', 'pctEmploy', 'pctEmployMfg', 'pctEmployProfServ',
                'pctOccupManu', 'pctOccupMgmt', 'pctMaleDivorc', 'pctMaleNevMar',
                'pctFemDivorc', 'pctAllDivorc', 'persPerFam', 'pct2Par',
                'pctKids2Par', 'pctKids-4w2Par', 'pct12-17w2Par', 'pctWorkMom-6',
                'pctWorkMom-18', 'kidsBornNevrMarr', 'pctKidsBornNevrMarr',
                'numForeignBorn', 'pctFgnImmig-3', 'pctFgnImmig-5',
                'pctFgnImmig-8', 'pctFgnImmig-10', 'pctImmig-3', 'pctImmig-5',
                'pctImmig-8', 'pctImmig-10', 'pctSpeakOnlyEng', 'pctNotSpeakEng',
                'pctLargHousFam', 'pctLargHous', 'persPerOccupHous',
                'persPerOwnOccup', 'persPerRenterOccup', 'pctPersOwnOccup',
                'pctPopDenseHous', 'pctSmallHousUnits', 'medNumBedrm',
                'houseVacant', 'pctHousOccup', 'pctHousOwnerOccup',
                'pctVacantBoarded', 'pctVacant6up', 'medYrHousBuilt',
                'pctHousWOphone', 'pctHousWOplumb', 'ownHousLowQ', 'ownHousMed',
                'ownHousUperQ', 'ownHousQrange', 'rentLowQ', 'rentMed',
                'rentUpperQ', 'rentQrange', 'medGrossRent', 'medRentpctHousInc',
                'medOwnCostpct', 'medOwnCostPctWO', 'persEmergShelt',
                'persHomeless', 'pctForeignBorn', 'pctBornStateResid',
                'pctSameHouse-5', 'pctSameCounty-5', 'pctSameState-5', 'numPolice',
                'policePerPop', 'policeField', 'policeFieldPerPop', 'policeCalls',
                'policCallPerPop', 'policCallPerOffic', 'policePerPop2',
                'racialMatch', 'pctPolicWhite', 'pctPolicBlack', 'pctPolicHisp',
                'pctPolicAsian', 'pctPolicMinority', 'officDrugUnits',
                'numDiffDrugsSeiz', 'policAveOT', 'landArea', 'popDensity',
                'pctUsePubTrans', 'policCarsAvail', 'policOperBudget',
                'pctPolicPatrol', 'gangUnit', 'pctOfficDrugUnit',
                'policBudgetPerPop', 'violentPerPop'], dtype=object)
\end{Verbatim}
            
    \subsection{Exploring the variables}\label{exploring-the-variables}

We perform some basic data analysis on the different variables. Let's
first look at the statistics of the numeric variables.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:}        countyCode  communityCode         fold           pop     perHoush  \textbackslash{}
         count  820.000000     817.000000  1994.000000  1.994000e+03  1994.000000   
         mean    58.826829   46188.336597     5.511535  5.225143e+04     2.706810   
         std    126.420560   25299.726569     2.882916  2.021475e+05     0.343156   
         min      1.000000      70.000000     1.000000  1.000500e+04     1.600000   
         25\%      9.000000   25065.000000     3.000000  1.435925e+04     2.490000   
         50\%     23.000000   48090.000000     5.000000  2.268100e+04     2.650000   
         75\%     59.500000   66660.000000     8.000000  4.315375e+04     2.850000   
         max    840.000000   94597.000000    10.000000  7.322564e+06     5.280000   
         
                   pctBlack     pctWhite     pctAsian      pctHisp     pct12-21  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000  1994.000000  1994.000000   
         mean      9.509694    83.489218     2.750787     8.481610    14.431214   
         std      14.101979    16.393607     4.648200    15.208788     4.478570   
         min       0.000000     2.680000     0.030000     0.120000     4.580000   
         25\%       0.940000    75.882500     0.612500     0.920000    12.230000   
         50\%       3.150000    89.605000     1.240000     2.340000    13.620000   
         75\%      11.965000    95.987500     2.737500     8.610000    15.387500   
         max      96.670000    99.630000    57.460000    95.290000    54.400000   
         
                   pct12-29     pct16-24      pct65up     persUrban     pctUrban  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000  1.994000e+03  1994.000000   
         mean     27.617357    13.985421    12.004599  4.667176e+04    69.621545   
         std       6.148044     5.896879     4.803906  2.031508e+05    44.478865   
         min       9.380000     4.640000     1.660000  0.000000e+00     0.000000   
         25\%      24.380000    11.340000     8.922500  0.000000e+00     0.000000   
         50\%      26.765000    12.540000    11.855000  1.734850e+04   100.000000   
         75\%      29.180000    14.357500    14.547500  4.193150e+04   100.000000   
         max      70.510000    63.620000    52.770000  7.322564e+06   100.000000   
         
                    medIncome     pctWwage     pctWfarm      pctWdiv   pctWsocsec  \textbackslash{}
         count    1994.000000  1994.000000  1994.000000  1994.000000  1994.000000   
         mean    33699.327482    78.079960     0.893325    43.364569    26.659569   
         std     13391.741380     7.844073     0.700974    12.753381     8.239384   
         min     11576.000000    31.680000     0.000000     7.910000     4.810000   
         25\%     23597.000000    73.225000     0.470000    34.190000    20.982500   
         50\%     30896.000000    78.380000     0.700000    42.380000    26.785000   
         75\%     41214.750000    83.705000     1.110000    52.067500    31.840000   
         max    123625.000000    96.620000     6.530000    89.040000    76.390000   
         
                 pctPubAsst    pctRetire   medFamIncome     perCapInc   whitePerCap  \textbackslash{}
         count  1994.000000  1994.000000    1994.000000   1994.000000   1994.000000   
         mean      6.805782    16.064313   39552.840020  15521.723170  16535.021063   
         std       4.490332     4.560049   14202.644655   6227.115252   6311.111286   
         min       0.500000     3.460000   13785.000000   5237.000000   5472.000000   
         25\%       3.362500    12.990000   29307.250000  11548.250000  12596.000000   
         50\%       5.720000    15.660000   36009.500000  13977.000000  15027.500000   
         75\%       9.150000    18.777500   46682.750000  17774.500000  18609.750000   
         max      26.920000    45.510000  131315.000000  63302.000000  68850.000000   
         
                  blackPerCap       NAperCap    asianPerCap    otherPerCap  \textbackslash{}
         count    1994.000000    1994.000000    1994.000000    1993.000000   
         mean    11472.239719   12257.246740   14284.493480    9375.033618   
         std      9225.459763   15359.543073    9770.963887    7969.199401   
         min         0.000000       0.000000       0.000000       0.000000   
         25\%      6705.500000    6336.000000    8440.750000    5500.000000   
         50\%      9664.500000    9833.500000   12331.000000    8144.000000   
         75\%     14463.750000   14690.000000   17346.000000   11378.000000   
         max    212120.000000  480000.000000  106165.000000  137000.000000   
         
                  hispPerCap   persPoverty   pctPoverty    pctLowEdu  pctNotHSgrad  \textbackslash{}
         count   1994.000000  1.994000e+03  1994.000000  1994.000000   1994.000000   
         mean   10989.443831  7.398380e+03    11.795933     9.444203     22.700687   
         std     5818.878476  3.793092e+04     8.509501     6.843854     11.061712   
         min        0.000000  7.800000e+01     0.640000     0.200000      2.090000   
         25\%     7252.750000  9.362500e+02     4.692500     4.770000     14.195000   
         50\%     9676.500000  2.217500e+03     9.650000     7.920000     21.655000   
         75\%    13360.000000  5.097500e+03    17.077500    12.245000     29.665000   
         max    54648.000000  1.384994e+06    48.820000    49.890000     73.660000   
         
                pctCollGrad  pctUnemploy    pctEmploy  pctEmployMfg  pctEmployProfServ  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000   1994.000000        1994.000000   
         mean     22.991550     6.023862    61.777407     17.788902          24.575105   
         std      12.514273     2.725405     8.108373      8.109212           6.654011   
         min       1.630000     1.320000    24.820000      2.050000           8.690000   
         25\%      14.090000     4.090000    56.352500     11.940000          20.110000   
         50\%      19.625000     5.485000    62.270000     16.665000          23.415000   
         75\%      28.935000     7.430000    67.505000     22.755000          27.627500   
         max      73.630000    23.830000    84.670000     50.030000          62.670000   
         
                pctOccupManu  pctOccupMgmt  pctMaleDivorc  pctMaleNevMar  pctFemDivorc  \textbackslash{}
         count   1994.000000   1994.000000    1994.000000    1994.000000   1994.000000   
         mean      13.747277     28.253806       9.179649      30.667583     12.400557   
         std        6.409730      9.262147       2.790251       8.097243      3.254299   
         min        1.370000      6.480000       2.130000      12.060000      3.350000   
         25\%        9.072500     21.920000       7.162500      25.410000      9.940000   
         50\%       13.040000     26.295000       9.240000      28.995000     12.630000   
         75\%       17.465000     32.892500      11.110000      33.470000     14.800000   
         max       44.270000     64.970000      19.090000      76.320000     23.460000   
         
                pctAllDivorc   persPerFam      pct2Par  pctKids2Par  pctKids-4w2Par  \textbackslash{}
         count   1994.000000  1994.000000  1994.000000  1994.000000     1994.000000   
         mean      10.876605     3.128771    73.900848    70.905045       81.750361   
         std        2.988938     0.248587    10.301559    11.845832       12.023906   
         min        2.830000     2.290000    32.240000    26.110000       27.430000   
         25\%        8.640000     2.990000    67.672500    63.622500       74.420000   
         50\%       11.040000     3.095000    74.770000    72.065000       83.770000   
         75\%       13.057500     3.220000    81.645000    79.817500       91.437500   
         max       19.110000     4.640000    93.600000    92.580000      100.000000   
         
                pct12-17w2Par  pctWorkMom-6  pctWorkMom-18  kidsBornNevrMarr  \textbackslash{}
         count    1994.000000   1994.000000    1994.000000       1994.000000   
         mean       75.336590     60.434067      68.796555       2041.450351   
         std        10.244307      7.932718       6.588541      14021.347701   
         min        30.640000     24.420000      41.950000          0.000000   
         25\%        69.925000     55.450000      64.962500        146.250000   
         50\%        76.665000     60.705000      69.255000        361.000000   
         75\%        82.515000     65.797500      73.337500       1070.250000   
         max        97.340000     87.970000      89.370000     527557.000000   
         
                pctKidsBornNevrMarr  numForeignBorn  pctFgnImmig-3  pctFgnImmig-5  \textbackslash{}
         count          1994.000000    1.994000e+03    1994.000000    1994.000000   
         mean              3.139739    6.313566e+03      13.733932      20.828255   
         std               3.074032    5.708065e+04       9.833337      12.418674   
         min               0.000000    2.000000e+01       0.000000       0.000000   
         25\%               1.082500    4.070000e+02       6.942500      11.700000   
         50\%               2.080000    1.039500e+03      12.440000      19.645000   
         75\%               3.980000    3.389250e+03      18.090000      27.690000   
         max              24.190000    2.082931e+06      64.290000      76.160000   
         
                pctFgnImmig-8  pctFgnImmig-10   pctImmig-3   pctImmig-5   pctImmig-8  \textbackslash{}
         count    1994.000000     1994.000000  1994.000000  1994.000000  1994.000000   
         mean       28.124539       35.476851     1.148546     1.780843     2.423716   
         std        14.300138       16.175497     1.647623     2.543636     3.398548   
         min         0.000000        0.000000     0.000000     0.000000     0.000000   
         25\%        17.910000       23.542500     0.180000     0.290000     0.410000   
         50\%        27.460000       35.575000     0.530000     0.780000     1.080000   
         75\%        37.070000       46.812500     1.370000     2.180000     2.870000   
         max        80.810000       88.000000    13.710000    19.930000    25.340000   
         
                pctImmig-10  pctSpeakOnlyEng  pctNotSpeakEng  pctLargHousFam  \textbackslash{}
         count  1994.000000      1994.000000     1994.000000     1994.000000   
         mean      3.093526        86.553069        2.538460        5.464789   
         std       4.394828        14.583075        4.384017        3.929894   
         min       0.000000         6.150000        0.000000        0.960000   
         25\%       0.540000        83.697500        0.510000        3.390000   
         50\%       1.380000        91.780000        0.955000        4.290000   
         75\%       3.680000        95.407500        2.467500        5.957500   
         max      32.630000        98.980000       38.330000       34.870000   
         
                pctLargHous  persPerOccupHous  persPerOwnOccup  persPerRenterOccup  \textbackslash{}
         count  1994.000000       1994.000000      1994.000000         1994.000000   
         mean      3.975155          2.613852         2.734152            2.382387   
         std       3.304824          0.324241         0.305629            0.396748   
         min       0.440000          1.580000         1.610000            1.580000   
         25\%       2.360000          2.400000         2.540000            2.120000   
         50\%       3.050000          2.560000         2.700000            2.290000   
         75\%       4.280000          2.770000         2.890000            2.540000   
         max      30.870000          4.520000         4.480000            4.730000   
         
                pctPersOwnOccup  pctPopDenseHous  pctSmallHousUnits  medNumBedrm  \textbackslash{}
         count      1994.000000      1994.000000        1994.000000  1994.000000   
         mean         65.498400         4.325336          45.841665     2.625878   
         std          14.051386         5.831681          13.956304     0.518065   
         min          13.930000         0.050000           3.060000     1.000000   
         25\%          56.562500         1.300000          37.930000     2.000000   
         50\%          64.990000         2.470000          46.785000     3.000000   
         75\%          75.302500         4.920000          54.095000     3.000000   
         max          96.590000        59.490000          95.340000     4.000000   
         
                  houseVacant  pctHousOccup  pctHousOwnerOccup  pctVacantBoarded  \textbackslash{}
         count    1994.000000   1994.000000        1994.000000       1994.000000   
         mean     1733.037111     92.705336          62.631605          2.791294   
         std      5890.906929      5.205928          13.846416          3.445913   
         min        36.000000     37.470000          16.860000          0.000000   
         25\%       310.000000     90.982500          54.090000          0.780000   
         50\%       582.500000     93.985000          62.080000          1.740000   
         75\%      1280.500000     95.910000          71.595000          3.520000   
         max    172768.000000     99.000000          96.360000         39.890000   
         
                pctVacant6up  medYrHousBuilt  pctHousWOphone  pctHousWOplumb  \textbackslash{}
         count   1994.000000     1994.000000     1994.000000     1994.000000   
         mean      35.149032     1962.697091        4.445502        0.437668   
         std       13.989683       11.153471        4.119521        0.434325   
         min        3.120000     1939.000000        0.000000        0.000000   
         25\%       24.737500     1956.000000        0.980000        0.180000   
         50\%       34.525000     1964.000000        3.090000        0.330000   
         75\%       44.260000     1971.000000        7.080000        0.570000   
         max       82.130000     1987.000000       23.630000        5.330000   
         
                  ownHousLowQ     ownHousMed   ownHousUperQ  ownHousQrange  \textbackslash{}
         count    1994.000000    1994.000000    1994.000000    1994.000000   
         mean    91116.201103  116102.414243  149007.191575   57890.990471   
         std     68581.851565   83971.437925  101124.665073   39527.424643   
         min     15700.000000   26600.000000   36700.000000       0.000000   
         25\%     41800.000000   56700.000000   74800.000000   32925.000000   
         50\%     65900.000000   84600.000000  109500.000000   44250.000000   
         75\%    126800.000000  156250.000000  192850.000000   67475.000000   
         max    500001.000000  500001.000000  500001.000000  331000.000000   
         
                   rentLowQ      rentMed   rentUpperQ   rentQrange  medGrossRent  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000  1994.000000   1994.000000   
         mean    328.062688   428.447844   528.368104   200.305416    502.730191   
         std     146.381388   174.548134   203.360888    86.724596    172.522021   
         min      99.000000   120.000000   182.000000     0.000000    192.000000   
         25\%     210.000000   286.000000   361.250000   139.000000    363.000000   
         50\%     305.000000   394.000000   484.000000   173.000000    467.000000   
         75\%     420.000000   547.750000   667.750000   241.000000    621.000000   
         max    1001.000000  1001.000000  1001.000000   803.000000   1001.000000   
         
                medRentpctHousInc  medOwnCostpct  medOwnCostPctWO  persEmergShelt  \textbackslash{}
         count        1994.000000    1994.000000      1994.000000     1994.000000   
         mean           26.328034      21.209579        13.025125       67.714644   
         std             2.924401       2.968310         1.451879      581.134713   
         min            14.900000      14.100000        10.100000        0.000000   
         25\%            24.300000      19.100000        11.900000        0.000000   
         50\%            26.200000      21.200000        12.800000        0.000000   
         75\%            28.100000      23.300000        13.800000       24.000000   
         max            35.100000      32.700000        23.400000    23383.000000   
         
                persHomeless  pctForeignBorn  pctBornStateResid  pctSameHouse-5  \textbackslash{}
         count   1994.000000     1994.000000        1994.000000     1994.000000   
         mean      18.712136        7.605807          60.499870       51.323862   
         std      256.203872        8.698456          17.059482       10.659650   
         min        0.000000        0.180000           6.750000       11.830000   
         25\%        0.000000        2.080000          48.865000       44.677500   
         50\%        0.000000        4.490000          62.520000       51.870000   
         75\%        1.000000        9.585000          74.375000       58.505000   
         max    10447.000000       60.400000          93.140000       78.560000   
         
                pctSameCounty-5  pctSameState-5     numPolice  policePerPop  \textbackslash{}
         count      1994.000000     1994.000000    319.000000    319.000000   
         mean         77.114127       87.732728    458.705329    248.124545   
         std          10.791485        7.448660   1592.131707    282.478835   
         min          27.950000       32.830000     65.000000     29.400000   
         25\%          71.922500       84.732500    131.000000    149.115000   
         50\%          79.315000       89.635000    173.000000    196.010000   
         75\%          84.700000       92.730000    314.000000    260.760000   
         max          96.590000       99.900000  25655.000000   3437.230000   
         
                 policeField  policeFieldPerPop   policeCalls  policCallPerPop  \textbackslash{}
         count    319.000000         319.000000  3.190000e+02     3.190000e+02   
         mean     395.865204         211.324577  2.405102e+05     1.222802e+05   
         std     1409.391442         243.028661  6.719307e+05     1.527058e+05   
         min       14.000000          19.210000  8.100000e+03     2.704800e+03   
         25\%      113.500000         130.425000  4.986450e+04     6.548610e+04   
         50\%      152.000000         170.160000  8.920500e+04     9.103460e+04   
         75\%      283.000000         226.815000  1.741710e+05     1.318935e+05   
         max    22496.000000        3290.620000  8.328470e+06     1.926282e+06   
         
                policCallPerOffic  policePerPop2  racialMatch  pctPolicWhite  \textbackslash{}
         count         319.000000     319.000000   319.000000     319.000000   
         mean          526.782445     248.127900    85.488589      82.534483   
         std           309.316633     282.478075    10.953357      15.265686   
         min            41.400000      29.400000    42.150000       1.600000   
         25\%           342.950000     149.150000    79.435000      76.365000   
         50\%           444.800000     196.000000    87.950000      86.180000   
         75\%           646.050000     260.750000    93.620000      93.095000   
         max          2162.500000    3437.200000   100.000000     100.000000   
         
                pctPolicBlack  pctPolicHisp  pctPolicAsian  pctPolicMinority  \textbackslash{}
         count     319.000000    319.000000     319.000000        319.000000   
         mean        8.983448      5.682508       0.708840         15.200502   
         std        10.593031     10.938940       1.760632         14.756324   
         min         0.000000      0.000000       0.000000          0.000000   
         25\%         2.055000      0.450000       0.000000          5.050000   
         50\%         4.840000      2.110000       0.000000         11.390000   
         75\%        13.355000      6.490000       0.665000         19.685000   
         max        67.310000     98.400000      18.570000         98.400000   
         
                officDrugUnits  numDiffDrugsSeiz  policAveOT     landArea  \textbackslash{}
         count      319.000000        319.000000  319.000000  1994.000000   
         mean        25.874608          8.783699  119.837618    27.962889   
         std        103.769959          2.845097   93.784849   114.827752   
         min          0.000000          1.000000    0.000000     0.900000   
         25\%          6.000000          7.000000   55.100000     7.400000   
         50\%         12.000000          9.000000   99.000000    13.700000   
         75\%         23.000000         10.500000  153.550000    25.775000   
         max       1773.000000         15.000000  634.700000  3569.800000   
         
                  popDensity  pctUsePubTrans  policCarsAvail  policOperBudget  \textbackslash{}
         count   1994.000000     1994.000000      319.000000     3.190000e+02   
         mean    2789.862487        3.062944      177.341693     2.896217e+07   
         std     2920.185784        4.963083      285.011143     9.899444e+07   
         min       10.000000        0.000000       20.000000     2.380215e+06   
         25\%     1170.825000        0.350000       54.000000     7.247164e+06   
         50\%     1996.100000        1.220000       86.000000     1.075497e+07   
         75\%     3270.400000        3.377500      191.000000     2.047340e+07   
         max    44229.900000       54.330000     3187.000000     1.617293e+09   
         
                pctPolicPatrol    gangUnit  pctOfficDrugUnit  policBudgetPerPop  \textbackslash{}
         count      319.000000  319.000000       1994.000000       3.190000e+02   
         mean        86.773166    4.404389          1.009965       1.545895e+05   
         std         10.558743    4.058082          2.913227       2.095457e+05   
         min         10.850000    0.000000          0.000000       1.526040e+04   
         25\%         83.870000    0.000000          0.000000       8.686910e+04   
         50\%         89.440000    5.000000          0.000000       1.145820e+05   
         75\%         93.065000   10.000000          0.000000       1.569612e+05   
         max         99.940000   10.000000         48.440000       2.422367e+06   
         
                violentPerPop  
         count    1994.000000  
         mean      589.078922  
         std       614.784518  
         min         0.000000  
         25\%       161.700000  
         50\%       374.060000  
         75\%       794.400000  
         max      4877.060000  
\end{Verbatim}
            
    Most columns are numeric:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{dtypes}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:} float64    100
         int64       28
         object       2
         dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{communityname}\PY{p}{[}\PY{o}{\PYZti{}}\PY{n}{crimes}\PY{o}{.}\PY{n}{communityname}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{contains}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{city|township|borough|town|village|district|division}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:} 1478    TwentyninePalms-MorongoValle
         Name: communityname, dtype: object
\end{Verbatim}
            
    We split of the type of community as that might be an important feature

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k+kn}{import} \PY{n+nn}{re}
         \PY{k}{def} \PY{n+nf}{findCommunityType}\PY{p}{(}\PY{n}{community}\PY{p}{)}\PY{p}{:}
             \PY{n}{match} \PY{o}{=} \PY{n}{re}\PY{o}{.}\PY{n}{search}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{city|township|borough|town|village|district|division}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{community}\PY{p}{)}
             \PY{k}{if} \PY{n}{match}\PY{p}{:}
                 \PY{n}{title} \PY{o}{=} \PY{n}{match}\PY{o}{.}\PY{n}{group}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
                 \PY{k}{return} \PY{n}{title}
             \PY{k}{else}\PY{p}{:}
                 \PY{k}{return} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Other}\PY{l+s+s2}{\PYZdq{}}
         
         \PY{n}{crimes}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{communityType}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{communityname}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{findCommunityType}\PY{p}{)}
         
         \PY{n}{crimes}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{communityType}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:} city        1448
         town         274
         township     177
         borough       79
         village       12
         division       2
         district       1
         Other          1
         Name: communityType, dtype: int64
\end{Verbatim}
            
    Now we want to split of the communitytype from the communityname to
clean it up.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{communityname} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{communityname}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{communityType}\PY{p}{[}\PY{n}{crimes}\PY{o}{.}\PY{n}{communityType}\PY{o}{.}\PY{n}{notnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{regex} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    We drop the communityname

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{communityname}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis} \PY{o}{=} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    We split the features in types

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n}{nominal\PYZus{}features} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{O}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
         \PY{n}{numerical\PYZus{}features} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{n}{np}\PY{o}{.}\PY{n}{number}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
         \PY{n}{target} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ViolentPerPop}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{nominal\PYZus{}features}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}20}]:} ['State', 'communityType']
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{O}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}21}]:}        State communityType
         count   1994          1994
         unique    46             8
         top       CA          city
         freq     278          1448
\end{Verbatim}
            
    We check if the types of the fields are right

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{float}\PY{p}{]}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:}        countyCode  communityCode     perHoush     pctBlack     pctWhite  \textbackslash{}
         count  820.000000     817.000000  1994.000000  1994.000000  1994.000000   
         mean    58.826829   46188.336597     2.706810     9.509694    83.489218   
         std    126.420560   25299.726569     0.343156    14.101979    16.393607   
         min      1.000000      70.000000     1.600000     0.000000     2.680000   
         25\%      9.000000   25065.000000     2.490000     0.940000    75.882500   
         50\%     23.000000   48090.000000     2.650000     3.150000    89.605000   
         75\%     59.500000   66660.000000     2.850000    11.965000    95.987500   
         max    840.000000   94597.000000     5.280000    96.670000    99.630000   
         
                   pctAsian      pctHisp     pct12-21     pct12-29     pct16-24  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000  1994.000000  1994.000000   
         mean      2.750787     8.481610    14.431214    27.617357    13.985421   
         std       4.648200    15.208788     4.478570     6.148044     5.896879   
         min       0.030000     0.120000     4.580000     9.380000     4.640000   
         25\%       0.612500     0.920000    12.230000    24.380000    11.340000   
         50\%       1.240000     2.340000    13.620000    26.765000    12.540000   
         75\%       2.737500     8.610000    15.387500    29.180000    14.357500   
         max      57.460000    95.290000    54.400000    70.510000    63.620000   
         
                    pct65up     pctUrban     pctWwage     pctWfarm      pctWdiv  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000  1994.000000  1994.000000   
         mean     12.004599    69.621545    78.079960     0.893325    43.364569   
         std       4.803906    44.478865     7.844073     0.700974    12.753381   
         min       1.660000     0.000000    31.680000     0.000000     7.910000   
         25\%       8.922500     0.000000    73.225000     0.470000    34.190000   
         50\%      11.855000   100.000000    78.380000     0.700000    42.380000   
         75\%      14.547500   100.000000    83.705000     1.110000    52.067500   
         max      52.770000   100.000000    96.620000     6.530000    89.040000   
         
                 pctWsocsec   pctPubAsst    pctRetire    otherPerCap   pctPoverty  \textbackslash{}
         count  1994.000000  1994.000000  1994.000000    1993.000000  1994.000000   
         mean     26.659569     6.805782    16.064313    9375.033618    11.795933   
         std       8.239384     4.490332     4.560049    7969.199401     8.509501   
         min       4.810000     0.500000     3.460000       0.000000     0.640000   
         25\%      20.982500     3.362500    12.990000    5500.000000     4.692500   
         50\%      26.785000     5.720000    15.660000    8144.000000     9.650000   
         75\%      31.840000     9.150000    18.777500   11378.000000    17.077500   
         max      76.390000    26.920000    45.510000  137000.000000    48.820000   
         
                  pctLowEdu  pctNotHSgrad  pctCollGrad  pctUnemploy    pctEmploy  \textbackslash{}
         count  1994.000000   1994.000000  1994.000000  1994.000000  1994.000000   
         mean      9.444203     22.700687    22.991550     6.023862    61.777407   
         std       6.843854     11.061712    12.514273     2.725405     8.108373   
         min       0.200000      2.090000     1.630000     1.320000    24.820000   
         25\%       4.770000     14.195000    14.090000     4.090000    56.352500   
         50\%       7.920000     21.655000    19.625000     5.485000    62.270000   
         75\%      12.245000     29.665000    28.935000     7.430000    67.505000   
         max      49.890000     73.660000    73.630000    23.830000    84.670000   
         
                pctEmployMfg  pctEmployProfServ  pctOccupManu  pctOccupMgmt  \textbackslash{}
         count   1994.000000        1994.000000   1994.000000   1994.000000   
         mean      17.788902          24.575105     13.747277     28.253806   
         std        8.109212           6.654011      6.409730      9.262147   
         min        2.050000           8.690000      1.370000      6.480000   
         25\%       11.940000          20.110000      9.072500     21.920000   
         50\%       16.665000          23.415000     13.040000     26.295000   
         75\%       22.755000          27.627500     17.465000     32.892500   
         max       50.030000          62.670000     44.270000     64.970000   
         
                pctMaleDivorc  pctMaleNevMar  pctFemDivorc  pctAllDivorc   persPerFam  \textbackslash{}
         count    1994.000000    1994.000000   1994.000000   1994.000000  1994.000000   
         mean        9.179649      30.667583     12.400557     10.876605     3.128771   
         std         2.790251       8.097243      3.254299      2.988938     0.248587   
         min         2.130000      12.060000      3.350000      2.830000     2.290000   
         25\%         7.162500      25.410000      9.940000      8.640000     2.990000   
         50\%         9.240000      28.995000     12.630000     11.040000     3.095000   
         75\%        11.110000      33.470000     14.800000     13.057500     3.220000   
         max        19.090000      76.320000     23.460000     19.110000     4.640000   
         
                    pct2Par  pctKids2Par  pctKids-4w2Par  pct12-17w2Par  pctWorkMom-6  \textbackslash{}
         count  1994.000000  1994.000000     1994.000000    1994.000000   1994.000000   
         mean     73.900848    70.905045       81.750361      75.336590     60.434067   
         std      10.301559    11.845832       12.023906      10.244307      7.932718   
         min      32.240000    26.110000       27.430000      30.640000     24.420000   
         25\%      67.672500    63.622500       74.420000      69.925000     55.450000   
         50\%      74.770000    72.065000       83.770000      76.665000     60.705000   
         75\%      81.645000    79.817500       91.437500      82.515000     65.797500   
         max      93.600000    92.580000      100.000000      97.340000     87.970000   
         
                pctWorkMom-18  pctKidsBornNevrMarr  pctFgnImmig-3  pctFgnImmig-5  \textbackslash{}
         count    1994.000000          1994.000000    1994.000000    1994.000000   
         mean       68.796555             3.139739      13.733932      20.828255   
         std         6.588541             3.074032       9.833337      12.418674   
         min        41.950000             0.000000       0.000000       0.000000   
         25\%        64.962500             1.082500       6.942500      11.700000   
         50\%        69.255000             2.080000      12.440000      19.645000   
         75\%        73.337500             3.980000      18.090000      27.690000   
         max        89.370000            24.190000      64.290000      76.160000   
         
                pctFgnImmig-8  pctFgnImmig-10   pctImmig-3   pctImmig-5   pctImmig-8  \textbackslash{}
         count    1994.000000     1994.000000  1994.000000  1994.000000  1994.000000   
         mean       28.124539       35.476851     1.148546     1.780843     2.423716   
         std        14.300138       16.175497     1.647623     2.543636     3.398548   
         min         0.000000        0.000000     0.000000     0.000000     0.000000   
         25\%        17.910000       23.542500     0.180000     0.290000     0.410000   
         50\%        27.460000       35.575000     0.530000     0.780000     1.080000   
         75\%        37.070000       46.812500     1.370000     2.180000     2.870000   
         max        80.810000       88.000000    13.710000    19.930000    25.340000   
         
                pctImmig-10  pctSpeakOnlyEng  pctNotSpeakEng  pctLargHousFam  \textbackslash{}
         count  1994.000000      1994.000000     1994.000000     1994.000000   
         mean      3.093526        86.553069        2.538460        5.464789   
         std       4.394828        14.583075        4.384017        3.929894   
         min       0.000000         6.150000        0.000000        0.960000   
         25\%       0.540000        83.697500        0.510000        3.390000   
         50\%       1.380000        91.780000        0.955000        4.290000   
         75\%       3.680000        95.407500        2.467500        5.957500   
         max      32.630000        98.980000       38.330000       34.870000   
         
                pctLargHous  persPerOccupHous  persPerOwnOccup  persPerRenterOccup  \textbackslash{}
         count  1994.000000       1994.000000      1994.000000         1994.000000   
         mean      3.975155          2.613852         2.734152            2.382387   
         std       3.304824          0.324241         0.305629            0.396748   
         min       0.440000          1.580000         1.610000            1.580000   
         25\%       2.360000          2.400000         2.540000            2.120000   
         50\%       3.050000          2.560000         2.700000            2.290000   
         75\%       4.280000          2.770000         2.890000            2.540000   
         max      30.870000          4.520000         4.480000            4.730000   
         
                pctPersOwnOccup  pctPopDenseHous  pctSmallHousUnits  pctHousOccup  \textbackslash{}
         count      1994.000000      1994.000000        1994.000000   1994.000000   
         mean         65.498400         4.325336          45.841665     92.705336   
         std          14.051386         5.831681          13.956304      5.205928   
         min          13.930000         0.050000           3.060000     37.470000   
         25\%          56.562500         1.300000          37.930000     90.982500   
         50\%          64.990000         2.470000          46.785000     93.985000   
         75\%          75.302500         4.920000          54.095000     95.910000   
         max          96.590000        59.490000          95.340000     99.000000   
         
                pctHousOwnerOccup  pctVacantBoarded  pctVacant6up  pctHousWOphone  \textbackslash{}
         count        1994.000000       1994.000000   1994.000000     1994.000000   
         mean           62.631605          2.791294     35.149032        4.445502   
         std            13.846416          3.445913     13.989683        4.119521   
         min            16.860000          0.000000      3.120000        0.000000   
         25\%            54.090000          0.780000     24.737500        0.980000   
         50\%            62.080000          1.740000     34.525000        3.090000   
         75\%            71.595000          3.520000     44.260000        7.080000   
         max            96.360000         39.890000     82.130000       23.630000   
         
                pctHousWOplumb  medRentpctHousInc  medOwnCostpct  medOwnCostPctWO  \textbackslash{}
         count     1994.000000        1994.000000    1994.000000      1994.000000   
         mean         0.437668          26.328034      21.209579        13.025125   
         std          0.434325           2.924401       2.968310         1.451879   
         min          0.000000          14.900000      14.100000        10.100000   
         25\%          0.180000          24.300000      19.100000        11.900000   
         50\%          0.330000          26.200000      21.200000        12.800000   
         75\%          0.570000          28.100000      23.300000        13.800000   
         max          5.330000          35.100000      32.700000        23.400000   
         
                pctForeignBorn  pctBornStateResid  pctSameHouse-5  pctSameCounty-5  \textbackslash{}
         count     1994.000000        1994.000000     1994.000000      1994.000000   
         mean         7.605807          60.499870       51.323862        77.114127   
         std          8.698456          17.059482       10.659650        10.791485   
         min          0.180000           6.750000       11.830000        27.950000   
         25\%          2.080000          48.865000       44.677500        71.922500   
         50\%          4.490000          62.520000       51.870000        79.315000   
         75\%          9.585000          74.375000       58.505000        84.700000   
         max         60.400000          93.140000       78.560000        96.590000   
         
                pctSameState-5     numPolice  policePerPop   policeField  \textbackslash{}
         count     1994.000000    319.000000    319.000000    319.000000   
         mean        87.732728    458.705329    248.124545    395.865204   
         std          7.448660   1592.131707    282.478835   1409.391442   
         min         32.830000     65.000000     29.400000     14.000000   
         25\%         84.732500    131.000000    149.115000    113.500000   
         50\%         89.635000    173.000000    196.010000    152.000000   
         75\%         92.730000    314.000000    260.760000    283.000000   
         max         99.900000  25655.000000   3437.230000  22496.000000   
         
                policeFieldPerPop   policeCalls  policCallPerPop  policCallPerOffic  \textbackslash{}
         count         319.000000  3.190000e+02     3.190000e+02         319.000000   
         mean          211.324577  2.405102e+05     1.222802e+05         526.782445   
         std           243.028661  6.719307e+05     1.527058e+05         309.316633   
         min            19.210000  8.100000e+03     2.704800e+03          41.400000   
         25\%           130.425000  4.986450e+04     6.548610e+04         342.950000   
         50\%           170.160000  8.920500e+04     9.103460e+04         444.800000   
         75\%           226.815000  1.741710e+05     1.318935e+05         646.050000   
         max          3290.620000  8.328470e+06     1.926282e+06        2162.500000   
         
                policePerPop2  racialMatch  pctPolicWhite  pctPolicBlack  pctPolicHisp  \textbackslash{}
         count     319.000000   319.000000     319.000000     319.000000    319.000000   
         mean      248.127900    85.488589      82.534483       8.983448      5.682508   
         std       282.478075    10.953357      15.265686      10.593031     10.938940   
         min        29.400000    42.150000       1.600000       0.000000      0.000000   
         25\%       149.150000    79.435000      76.365000       2.055000      0.450000   
         50\%       196.000000    87.950000      86.180000       4.840000      2.110000   
         75\%       260.750000    93.620000      93.095000      13.355000      6.490000   
         max      3437.200000   100.000000     100.000000      67.310000     98.400000   
         
                pctPolicAsian  pctPolicMinority  officDrugUnits  numDiffDrugsSeiz  \textbackslash{}
         count     319.000000        319.000000      319.000000        319.000000   
         mean        0.708840         15.200502       25.874608          8.783699   
         std         1.760632         14.756324      103.769959          2.845097   
         min         0.000000          0.000000        0.000000          1.000000   
         25\%         0.000000          5.050000        6.000000          7.000000   
         50\%         0.000000         11.390000       12.000000          9.000000   
         75\%         0.665000         19.685000       23.000000         10.500000   
         max        18.570000         98.400000     1773.000000         15.000000   
         
                policAveOT     landArea    popDensity  pctUsePubTrans  policCarsAvail  \textbackslash{}
         count  319.000000  1994.000000   1994.000000     1994.000000      319.000000   
         mean   119.837618    27.962889   2789.862487        3.062944      177.341693   
         std     93.784849   114.827752   2920.185784        4.963083      285.011143   
         min      0.000000     0.900000     10.000000        0.000000       20.000000   
         25\%     55.100000     7.400000   1170.825000        0.350000       54.000000   
         50\%     99.000000    13.700000   1996.100000        1.220000       86.000000   
         75\%    153.550000    25.775000   3270.400000        3.377500      191.000000   
         max    634.700000  3569.800000  44229.900000       54.330000     3187.000000   
         
                policOperBudget  pctPolicPatrol    gangUnit  pctOfficDrugUnit  \textbackslash{}
         count     3.190000e+02      319.000000  319.000000       1994.000000   
         mean      2.896217e+07       86.773166    4.404389          1.009965   
         std       9.899444e+07       10.558743    4.058082          2.913227   
         min       2.380215e+06       10.850000    0.000000          0.000000   
         25\%       7.247164e+06       83.870000    0.000000          0.000000   
         50\%       1.075497e+07       89.440000    5.000000          0.000000   
         75\%       2.047340e+07       93.065000   10.000000          0.000000   
         max       1.617293e+09       99.940000   10.000000         48.440000   
         
                policBudgetPerPop  violentPerPop  
         count       3.190000e+02    1994.000000  
         mean        1.545895e+05     589.078922  
         std         2.095457e+05     614.784518  
         min         1.526040e+04       0.000000  
         25\%         8.686910e+04     161.700000  
         50\%         1.145820e+05     374.060000  
         75\%         1.569612e+05     794.400000  
         max         2.422367e+06    4877.060000  
\end{Verbatim}
            
    Split the variables in numberic and categorical.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{n}{numerical\PYZus{}features}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:} ['countyCode',
          'communityCode',
          'fold',
          'pop',
          'perHoush',
          'pctBlack',
          'pctWhite',
          'pctAsian',
          'pctHisp',
          'pct12-21',
          'pct12-29',
          'pct16-24',
          'pct65up',
          'persUrban',
          'pctUrban',
          'medIncome',
          'pctWwage',
          'pctWfarm',
          'pctWdiv',
          'pctWsocsec',
          'pctPubAsst',
          'pctRetire',
          'medFamIncome',
          'perCapInc',
          'whitePerCap',
          'blackPerCap',
          'NAperCap',
          'asianPerCap',
          'otherPerCap',
          'hispPerCap',
          'persPoverty',
          'pctPoverty',
          'pctLowEdu',
          'pctNotHSgrad',
          'pctCollGrad',
          'pctUnemploy',
          'pctEmploy',
          'pctEmployMfg',
          'pctEmployProfServ',
          'pctOccupManu',
          'pctOccupMgmt',
          'pctMaleDivorc',
          'pctMaleNevMar',
          'pctFemDivorc',
          'pctAllDivorc',
          'persPerFam',
          'pct2Par',
          'pctKids2Par',
          'pctKids-4w2Par',
          'pct12-17w2Par',
          'pctWorkMom-6',
          'pctWorkMom-18',
          'kidsBornNevrMarr',
          'pctKidsBornNevrMarr',
          'numForeignBorn',
          'pctFgnImmig-3',
          'pctFgnImmig-5',
          'pctFgnImmig-8',
          'pctFgnImmig-10',
          'pctImmig-3',
          'pctImmig-5',
          'pctImmig-8',
          'pctImmig-10',
          'pctSpeakOnlyEng',
          'pctNotSpeakEng',
          'pctLargHousFam',
          'pctLargHous',
          'persPerOccupHous',
          'persPerOwnOccup',
          'persPerRenterOccup',
          'pctPersOwnOccup',
          'pctPopDenseHous',
          'pctSmallHousUnits',
          'medNumBedrm',
          'houseVacant',
          'pctHousOccup',
          'pctHousOwnerOccup',
          'pctVacantBoarded',
          'pctVacant6up',
          'medYrHousBuilt',
          'pctHousWOphone',
          'pctHousWOplumb',
          'ownHousLowQ',
          'ownHousMed',
          'ownHousUperQ',
          'ownHousQrange',
          'rentLowQ',
          'rentMed',
          'rentUpperQ',
          'rentQrange',
          'medGrossRent',
          'medRentpctHousInc',
          'medOwnCostpct',
          'medOwnCostPctWO',
          'persEmergShelt',
          'persHomeless',
          'pctForeignBorn',
          'pctBornStateResid',
          'pctSameHouse-5',
          'pctSameCounty-5',
          'pctSameState-5',
          'numPolice',
          'policePerPop',
          'policeField',
          'policeFieldPerPop',
          'policeCalls',
          'policCallPerPop',
          'policCallPerOffic',
          'policePerPop2',
          'racialMatch',
          'pctPolicWhite',
          'pctPolicBlack',
          'pctPolicHisp',
          'pctPolicAsian',
          'pctPolicMinority',
          'officDrugUnits',
          'numDiffDrugsSeiz',
          'policAveOT',
          'landArea',
          'popDensity',
          'pctUsePubTrans',
          'policCarsAvail',
          'policOperBudget',
          'pctPolicPatrol',
          'gangUnit',
          'pctOfficDrugUnit',
          'policBudgetPerPop',
          'violentPerPop']
\end{Verbatim}
            
    \subsubsection{Numeric variables}\label{numeric-variables}

    We make histograms and boxplots of the different numerical columns.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{import} \PY{n+nn}{dash}
        \PY{k+kn}{import} \PY{n+nn}{dash\PYZus{}core\PYZus{}components} \PY{k}{as} \PY{n+nn}{dcc}
        \PY{k+kn}{import} \PY{n+nn}{dash\PYZus{}html\PYZus{}components} \PY{k}{as} \PY{n+nn}{html}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{graph\PYZus{}objs} \PY{k}{as} \PY{n+nn}{go}
        \PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{figure\PYZus{}factory} \PY{k}{as} \PY{n+nn}{ff}
        
        \PY{n}{app} \PY{o}{=} \PY{n}{dash}\PY{o}{.}\PY{n}{Dash}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{available\PYZus{}indicators} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{columns}
        
        
        \PY{n}{app}\PY{o}{.}\PY{n}{layout} \PY{o}{=} \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
            \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
        
                \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Dropdown}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{available\PYZus{}indicators}\PY{p}{]}\PY{p}{,}
                        \PY{c+c1}{\PYZsh{}value=\PYZsq{}Fertility rate, total (births per woman)\PYZsq{}}
                    \PY{p}{)}\PY{p}{,}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{RadioItems}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Log}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                        \PY{n}{value}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{labelStyle}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
                    \PY{p}{)}\PY{p}{,}
                    
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Graph}\PY{p}{(}\PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{histograms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                \PY{p}{]}\PY{p}{,}
                \PY{n}{style}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{48}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{,}
        
                \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Dropdown}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{available\PYZus{}indicators}\PY{p}{]}\PY{p}{,}
                        \PY{c+c1}{\PYZsh{}value=\PYZsq{}Life expectancy at birth, total (years)\PYZsq{}}
                    \PY{p}{)}\PY{p}{,}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{RadioItems}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Log}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                        \PY{n}{value}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{labelStyle}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
                    \PY{p}{)}\PY{p}{,}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Graph}\PY{p}{(}\PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{boxplots}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                    
                \PY{p}{]}\PY{p}{,}\PY{n}{style}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{48}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
            \PY{p}{]}\PY{p}{)}\PY{p}{,}
            
            
        
        \PY{c+c1}{\PYZsh{}    dcc.Slider(}
         \PY{c+c1}{\PYZsh{}       id=\PYZsq{}year\PYZhy{}\PYZhy{}slider\PYZsq{},}
          \PY{c+c1}{\PYZsh{}      min=df[\PYZsq{}Year\PYZsq{}].min(),}
           \PY{c+c1}{\PYZsh{}     max=df[\PYZsq{}Year\PYZsq{}].max(),}
            \PY{c+c1}{\PYZsh{}    value=df[\PYZsq{}Year\PYZsq{}].max(),}
             \PY{c+c1}{\PYZsh{}   step=None,}
              \PY{c+c1}{\PYZsh{}  marks=\PYZob{}str(year): str(year) for year in df[\PYZsq{}Year\PYZsq{}].unique()\PYZcb{}}
           \PY{c+c1}{\PYZsh{} )}
        \PY{p}{]}\PY{p}{)}
        
        \PY{n+nd}{@app}\PY{o}{.}\PY{n}{callback}\PY{p}{(}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Output}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{histograms}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
             \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
             \PY{p}{]}\PY{p}{)}
        \PY{k}{def} \PY{n+nf}{update\PYZus{}graph}\PY{p}{(}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                         \PY{n}{xaxis\PYZus{}type}\PY{p}{)}\PY{p}{:}
            \PY{c+c1}{\PYZsh{}dff = df[df[\PYZsq{}Year\PYZsq{}] == year\PYZus{}value]}
        
            \PY{k}{return} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{go}\PY{o}{.}\PY{n}{Histogram}\PY{p}{(}
                    \PY{n}{x}\PY{o}{=}\PY{n}{crimes}\PY{p}{[}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{]}
                    \PY{c+c1}{\PYZsh{}text=dff[dff[\PYZsq{}Indicator Name\PYZsq{}] == yaxis\PYZus{}column\PYZus{}name][\PYZsq{}Country Name\PYZsq{}],}
                \PY{p}{)}\PY{p}{]}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{layout}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{go}\PY{o}{.}\PY{n}{Layout}\PY{p}{(}
                    \PY{n}{xaxis}\PY{o}{=}\PY{p}{\PYZob{}}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{xaxis\PYZus{}type} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{log}\PY{l+s+s1}{\PYZsq{}}
                    \PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{margin}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{t}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{0}\PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{hovermode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{closest}\PY{l+s+s1}{\PYZsq{}}
                \PY{p}{)}
            \PY{p}{\PYZcb{}}
        
        \PY{n+nd}{@app}\PY{o}{.}\PY{n}{callback}\PY{p}{(}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Output}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{boxplots}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{)}
        
        
        \PY{k}{def} \PY{n+nf}{update\PYZus{}boxplots}\PY{p}{(}\PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                         \PY{n}{yaxis\PYZus{}type}\PY{p}{)}\PY{p}{:}
            \PY{c+c1}{\PYZsh{}dff = df[df[\PYZsq{}Year\PYZsq{}] == year\PYZus{}value]}
        
             \PY{k}{return} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{go}\PY{o}{.}\PY{n}{Box}\PY{p}{(}
                    \PY{n}{y}\PY{o}{=}\PY{n}{crimes}\PY{p}{[}\PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{]}
                    \PY{c+c1}{\PYZsh{}text=dff[dff[\PYZsq{}Indicator Name\PYZsq{}] == yaxis\PYZus{}column\PYZus{}name][\PYZsq{}Country Name\PYZsq{}],}
                \PY{p}{)}\PY{p}{]}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{layout}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{go}\PY{o}{.}\PY{n}{Layout}\PY{p}{(}
                    \PY{n}{yaxis}\PY{o}{=}\PY{p}{\PYZob{}}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{yaxis\PYZus{}type} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{log}\PY{l+s+s1}{\PYZsq{}}
                    \PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{margin}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{t}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{0}\PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{hovermode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{closest}\PY{l+s+s1}{\PYZsq{}}
                \PY{p}{)}
            \PY{p}{\PYZcb{}}
                
            
        
        \PY{k}{if} \PY{n+nv+vm}{\PYZus{}\PYZus{}name\PYZus{}\PYZus{}} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}\PYZus{}main\PYZus{}\PYZus{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
            \PY{n}{app}\PY{o}{.}\PY{n}{run\PYZus{}server}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{import} \PY{n+nn}{dash}
        \PY{k+kn}{import} \PY{n+nn}{dash\PYZus{}core\PYZus{}components} \PY{k}{as} \PY{n+nn}{dcc}
        \PY{k+kn}{import} \PY{n+nn}{dash\PYZus{}html\PYZus{}components} \PY{k}{as} \PY{n+nn}{html}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{graph\PYZus{}objs} \PY{k}{as} \PY{n+nn}{go}
        \PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{figure\PYZus{}factory} \PY{k}{as} \PY{n+nn}{ff}
        
        \PY{n}{app} \PY{o}{=} \PY{n}{dash}\PY{o}{.}\PY{n}{Dash}\PY{p}{(}\PY{p}{)}
        
        \PY{n}{available\PYZus{}indicators} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{columns}
        
        
        \PY{n}{app}\PY{o}{.}\PY{n}{layout} \PY{o}{=} \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
            \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
        
                \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Dropdown}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{available\PYZus{}indicators}\PY{p}{]}\PY{p}{,}
                        \PY{c+c1}{\PYZsh{}value=\PYZsq{}Fertility rate, total (births per woman)\PYZsq{}}
                    \PY{p}{)}\PY{p}{,}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{RadioItems}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Log}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                        \PY{n}{value}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{labelStyle}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
                    \PY{p}{)}
                \PY{p}{]}\PY{p}{,}
                \PY{n}{style}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{48}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}\PY{p}{,}
        
                \PY{n}{html}\PY{o}{.}\PY{n}{Div}\PY{p}{(}\PY{p}{[}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{Dropdown}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{available\PYZus{}indicators}\PY{p}{]}\PY{p}{,}
                        \PY{c+c1}{\PYZsh{}value=\PYZsq{}Life expectancy at birth, total (years)\PYZsq{}}
                    \PY{p}{)}\PY{p}{,}
                    \PY{n}{dcc}\PY{o}{.}\PY{n}{RadioItems}\PY{p}{(}
                        \PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{options}\PY{o}{=}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{label}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i}\PY{p}{\PYZcb{}} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Log}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                        \PY{n}{value}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                        \PY{n}{labelStyle}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
                    \PY{p}{)}
                \PY{p}{]}\PY{p}{,}\PY{n}{style}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{48}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{inline\PYZhy{}block}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
            \PY{p}{]}\PY{p}{)}\PY{p}{,}
        
            \PY{n}{dcc}\PY{o}{.}\PY{n}{Graph}\PY{p}{(}\PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{indicator\PYZhy{}graphic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{n}{dcc}\PY{o}{.}\PY{n}{Graph}\PY{p}{(}\PY{n+nb}{id}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{distributions}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}    dcc.Slider(}
         \PY{c+c1}{\PYZsh{}       id=\PYZsq{}year\PYZhy{}\PYZhy{}slider\PYZsq{},}
          \PY{c+c1}{\PYZsh{}      min=df[\PYZsq{}Year\PYZsq{}].min(),}
           \PY{c+c1}{\PYZsh{}     max=df[\PYZsq{}Year\PYZsq{}].max(),}
            \PY{c+c1}{\PYZsh{}    value=df[\PYZsq{}Year\PYZsq{}].max(),}
             \PY{c+c1}{\PYZsh{}   step=None,}
              \PY{c+c1}{\PYZsh{}  marks=\PYZob{}str(year): str(year) for year in df[\PYZsq{}Year\PYZsq{}].unique()\PYZcb{}}
           \PY{c+c1}{\PYZsh{} )}
        \PY{p}{]}\PY{p}{)}
        
        \PY{n+nd}{@app}\PY{o}{.}\PY{n}{callback}\PY{p}{(}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Output}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{indicator\PYZhy{}graphic}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
             \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
             \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
             \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{)}
        \PY{k}{def} \PY{n+nf}{update\PYZus{}graph}\PY{p}{(}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,} \PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                         \PY{n}{xaxis\PYZus{}type}\PY{p}{,} \PY{n}{yaxis\PYZus{}type}\PY{p}{)}\PY{p}{:}
            \PY{c+c1}{\PYZsh{}dff = df[df[\PYZsq{}Year\PYZsq{}] == year\PYZus{}value]}
        
            \PY{k}{return} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{data}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}
                    \PY{n}{x}\PY{o}{=}\PY{n}{crimes}\PY{p}{[}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{]}\PY{p}{,}
                    \PY{n}{y}\PY{o}{=}\PY{n}{crimes}\PY{p}{[}\PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{]}\PY{p}{,}
                    \PY{c+c1}{\PYZsh{}text=dff[dff[\PYZsq{}Indicator Name\PYZsq{}] == yaxis\PYZus{}column\PYZus{}name][\PYZsq{}Country Name\PYZsq{}],}
                    \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{markers}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                    \PY{n}{marker}\PY{o}{=}\PY{p}{\PYZob{}}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{15}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{opacity}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.5}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{line}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.5}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{color}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
                    \PY{p}{\PYZcb{}}
                \PY{p}{)}\PY{p}{]}\PY{p}{,}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{layout}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{go}\PY{o}{.}\PY{n}{Layout}\PY{p}{(}
                    \PY{n}{xaxis}\PY{o}{=}\PY{p}{\PYZob{}}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{xaxis\PYZus{}type} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{log}\PY{l+s+s1}{\PYZsq{}}
                    \PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{yaxis}\PY{o}{=}\PY{p}{\PYZob{}}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{yaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{if} \PY{n}{yaxis\PYZus{}type} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Linear}\PY{l+s+s1}{\PYZsq{}} \PY{k}{else} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{log}\PY{l+s+s1}{\PYZsq{}}
                    \PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{margin}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{l}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{b}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{40}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{t}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{10}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{0}\PY{p}{\PYZcb{}}\PY{p}{,}
                    \PY{n}{hovermode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{closest}\PY{l+s+s1}{\PYZsq{}}
                \PY{p}{)}
            \PY{p}{\PYZcb{}}
        
        \PY{n+nd}{@app}\PY{o}{.}\PY{n}{callback}\PY{p}{(}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Output}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{distributions}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{figure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{p}{[}\PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}column}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
            \PY{n}{dash}\PY{o}{.}\PY{n}{dependencies}\PY{o}{.}\PY{n}{Input}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{xaxis\PYZhy{}type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{)}
        
        
        \PY{k}{def} \PY{n+nf}{update\PYZus{}distributions}\PY{p}{(}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                         \PY{n}{xaxis\PYZus{}type}\PY{p}{)}\PY{p}{:}
            \PY{c+c1}{\PYZsh{}dff = df[df[\PYZsq{}Year\PYZsq{}] == year\PYZus{}value]}
        
            \PY{k}{return} \PY{n}{ff}\PY{o}{.}\PY{n}{create\PYZus{}distplot}\PY{p}{(}
                    \PY{n}{hist\PYZus{}data} \PY{o}{=} \PY{p}{[}\PY{n}{crimes}\PY{p}{[}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{]}\PY{p}{]}\PY{p}{,}
                    \PY{n}{group\PYZus{}labels} \PY{o}{=} \PY{p}{[}\PY{n}{crimes}\PY{o}{.}\PY{n}{columns}\PY{p}{]}\PY{p}{,}
                    \PY{n}{rug\PYZus{}text}\PY{o}{=}\PY{n}{xaxis\PYZus{}column\PYZus{}name}\PY{p}{,}
                    
                \PY{p}{)}
                
            
        
        \PY{k}{if} \PY{n+nv+vm}{\PYZus{}\PYZus{}name\PYZus{}\PYZus{}} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}\PYZus{}main\PYZus{}\PYZus{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
            \PY{n}{app}\PY{o}{.}\PY{n}{run\PYZus{}server}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \textbf{Distributions} most variables seem to have exponential or log
distribution, not normal. We will have to scale them to perform better
in the models

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Plotting Numeric Features}
         \PY{c+c1}{\PYZsh{} Looping through and Plotting Numeric features}
         
         \PY{k}{for} \PY{n}{column} \PY{o+ow}{in} \PY{n}{crimes}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{exclude}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{object}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{columns}\PY{p}{:}   
             
             \PY{c+c1}{\PYZsh{} Figure initiation}
             \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{18}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
             \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Distribution plot}
             \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{crimes}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{221}\PY{p}{)}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{} X\PYZhy{}axis Label}
             \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{n}{column}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{} Y\PYZhy{}axis Label}
             \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Density}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Boxplot}
             \PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{crimes}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{222}\PY{p}{)}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{} X\PYZhy{}axis Label}
             \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{n}{column}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{} Y\PYZhy{}axis Label}
             \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Box}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Adding Super Title (One for a whole figure)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{suptitle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Plots for }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{column}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{18}\PY{p}{)}\PY{p}{;}
          
         \PY{c+c1}{\PYZsh{} Printing Chart}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
         
             
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_9.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_10.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_11.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_12.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_13.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_14.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_15.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_16.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_17.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_18.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_19.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_20.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_21.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_22.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_23.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_24.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_25.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_26.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_27.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_28.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_29.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_30.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_31.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_32.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_33.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_34.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_35.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_36.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_37.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_38.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_39.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_40.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_41.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_42.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_43.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_44.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_45.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_46.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_47.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_48.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_49.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_50.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_51.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_52.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_53.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_54.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_55.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_56.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_57.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_58.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_59.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_60.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_61.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_62.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_63.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_64.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_65.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_66.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_67.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_68.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_69.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_70.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_71.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_72.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_73.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_74.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_75.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_76.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_77.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_78.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_79.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_80.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_81.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_82.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_83.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_84.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_85.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_86.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_87.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_88.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_89.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_90.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_91.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_92.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_93.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_94.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_95.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_96.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_97.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_98.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_99.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_100.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_101.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_102.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_103.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_104.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_105.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_106.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_107.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_108.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_109.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_110.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_111.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_112.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_113.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_114.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_115.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_116.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_117.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_118.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_119.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_120.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_121.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_122.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_123.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_124.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_125.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_126.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_127.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{Categorical variables}\label{categorical-variables}

    We make a simple countplot for each variable to see how the records are
distributed over the different categories. We see for instance that most
places are cities. There are way too many community names to be useful.
We see that the data is not sampled evenly over states and over
community types (way more data point from cities).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Plotting categorical Features}
         \PY{c+c1}{\PYZsh{} Looping through and Plotting categorical features}
         
         
         \PY{k}{for} \PY{n}{column} \PY{o+ow}{in} \PY{n}{nominal\PYZus{}features}\PY{p}{:}   
             
             \PY{c+c1}{\PYZsh{} Figure initiation}
             \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
             \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Distribution plot}
             \PY{n}{sns}\PY{o}{.}\PY{n}{countplot}\PY{p}{(}\PY{n}{crimes}\PY{p}{[}\PY{n}{column}\PY{p}{]}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{;}
             \PY{c+c1}{\PYZsh{} X\PYZhy{}axis Label}
             \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{n}{column}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}\PY{p}{;}
            \PY{c+c1}{\PYZsh{} Adding Super Title (One for a whole figure)}
             \PY{n}{plt}\PY{o}{.}\PY{n}{suptitle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count class size for }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{column}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{18}\PY{p}{)}\PY{p}{;}
          
         \PY{c+c1}{\PYZsh{} Printing Chart}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_47_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsection{Examing the missing values and dropping
columns}\label{examing-the-missing-values-and-dropping-columns}

    We use the missing\_no package to visualise the missing values. We see
that some columns have too much missing values to be useful.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{n}{msno}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{n}{crimes}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_50_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{c+c1}{\PYZsh{}percentage nulls per column}
         \PY{n}{missing\PYZus{}perc} \PY{o}{=} \PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{/}\PY{n}{crimes}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    For the columns that have more than half of the values missing we create
a new feature indicating whether it is missing or not and drop the
original column.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{crimes\PYZus{}helper} \PY{o}{=} \PY{n}{crimes}\PY{p}{[}\PY{n}{missing\PYZus{}perc}\PY{p}{[}\PY{n}{missing\PYZus{}perc}\PY{o}{.}\PY{n}{values}\PY{o}{\PYZgt{}}\PY{l+m+mf}{0.5}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{crimes\PYZus{}helper}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}29}]:} Index(['policeField', 'pctPolicMinority', 'numPolice', 'policePerPop',
                'policeFieldPerPop', 'policeCalls', 'policCallPerPop',
                'policCallPerOffic', 'policePerPop2', 'racialMatch', 'pctPolicBlack',
                'pctPolicHisp', 'pctPolicAsian', 'pctPolicWhite', 'officDrugUnits',
                'policAveOT', 'policCarsAvail', 'policOperBudget', 'pctPolicPatrol',
                'gangUnit', 'numDiffDrugsSeiz', 'policBudgetPerPop', 'communityCode',
                'countyCode'],
               dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{crimes\PYZus{}helper}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
             \PY{n}{crimes}\PY{p}{[}\PY{n}{col}\PY{o}{+}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZus{}missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{crimes}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{crimes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}31}]:}      State  countyCode  communityCode  fold      pop  perHoush  pctBlack  \textbackslash{}
         0       NJ        39.0         5320.0     1    11980      3.10      1.37   
         1       PA        45.0        47616.0     1    23123      2.82      0.80   
         2       OR         NaN            NaN     1    29344      2.43      0.74   
         3       NY        35.0        29443.0     1    16656      2.40      1.70   
         5       MO         NaN            NaN     1   140494      2.45      2.51   
         6       MA        21.0        50250.0     1    28700      2.60      1.60   
         7       IN         NaN            NaN     1    59459      2.45     14.20   
         8       ND        17.0        25700.0     1    74111      2.46      0.35   
         9       TX         NaN            NaN     1   103590      2.62     23.14   
         10      TX         NaN            NaN     1    31601      2.54     12.63   
         11      CA         NaN            NaN     1    25158      2.89     21.34   
         12      KY         NaN            NaN     1    40641      2.54     12.18   
         13      AR         NaN            NaN     1    57140      2.74     53.52   
         16      CT         3.0        25990.0     1    45532      2.85      2.65   
         17      CA         NaN            NaN     1   180038      2.62      1.30   
         18      OH         NaN            NaN     1    14869      2.67      2.28   
         19      TX         NaN            NaN     1   261721      2.60      8.41   
         21      NY         NaN            NaN     1  7322564      2.60     28.71   
         22      CA         NaN            NaN     1    26436      3.34     18.97   
         23      NH         9.0        41300.0     1    12183      2.36      0.41   
         24      FL         NaN            NaN     1    16023      2.63     13.79   
         25      AR         NaN            NaN     1    24692      2.54      0.06   
         26      TX         NaN            NaN     1    13842      2.35      0.41   
         27      CA         NaN            NaN     1    88693      2.70      2.92   
         28      WA         NaN            NaN     1    11235      2.60      1.89   
         29      AR         NaN            NaN     1    28259      2.86     42.15   
         30      LA         NaN            NaN     1    11162      2.80     26.96   
         31      TX         NaN            NaN     1   122899      3.84      0.12   
         32      NY        57.0         2066.0     1    20714      2.36      1.46   
         33      ME         5.0        28240.0     1    11856      3.03      0.37   
         {\ldots}    {\ldots}         {\ldots}            {\ldots}   {\ldots}      {\ldots}       {\ldots}       {\ldots}   
         2185    TN         NaN            NaN    10    48949      2.55     40.25   
         2186    CA         NaN            NaN    10    23252      2.19      0.96   
         2187    PA        29.0        60120.0    10    15066      2.40      6.50   
         2188    NJ        21.0        60915.0    10    13198      2.55      6.88   
         2189    CA         NaN            NaN    10    16829      3.17     12.78   
         2190    NJ         3.0        83050.0    10    15372      3.04      0.51   
         2191    NJ        29.0        40560.0    10    13333      2.69      0.68   
         2192    NJ         3.0        72360.0    10    37825      2.91     26.16   
         2193    TX         NaN            NaN    10    29885      3.53      0.47   
         2194    OR         NaN            NaN    10    37520      2.92      0.49   
         2195    CA         NaN            NaN    10    20319      3.02      5.55   
         2196    AL         NaN            NaN    10    77759      2.64     35.49   
         2197    AL         NaN            NaN    10    14904      2.50      7.81   
         2198    NJ         1.0        29430.0    10    12208      2.77      1.14   
         2199    NJ        31.0        79460.0    10    25430      3.03      1.03   
         2200    MA         5.0        23000.0    10    92703      2.49      1.03   
         2201    NJ         1.0        20290.0    10    24544      2.71      9.34   
         2202    CO         NaN            NaN    10    14203      2.97      1.08   
         2203    CA         NaN            NaN    10    27331      2.96      8.32   
         2204    WA         NaN            NaN    10    23875      2.67      0.75   
         2205    TX         NaN            NaN    10    14804      2.60      2.73   
         2206    OK         NaN            NaN    10    21732      2.42      4.26   
         2207    CT         9.0        82870.0    10    54021      2.54     12.43   
         2208    ND       105.0        86220.0    10    13131      2.56      0.11   
         2209    NJ        35.0        43620.0    10    10567      2.57      0.18   
         2210    CA         NaN            NaN    10    56216      3.07      6.87   
         2211    LA         NaN            NaN    10    12251      2.68     21.18   
         2212    CA         NaN            NaN    10    32824      2.46      0.52   
         2213    TX         NaN            NaN    10    13547      2.89      3.37   
         2214    CA         NaN            NaN    10    28898      2.61      2.39   
         
               pctWhite  pctAsian  pctHisp  pct12-21  pct12-29  pct16-24  pct65up  \textbackslash{}
         0        91.78      6.50     1.88     12.47     21.44     10.93    11.33   
         1        95.57      3.44     0.85     11.01     21.30     10.48    17.18   
         2        94.33      3.43     2.35     11.36     25.88     11.01    10.28   
         3        97.35      0.50     0.70     12.55     25.20     12.19    17.57   
         5        95.65      0.90     0.95     18.09     32.89     20.04    13.26   
         6        96.57      1.47     1.10     11.17     27.41     12.76    14.42   
         7        84.87      0.40     0.63     15.31     27.93     14.78    14.60   
         8        97.11      1.25     0.73     16.64     35.16     20.33     8.58   
         9        67.60      0.92    16.35     19.88     34.55     21.62    13.12   
         10       83.22      0.77     4.39     15.73     28.57     15.16    14.26   
         11       49.42     17.21    26.78     13.65     28.82     13.23     9.44   
         12       86.39      1.12     0.68     21.51     36.83     23.96    11.50   
         13       45.65      0.49     0.43     16.51     28.17     14.68    13.38   
         16       95.72      1.04     2.28     11.86     27.51     12.36     9.76   
         17       74.02     14.14    20.96     12.04     26.68     12.37    11.54   
         18       94.74      2.67     0.74     13.71     20.33      9.48    12.38   
         19       82.64      3.92     8.91     14.18     32.78     15.14     4.58   
         21       52.26      7.00    24.36     13.06     27.46     13.09    11.62   
         22       53.60     20.84    10.73     16.16     37.22     19.09     4.13   
         23       97.55      1.55     0.91     11.29     26.87     12.20    11.28   
         24       83.94      1.42     2.40     11.91     23.09     10.33    13.65   
         25       97.72      0.77     1.86     12.84     25.81     11.93    14.62   
         26       94.65      1.98     7.95      8.23     18.30      6.98    13.57   
         27       87.36      2.82    13.97     13.77     30.92     15.15     9.65   
         28       82.45      1.82    18.16     14.59     25.62     12.02    13.36   
         29       56.94      0.52     0.50     16.26     28.79     13.83     9.53   
         30       72.26      0.40     0.78     15.43     26.03     12.04    12.78   
         31       70.83      0.38    93.87     19.93     33.12     16.79     7.32   
         32       93.15      0.56    11.61     11.35     23.13     11.19    21.15   
         33       98.84      0.40     0.45     20.11     31.45     19.01     8.63   
         {\ldots}        {\ldots}       {\ldots}      {\ldots}       {\ldots}       {\ldots}       {\ldots}      {\ldots}   
         2185     59.13      0.44     0.53     16.01     28.66     15.45    13.55   
         2186     91.35      1.81    13.75      9.99     20.61     10.00    21.61   
         2187     91.93      1.13     1.17      9.98     27.58     11.45    13.34   
         2188     84.07      7.39     3.98     10.18     22.31      9.41    13.46   
         2189     39.81     43.31    10.45     13.76     24.66     10.40     4.26   
         2190     96.35      2.93     1.62     13.09     21.16     10.79    12.05   
         2191     98.21      0.52     2.27     11.55     23.33     10.16    15.85   
         2192     66.61      5.62     6.27     13.73     23.88     12.80    13.12   
         2193     74.25      0.44    85.89     20.10     34.33     18.31     8.18   
         2194     88.58      2.20    11.20     14.67     27.32     12.40     7.64   
         2195     73.53      6.80    29.84     14.78     32.22     15.93     9.05   
         2196     62.85      1.34     0.77     23.36     38.80     26.50    10.61   
         2197     88.63      2.68     1.66      9.83     30.35     10.27     3.03   
         2198     94.86      0.70     8.56     13.29     25.34     13.25    16.32   
         2199     97.20      0.91     2.13     13.47     25.27     11.47     5.91   
         2200     97.17      1.33     1.70     13.45     27.70     13.93    16.06   
         2201     86.88      2.46     3.04     14.33     26.72     12.34     8.78   
         2202     82.30      1.41    34.61     15.13     27.38     12.31    10.13   
         2203     60.62     12.11    34.24     13.99     33.75     15.53     5.34   
         2204     94.72      2.74     2.06     13.62     25.83     11.67    10.84   
         2205     92.39      0.63     6.42     14.37     25.24     12.75    15.16   
         2206     89.42      0.54     3.44     12.90     22.30     10.07    17.83   
         2207     84.12      2.03     3.57     11.86     27.72     13.18    13.39   
         2208     95.49      0.27     0.66     13.81     24.03     10.78    12.99   
         2209     98.48      0.84     1.66     10.42     24.90     11.10    15.33   
         2210     61.68     15.23    29.86     15.46     30.16     14.34     8.08   
         2211     76.65      1.52     1.29     17.36     31.23     16.97    12.57   
         2212     92.62      0.98    11.00     11.81     20.96      9.53    20.73   
         2213     69.91      0.90    62.11     17.16     30.01     14.73    10.42   
         2214     71.27      9.09    24.43     12.99     25.21     11.63    12.12   
         
               persUrban  pctUrban  medIncome  pctWwage  pctWfarm  pctWdiv  pctWsocsec  \textbackslash{}
         0         11980    100.00      75122     89.24      1.55    70.20       23.62   
         1         23123    100.00      47917     78.99      1.11    64.11       35.50   
         2         29344    100.00      35669     82.00      1.15    55.73       22.25   
         3             0      0.00      20580     68.15      0.24    38.95       39.48   
         5        140494    100.00      21577     75.78      1.00    41.15       29.31   
         6         28700    100.00      42805     79.47      0.39    47.70       30.23   
         7         59449    100.00      23221     71.60      0.67    35.74       32.58   
         8         74115    100.00      25326     83.69      2.93    47.11       19.30   
         9        103590    100.00      17852     74.20      0.86    30.98       29.09   
         10        31596    100.00      24763     73.92      1.54    37.36       32.68   
         11        25158    100.00      25479     73.45      0.00    24.98       22.99   
         12            0      0.00      20043     75.23      1.24    34.02       27.11   
         13        57140    100.00      19143     69.31      0.63    24.41       33.46   
         16        43944     96.51      44635     84.94      0.71    50.24       24.74   
         17       180038    100.00      34372     76.17      0.62    40.04       20.30   
         18        14882    100.00      49851     81.88      0.89    69.45       23.77   
         19       261763    100.00      35048     90.25      0.81    39.01       11.05   
         21      7322564    100.00      29823     73.57      0.48    35.38       24.60   
         22        26436    100.00      29043     90.39      0.53    28.69       10.74   
         23            0      0.00      32221     84.63      0.51    38.36       23.87   
         24        16023    100.00      34934     80.47      0.30    47.11       27.98   
         25            0      0.00      26198     73.97      1.36    42.10       31.04   
         26        13842    100.00      45892     80.46      1.07    65.77       25.19   
         27        88693    100.00      28108     78.15      0.53    34.68       21.99   
         28            0      0.00      23258     72.45      1.78    34.40       27.62   
         29        28259    100.00      22052     77.25      1.32    21.89       25.09   
         30            0      0.00      14874     62.83      0.80    20.56       33.58   
         31       122899    100.00      18395     79.18      1.17    18.24       22.73   
         32            0      0.00      22166     65.00      0.32    47.13       43.79   
         33         3929     33.10      36618     83.22      1.20    51.29       22.01   
         {\ldots}         {\ldots}       {\ldots}        {\ldots}       {\ldots}       {\ldots}      {\ldots}         {\ldots}   
         2185      48949    100.00      21063     73.89      0.79    29.84       31.05   
         2186      23252    100.00      37315     68.08      0.39    50.35       37.54   
         2187      15066    100.00      31848     79.77      0.24    43.96       27.82   
         2188          0      0.00      62288     83.25      1.02    74.03       24.01   
         2189      16829    100.00      56098     94.82      0.45    50.35        7.45   
         2190      15372    100.00      75905     84.89      1.19    71.00       24.73   
         2191          0      0.00      33961     73.32      0.47    41.71       33.84   
         2192      37825    100.00      56598     83.30      0.19    55.86       28.09   
         2193      29885    100.00      18956     78.48      1.31    21.50       24.56   
         2194      37520    100.00      33125     82.82      0.86    42.25       21.09   
         2195      20319    100.00      33554     78.24      0.50    39.21       23.33   
         2196      77759    100.00      19568     76.89      0.50    33.56       24.15   
         2197      14818     99.20      42911     94.64      1.22    55.47        7.51   
         2198          0      0.00      34450     77.06      1.43    45.64       34.44   
         2199          0      0.00      52734     89.11      0.56    50.06       16.95   
         2200      92472     99.75      22452     68.03      0.24    31.43       34.55   
         2201      14731     60.02      37594     85.53      0.65    34.87       20.58   
         2202          0      0.00      27126     79.37      1.38    30.55       23.55   
         2203      27331    100.00      34552     84.87      0.36    30.35       15.01   
         2204      23875    100.00      32849     78.56      0.64    44.84       26.21   
         2205          0      0.00      25208     71.58      1.47    38.74       32.87   
         2206          0      0.00      23393     65.18      1.30    40.33       36.43   
         2207      54021    100.00      35723     81.36      0.65    40.72       28.21   
         2208          0      0.00      22407     75.76      6.53    46.16       29.26   
         2209      10567    100.00      37664     77.02      0.00    48.61       35.90   
         2210      56216    100.00      24727     75.05      1.12    31.42       21.45   
         2211      12251    100.00      20321     75.06      0.47    33.25       27.63   
         2212      32824    100.00      27182     59.79      0.51    44.72       43.40   
         2213          0      0.00      19899     71.67      1.70    21.94       26.44   
         2214      28664     99.19      23287     68.89      1.20    27.54       28.62   
         
               pctPubAsst  pctRetire  medFamIncome  perCapInc  whitePerCap  \textbackslash{}
         0           1.03      18.39         79584      29711        30233   
         1           2.75      22.85         55323      20148        20191   
         2           2.94      14.56         42112      16946        17103   
         3          11.71      18.33         26501      10810        10909   
         5           7.12      14.09         27705      11878        12029   
         6           5.41      17.23         50394      18193        18276   
         7           8.81      22.59         28901      12161        12599   
         8           4.21      10.31         34269      13554        13727   
         9           9.06      13.99         24058      10195        12126   
         10          7.02      15.20         29509      12929        14051   
         11         23.63      13.18         28567      10505        11407   
         12          9.60      13.84         27655      11760        12608   
         13         13.58      14.16         24442       9530        13974   
         16          3.78      18.37         48757      16723        17014   
         17         11.27      11.51         39652      17966        19362   
         18          1.59      19.47         58871      22647        22959   
         19          2.71       9.12         41620      16239        17420   
         21         13.12      12.56         34360      16281        21972   
         22          6.90      15.99         28870      11338        12871   
         23          3.37      10.47         40745      15012        15086   
         24          2.74      23.43         39691      15534        16027   
         25          3.92      16.09         31007      12779        12784   
         26          0.73      15.55         53342      24462        24669   
         27         12.74      16.03         32096      13518        14237   
         28         10.28      16.58         28495      10965        11785   
         29         13.69       9.35         27523      10009        13654   
         30         18.81      11.52         19434       7635         9048   
         31         16.71       7.95         19910       6981         7674   
         32          7.08      21.60         29893      11991        12228   
         33          4.56      14.76         40809      14049        14119   
         {\ldots}          {\ldots}        {\ldots}           {\ldots}        {\ldots}          {\ldots}   
         2185       11.81      15.06         26466      11268        14703   
         2186        2.91      19.23         45832      25926        27404   
         2187        6.00      17.96         39249      15138        15441   
         2188        2.60      15.61         76091      39767        43511   
         2189        4.63       8.85         57808      18948        21837   
         2190        1.45      17.82         80614      33124        33300   
         2191        3.39      22.74         38256      14242        14240   
         2192        2.97      14.24         63957      23867        26765   
         2193       18.87       7.38         20670       7474         8014   
         2194        5.69      13.98         36847      12712        13435   
         2195        8.51      18.63         36112      13552        15003   
         2196        8.16      13.04         28731      11469        14469   
         2197        1.95       9.51         51839      19743        20759   
         2198        4.31      18.34         40877      15640        15833   
         2199        2.44      10.20         55460      19233        19335   
         2200       15.73      17.42         28972      10966        11071   
         2201        2.73      11.91         42113      15863        16273   
         2202        7.36      12.06         32697      12112        11759   
         2203        9.74       8.90         36604      13550        15537   
         2204        7.11      16.93         39266      13576        13755   
         2205        7.99      15.54         32457      11859        12316   
         2206        7.48      17.16         28888      11906        12614   
         2207        4.89      16.83         41907      15810        16291   
         2208        7.36      11.14         29144      11585        11852   
         2209        5.43      25.96         44587      16201        16258   
         2210       19.98      14.41         27388      10237        13041   
         2211        8.85      18.23         25000       9995        11353   
         2212        9.01      23.56         34973      14131        14416   
         2213       13.05      10.29         22103       8100         9555   
         2214       19.05      17.29         27897      11510        13074   
         
               blackPerCap  NAperCap  asianPerCap  otherPerCap  hispPerCap  \textbackslash{}
         0           13600      5725        27101       5115.0       22838   
         1           18137         0        20074       5250.0       12222   
         2           16644     21606        15528       5954.0        8405   
         3            9984      4941         3541       2451.0        4391   
         5            7382     10264        10753       7192.0        8104   
         6           17342     21482        12639      21852.0       22594   
         7            9820      6634         8802       7428.0        6187   
         8            8852      5344         8011       5332.0        5174   
         9            5715     11313         5770       7320.0        6984   
         10           7496      9126         9107       5267.0        4542   
         11          10412      8238         9546       8330.0        7813   
         12           6016      6636         9119       1982.0       16133   
         13           5688      7669        12183      23509.0       10718   
         16           8297     13171        12425      10337.0       11655   
         17          17693     20931        16696       9438.0       11182   
         18          12964     15565        22630       9548.0        7828   
         19          11615     13416        11175       7804.0        9045   
         21          10505     10861        12851       7151.0        8420   
         22          10242      6333         9734       7196.0        8444   
         23          12405     20559         7679       7826.0       11733   
         24          13246      9320        11052       9621.0       14449   
         25              0     13934        12182       9809.0        9511   
         26          12941     16625        36559      10485.0       12650   
         27           9215      9266         9291       7746.0        8951   
         28           6562     18700         5910       6497.0        7045   
         29           5095      5019        15413      10764.0        9752   
         30           3617      6319        39010      29572.0        7060   
         31           2922      5577        13361       5195.0        6331   
         32          15778         0        15243       6326.0        7427   
         33          10291      9093        11443      18000.0        6328   
         {\ldots}           {\ldots}       {\ldots}          {\ldots}          {\ldots}         {\ldots}   
         2185         6238     11620        11791       4393.0        9400   
         2186        12762     14527        14615       8584.0        9041   
         2187        11999         0         4680       7098.0        6760   
         2188        15423         0        23071      10870.0       25589   
         2189        19592     15390        16455      15469.0       14488   
         2190        24098         0        30507       4829.0       16432   
         2191        17059     19982        12768      12647.0       14826   
         2192        18588     15851        17037      11810.0       15561   
         2193         5366    115171        13221       5127.0        5979   
         2194         9093     12721        11832       5196.0        5225   
         2195        10520     11616        11102       8082.0        8373   
         2196         6306     11096         7372       2262.0        5757   
         2197         9664     16912        15294      26658.0       18411   
         2198         8499     44830        58449       6963.0        7777   
         2199        13851     24911        15812       6535.0       11615   
         2200         7851     10843         6669       5365.0        6761   
         2201        12807     12667        13644      14635.0       13429   
         2202        77463     12812        13461       7569.0        7493   
         2203        11207     11224        13451       8100.0        9165   
         2204        10898      8285        10330      10280.0        6639   
         2205         8628      3643         3613       6234.0        7225   
         2206         5381      7991         6164       3436.0        3833   
         2207        13643     14383        11474      11614.0       12975   
         2208            0      4184        26428       1200.0        2568   
         2209         2995     19200        15171       7897.0       13728   
         2210         8344      8590         3399       6470.0        6644   
         2211         5768     10910         1718      11471.0        4883   
         2212        13630     13197        17313       8532.0        9398   
         2213         6437      8271          171       4436.0        5338   
         2214         8163      9874         6827       7540.0        8275   
         
               persPoverty  pctPoverty  pctLowEdu  pctNotHSgrad  pctCollGrad  \textbackslash{}
         0             227        1.96       5.81          9.90        48.18   
         1             885        3.98       5.61         13.72        29.89   
         2            1389        4.75       2.80          9.09        30.13   
         3            2831       17.23      11.05         33.68        10.81   
         5           23223       17.78       8.76         23.03        20.66   
         6            1126        4.01       4.49         13.89        27.01   
         7           10320       17.98      10.09         28.67        12.00   
         8            9603       13.68       5.52         11.27        30.24   
         9           27767       28.68      13.01         31.62        17.02   
         10           4698       15.61       9.07         24.86        19.23   
         11           4689       19.02      14.03         34.18        11.64   
         12           8759       23.91      15.28         28.52        23.41   
         13          15283       27.71      14.49         34.50        16.56   
         16           1262        2.89       6.55         21.62        17.59   
         17          25484       14.37      11.54         22.83        28.55   
         18            340        2.35       1.33          5.95        54.76   
         19          21272        8.21       3.71         12.19        29.99   
         21        1384994       19.29      14.10         31.68        22.98   
         22           2328        9.67       5.80         15.83        17.01   
         23            728        6.07       5.83         17.61        26.78   
         24            904        5.75       4.07         14.21        21.25   
         25           2120        8.72       8.18         22.43        15.11   
         26            460        3.33       2.73          7.59        48.93   
         27          11184       12.92       6.71         21.49        14.45   
         28           1680       15.28      12.99         26.49        14.51   
         29           6410       22.94      15.88         37.55        10.76   
         30           4173       38.27      23.94         44.84        10.82   
         31          45126       37.29      36.26         51.16        11.63   
         32           2756       13.50      12.54         31.33        12.33   
         33            436        4.05       3.90         13.97        26.00   
         {\ldots}           {\ldots}         {\ldots}        {\ldots}           {\ldots}          {\ldots}   
         2185         9796       20.97      13.33         32.56        17.12   
         2186         1643        7.11       3.97         13.82        23.60   
         2187          794        5.36       9.46         25.93        18.95   
         2188          765        5.84       3.31          5.24        73.63   
         2189          353        2.10       3.93          9.73        34.73   
         2190          273        1.82       4.54          9.95        45.50   
         2191          572        4.36       6.35         25.66        10.57   
         2192         1280        3.51       4.46         12.63        40.92   
         2193         9720       33.78      32.85         43.81        19.38   
         2194         3051        8.28       7.93         18.34        19.27   
         2195         1674        8.82       9.27         21.12        15.91   
         2196        18455       26.72      11.40         27.92        27.29   
         2197          617        4.16       2.45          7.58        48.97   
         2198          730        6.16      18.92         34.16        14.86   
         2199         1177        4.67       5.01         14.92        24.91   
         2200        13017       14.28      33.08         53.30         8.43   
         2201         1120        4.58       6.33         23.18        14.66   
         2202         1751       13.11      12.15         29.50        13.03   
         2203         3550       13.07      13.76         30.65        13.11   
         2204         1620        7.01       6.17         16.83        17.67   
         2205         2183       15.45      11.42         29.25        15.82   
         2206         3955       18.48      11.76         27.29        17.94   
         2207         3190        6.06       8.49         25.52        17.18   
         2208         1845       14.46      12.58         23.60        17.45   
         2209          458        4.33      12.84         27.73         9.28   
         2210        13804       25.06      17.12         30.87        15.79   
         2211         2364       20.79      12.51         27.71        19.28   
         2212         2460        7.56       7.82         26.14        12.42   
         2213         4021       30.32      24.37         39.63        12.40   
         2214         5287       18.50      13.93         33.68         8.86   
         
               pctUnemploy  pctEmploy  pctEmployMfg  pctEmployProfServ  pctOccupManu  \textbackslash{}
         0            2.70      64.55         14.65              28.82          5.49   
         1            2.43      61.96         12.26              29.28          6.39   
         2            4.01      69.80         15.95              21.52          8.79   
         3            9.86      54.74         31.22              27.43         26.76   
         5            5.72      59.02         14.31              26.83         14.72   
         6            4.85      65.42         14.02              27.17          8.50   
         7            8.19      56.59         27.00              21.54         21.92   
         8            4.18      68.51          6.89              31.55         11.37   
         9            8.39      51.37         15.73              29.06         16.43   
         10           7.19      57.76         25.33              27.59         15.74   
         11          10.16      55.94         15.39              20.63         17.38   
         12           6.93      58.62         16.08              29.05         15.13   
         13          11.05      51.37         17.94              27.79         18.07   
         16           4.01      68.24         26.12              16.06         13.94   
         17           6.95      60.04         14.43              24.78          9.07   
         18           2.57      66.85         10.06              43.92          2.33   
         19           4.99      74.65         18.91              18.97         10.60   
         21           8.98      56.12         11.41              28.40         11.64   
         22           3.50      75.20          6.69              20.66          9.67   
         23           3.14      69.56         14.87              36.57         11.79   
         24           5.39      64.92         18.44              24.03          9.88   
         25           3.31      63.10         27.42              16.18         22.66   
         26           2.69      70.55          8.73              31.56          3.65   
         27           7.07      61.86         12.47              21.82         11.44   
         28           6.50      57.18         18.92              22.82         16.52   
         29           8.34      59.29         14.03              21.22         19.96   
         30          13.93      42.80          7.98              30.42         14.60   
         31          11.24      51.36          5.40              23.07         14.83   
         32           8.97      52.65         23.60              25.83         19.07   
         33           5.73      67.68         14.71              28.53         13.59   
         {\ldots}           {\ldots}        {\ldots}           {\ldots}                {\ldots}           {\ldots}   
         2185         6.90      57.50         20.79              25.97         17.83   
         2186         4.13      58.93          4.59              19.43          5.03   
         2187         3.76      66.48         23.39              20.69         16.39   
         2188         3.58      62.55          8.50              58.10          1.53   
         2189         4.37      76.77         11.26              21.64          8.80   
         2190         2.25      64.07         18.62              26.99          5.77   
         2191         7.85      55.03         10.27              19.46         12.35   
         2192         4.72      67.21         13.46              35.27          7.77   
         2193        12.69      50.82          8.03              36.79         13.47   
         2194         4.09      68.89         27.80              18.31         15.58   
         2195         4.90      68.64         13.83              18.35         12.41   
         2196         6.93      51.72         11.73              39.97         11.82   
         2197         2.92      77.02         32.69              19.85          4.80   
         2198         4.66      60.62         13.07              19.16         14.58   
         2199         4.49      72.13         18.58              19.59         11.57   
         2200         9.93      55.40         32.56              20.47         28.06   
         2201         4.51      71.24          4.82              17.45         10.25   
         2202         8.17      59.84         15.58              20.11         20.63   
         2203         7.50      67.43         26.92              12.09         15.29   
         2204         5.61      61.46         23.20              22.21         14.94   
         2205         5.21      56.33         18.39              20.07         13.28   
         2206         7.18      50.83         12.67              22.80         13.77   
         2207         5.45      65.53         18.23              23.03         13.64   
         2208         5.88      61.26          3.35              26.95         10.89   
         2209         4.13      65.15         26.55              19.08         20.13   
         2210         9.99      55.53         13.47              27.18         16.38   
         2211         7.90      54.64          7.81              37.06         10.37   
         2212         5.18      50.54          9.34              23.36         13.53   
         2213        12.12      52.53          8.22              25.16         10.63   
         2214         9.27      53.35          9.44              17.75         19.61   
         
               pctOccupMgmt  pctMaleDivorc  pctMaleNevMar  pctFemDivorc  pctAllDivorc  \textbackslash{}
         0            50.73           3.67          26.38          5.22          4.47   
         1            37.64           4.23          27.99          6.45          5.42   
         2            32.48          10.10          25.78         14.76         12.55   
         3            22.71          10.98          28.15         14.47         12.91   
         5            23.42          11.40          33.32         14.46         13.04   
         6            32.78           5.97          36.05          9.06          7.64   
         7            18.02          13.28          28.34         16.33         14.94   
         8            29.43           7.29          40.87          9.94          8.64   
         9            24.30          11.07          38.49         14.66         12.97   
         10           27.28          11.48          27.60         15.26         13.53   
         11           14.03          13.91          35.23         18.96         16.57   
         12           27.47          10.16          39.19         13.43         11.95   
         13           22.71          10.92          30.70         14.18         12.74   
         16           24.73           7.02          32.45          9.76          8.38   
         17           33.09           8.68          34.45         13.33         11.12   
         18           53.30           5.73          22.37         11.09          8.64   
         19           30.91          10.73          30.21         14.79         12.77   
         21           30.55           9.13          41.00         14.02         11.77   
         22           20.38           7.15          24.55         11.83          9.33   
         23           29.23           9.73          28.87         13.85         11.94   
         24           32.44          10.45          23.08         13.36         11.99   
         25           21.56           9.43          20.49         13.38         11.54   
         26           48.83           9.63          23.77         15.57         12.80   
         27           23.15          13.12          31.67         19.09         16.22   
         28           24.61          10.96          24.93         13.25         12.15   
         29           20.04          11.69          29.48         16.28         14.22   
         30           23.57           8.97          25.84         12.76         11.08   
         31           21.99           6.18          32.64         10.95          8.73   
         32           22.91           9.34          29.70         11.80         10.70   
         33           28.01           7.33          32.57         10.65          9.06   
         {\ldots}            {\ldots}            {\ldots}            {\ldots}           {\ldots}           {\ldots}   
         2185         24.26          11.20          31.68         15.26         13.47   
         2186         29.55          11.15          27.63         16.12         13.70   
         2187         22.10           9.88          33.99         13.18         11.62   
         2188         64.97           4.96          27.95          9.57          7.35   
         2189         33.39           6.57          26.16         10.18          8.44   
         2190         47.28           2.98          26.03          5.37          4.23   
         2191         19.82           7.08          23.09          9.28          8.23   
         2192         41.70           5.76          30.50          9.35          7.68   
         2193         30.96           7.67          34.81         12.27         10.12   
         2194         23.25           9.64          26.83         14.19         11.96   
         2195         25.43          11.04          36.20         15.79         13.28   
         2196         31.48           8.85          46.50         12.31         10.68   
         2197         52.41           8.93          24.39         10.89          9.90   
         2198         21.55           7.72          29.01          9.33          8.59   
         2199         29.85           6.49          27.75          7.78          7.13   
         2200         15.82           8.65          30.81         12.05         10.52   
         2201         23.07          10.20          29.85         14.18         12.26   
         2202         18.51          10.37          26.51         14.02         12.20   
         2203         20.30          11.79          41.86         17.54         14.60   
         2204         25.44          11.07          24.96         14.33         12.80   
         2205         24.33          10.00          22.58         14.20         12.28   
         2206         26.96           9.27          18.38         12.61         11.09   
         2207         23.77           9.31          34.47         12.38         10.93   
         2208         23.48           7.83          27.65         10.42          9.20   
         2209         17.54           8.65          31.89          9.29          8.98   
         2210         25.02          10.22          31.91         16.28         13.34   
         2211         28.73          10.86          29.51         16.12         13.77   
         2212         23.54           9.89          20.56         12.38         11.23   
         2213         20.87          10.35          29.18         14.36         12.48   
         2214         17.44          15.77          29.72         18.84         17.31   
         
               persPerFam  pct2Par  pctKids2Par  pctKids-4w2Par  pct12-17w2Par  \textbackslash{}
         0           3.22    91.43        90.17           95.78          95.81   
         1           3.11    86.91        85.33           96.82          86.46   
         2           2.95    78.54        78.85           92.37          75.72   
         3           2.98    64.02        62.36           65.38          67.43   
         5           2.89    71.94        69.79           79.76          75.33   
         6           3.14    79.53        79.76           92.05          77.12   
         7           2.95    62.56        58.70           69.89          62.76   
         8           3.00    79.35        79.70           86.60          80.70   
         9           3.11    61.65        54.56           68.85          61.69   
         10          2.99    68.41        64.64           75.18          70.94   
         11          3.47    58.06        56.36           61.46          57.16   
         12          2.92    64.60        60.70           71.28          67.77   
         13          3.26    58.65        50.22           63.07          59.70   
         16          3.13    81.96        79.92           91.04          80.39   
         17          3.22    77.10        74.78           86.01          79.01   
         18          3.01    82.50        82.05           94.94          78.00   
         19          3.14    78.19        75.99           87.64          76.69   
         21          3.27    57.64        52.24           67.42          59.25   
         22          3.32    80.12        77.88           90.58          78.19   
         23          2.93    74.41        72.56           84.48          77.20   
         24          2.96    77.22        72.98           82.62          75.63   
         25          2.96    78.73        76.61           88.72          85.57   
         26          2.86    78.29        77.07           91.35          86.93   
         27          3.09    65.86        63.25           74.02          65.85   
         28          3.12    75.49        73.66           84.59          76.77   
         29          3.33    60.12        51.11           61.99          61.76   
         30          3.32    67.27        62.57           68.65          66.57   
         31          4.16    75.51        67.71           84.14          75.33   
         32          2.96    65.74        62.69           67.57          70.40   
         33          3.15    80.48        78.23           94.10          77.23   
         {\ldots}          {\ldots}      {\ldots}          {\ldots}             {\ldots}            {\ldots}   
         2185        3.01    57.04        51.56           62.40          57.99   
         2186        2.71    73.61        70.83           88.18          71.21   
         2187        3.01    74.11        72.18           84.13          77.42   
         2188        2.88    83.21        83.30           93.64          85.02   
         2189        3.53    86.71        83.14           93.86          88.38   
         2190        3.21    91.90        90.65           98.01          89.54   
         2191        3.05    79.58        77.08           92.31          83.76   
         2192        3.25    83.83        80.53           93.93          84.46   
         2193        3.82    69.11        63.25           78.21          76.45   
         2194        3.27    76.03        73.73           83.77          77.31   
         2195        3.35    72.66        68.40           80.21          71.50   
         2196        3.05    61.94        55.03           67.95          63.08   
         2197        2.99    84.49        83.86           95.23          78.17   
         2198        3.15    77.62        74.27           89.32          76.34   
         2199        3.32    87.76        86.05           95.73          87.34   
         2200        3.06    68.09        66.48           69.82          75.14   
         2201        3.21    77.67        74.41           88.07          79.86   
         2202        3.24    74.11        70.28           82.73          76.13   
         2203        3.48    67.48        61.68           83.84          73.91   
         2204        3.12    76.70        76.06           87.97          77.11   
         2205        3.06    75.46        70.29           78.99          77.25   
         2206        2.92    76.79        73.96           83.05          82.82   
         2207        3.05    71.24        68.64           81.27          75.22   
         2208        3.13    77.17        77.16           82.32          81.83   
         2209        3.06    76.36        73.53           91.16          73.45   
         2210        3.56    67.04        64.81           76.19          72.78   
         2211        3.12    68.57        63.66           80.29          73.68   
         2212        2.99    76.77        74.20           76.92          82.42   
         2213        3.46    67.76        63.45           87.82          74.12   
         2214        3.20    62.64        60.23           72.43          66.15   
         
               pctWorkMom-6  pctWorkMom-18  kidsBornNevrMarr  pctKidsBornNevrMarr  \textbackslash{}
         0            44.56          58.88                31                 0.36   
         1            51.14          62.43                43                 0.24   
         2            66.08          74.19               164                 0.88   
         3            59.59          70.27               561                 3.84   
         5            62.96          70.52              1511                 1.58   
         6            65.16          72.81               263                 1.18   
         7            63.08          72.44              2368                 4.66   
         8            74.32          78.51               751                 1.64   
         9            60.80          69.23              3537                 4.71   
         10           67.43          72.96               603                 2.47   
         11           58.63          61.68              1479                 7.44   
         12           58.45          68.49               996                 3.56   
         13           64.38          70.59              4401                 8.51   
         16           63.59          75.19               413                 1.30   
         17           52.45          59.33              3034                 2.62   
         18           64.94          72.84                86                 0.74   
         19           63.48          71.53              2898                 1.89   
         21           47.37          56.42            527557                10.50   
         22           51.64          64.58               258                 1.69   
         23           75.27          77.15               160                 1.78   
         24           67.95          75.78               167                 1.41   
         25           69.07          75.45               173                 0.89   
         26           69.26          74.41                27                 0.32   
         27           52.92          62.42              2000                 3.29   
         28           61.08          71.15               183                 1.84   
         29           67.15          72.40              2412                 9.54   
         30           50.91          50.89               667                 5.78   
         31           48.23          52.73              3070                 2.80   
         32           59.49          69.23               529                 3.28   
         33           70.68          78.54                56                 0.72   
         {\ldots}            {\ldots}            {\ldots}               {\ldots}                  {\ldots}   
         2185         68.41          74.04              3441                 8.67   
         2186         61.68          72.97               292                 1.71   
         2187         59.70          71.17               288                 2.77   
         2188         59.26          63.69               128                 1.43   
         2189         77.21          83.96                39                 0.37   
         2190         43.55          58.19                35                 0.31   
         2191         51.66          61.09                85                 0.82   
         2192         60.20          72.90               363                 1.42   
         2193         55.20          61.66               886                 3.47   
         2194         64.00          73.29               640                 2.41   
         2195         68.79          70.39               447                 3.40   
         2196         66.46          72.86              4261                 8.49   
         2197         54.44          62.70               151                 1.92   
         2198         65.24          69.99               218                 2.47   
         2199         49.48          61.93               161                 1.03   
         2200         63.97          69.64              2366                 3.25   
         2201         67.10          73.73               363                 2.23   
         2202         77.49          78.29               245                 2.02   
         2203         55.20          60.99              1233                 6.71   
         2204         55.86          66.86               197                 1.09   
         2205         51.21          62.75               167                 1.33   
         2206         51.30          62.12               199                 1.11   
         2207         59.63          71.91              1311                 3.55   
         2208         65.27          73.19               170                 1.40   
         2209         63.54          76.90                88                 1.12   
         2210         47.24          55.38              1960                 4.49   
         2211         64.20          66.67               277                 2.98   
         2212         55.73          62.62               434                 1.60   
         2213         50.57          60.14               279                 2.35   
         2214         50.44          57.32              1152                 4.85   
         
               numForeignBorn  pctFgnImmig-3  pctFgnImmig-5  pctFgnImmig-8  \textbackslash{}
         0               1277           8.69          13.00          20.99   
         1               1920           5.21           8.65          13.33   
         2               1468          16.42          23.98          32.08   
         3                339          13.86          13.86          15.34   
         5               2091          21.33          30.56          38.02   
         6               2637          11.38          16.27          23.93   
         7                517          13.15          22.82          28.24   
         8               1474          23.68          33.58          46.68   
         9               4793          15.54          23.08          35.32   
         10               938          17.91          35.39          56.08   
         11              6645          21.87          32.75          47.67   
         12               626          33.23          49.52          53.51   
         13               407          26.04          32.43          34.15   
         16              2377           9.38          11.70          17.12   
         17             81352          30.33          41.41          50.77   
         18               704          11.79          16.19          26.85   
         19             20006          19.03          30.13          44.66   
         21           2082931          15.87          25.51          36.37   
         22              4849          12.27          18.31          29.88   
         23               376          23.14          23.14          34.57   
         24               742          10.38          12.40          19.68   
         25               354          18.93          23.73          27.68   
         26               703           0.85           5.26          15.08   
         27              8610          20.75          31.36          43.80   
         28               695          27.63          30.07          38.71   
         29               187           0.00           5.88          26.20   
         30                25           0.00           0.00           0.00   
         31             29945          14.07          21.62          29.66   
         32              1250          10.56          18.96          21.60   
         33               306           2.61           4.90          14.05   
         {\ldots}              {\ldots}            {\ldots}            {\ldots}            {\ldots}   
         2185             327          49.24          51.99          53.52   
         2186            3134          17.80          29.74          43.94   
         2187             516           1.36           8.91           9.88   
         2188            2701          30.66          42.43          48.91   
         2189            5242           8.62          15.19          26.63   
         2190            1297          11.87          18.74          28.91   
         2191             474           0.00           0.00           2.95   
         2192            6506          12.50          18.94          27.51   
         2193            5517          17.26          27.06          32.34   
         2194            3469          28.48          43.61          57.68   
         2195            3100           8.58          20.32          30.19   
         2196            1656          43.90          55.31          58.88   
         2197             654          15.29          22.63          31.35   
         2198             702           2.71           4.99           8.97   
         2199            1169           2.40           7.01          12.06   
         2200           19207           5.96          10.85          15.30   
         2201             911           7.46          13.94          18.11   
         2202            1011           9.30          26.81          38.58   
         2203            8030          17.33          27.63          37.52   
         2204            1021           8.62          14.59          16.16   
         2205             463           6.70          28.94          31.53   
         2206             524          19.85          26.53          27.67   
         2207            4521          13.03          20.48          31.30   
         2208             225           1.33          13.33          13.33   
         2209             693          12.70          21.36          23.38   
         2210           10623          22.97          35.12          42.10   
         2211             275           2.91          45.09          65.45   
         2212            2414           6.63           9.03          17.15   
         2213             309           4.85           8.09          11.00   
         2214            4765          31.54          39.50          46.32   
         
               pctFgnImmig-10  pctImmig-3  pctImmig-5  pctImmig-8  pctImmig-10  \textbackslash{}
         0              30.93        0.93        1.39        2.24         3.30   
         1              22.50        0.43        0.72        1.11         1.87   
         2              35.63        0.82        1.20        1.61         1.78   
         3              15.34        0.28        0.28        0.31         0.31   
         5              45.48        0.32        0.45        0.57         0.68   
         6              27.76        1.05        1.49        2.20         2.55   
         7              33.08        0.11        0.20        0.25         0.29   
         8              53.93        0.47        0.67        0.93         1.07   
         9              49.82        0.72        1.07        1.63         2.31   
         10             65.46        0.53        1.05        1.66         1.94   
         11             62.30        5.78        8.65       12.59        16.46   
         12             59.74        0.51        0.76        0.82         0.92   
         13             39.31        0.19        0.23        0.24         0.28   
         16             27.01        0.49        0.61        0.89         1.41   
         17             60.40       13.71       18.71       22.94        27.29   
         18             28.84        0.56        0.77        1.27         1.37   
         19             56.86        1.45        2.30        3.41         4.35   
         21             45.77        4.51        7.26       10.34        13.02   
         22             43.12        2.25        3.36        5.48         7.91   
         23             37.77        0.71        0.71        1.07         1.17   
         24             23.72        0.48        0.57        0.91         1.10   
         25             29.94        0.27        0.34        0.40         0.43   
         26             30.16        0.04        0.27        0.77         1.53   
         27             50.16        2.01        3.04        4.25         4.87   
         28             40.00        1.71        1.86        2.39         2.47   
         29             28.34        0.00        0.04        0.17         0.19   
         30             28.00        0.00        0.00        0.00         0.06   
         31             39.74        3.43        5.27        7.23         9.68   
         32             25.28        0.64        1.14        1.30         1.53   
         33             18.95        0.07        0.13        0.36         0.49   
         {\ldots}              {\ldots}         {\ldots}         {\ldots}         {\ldots}          {\ldots}   
         2185           58.41        0.33        0.35        0.36         0.39   
         2186           53.73        2.40        4.01        5.92         7.24   
         2187           18.99        0.05        0.31        0.34         0.65   
         2188           52.65        6.27        8.68       10.01        10.77   
         2189           36.46        2.69        4.73        8.30        11.36   
         2190           29.22        1.00        1.58        2.44         2.47   
         2191            4.22        0.00        0.00        0.11         0.15   
         2192           34.12        2.15        3.26        4.73         5.87   
         2193           43.81        3.19        5.00        5.97         8.09   
         2194           65.23        2.63        4.03        5.33         6.03   
         2195           36.03        1.31        3.10        4.61         5.50   
         2196           65.94        0.93        1.18        1.25         1.40   
         2197           38.69        0.67        0.99        1.38         1.70   
         2198            8.97        0.16        0.29        0.52         0.52   
         2199           16.42        0.11        0.32        0.55         0.76   
         2200           19.99        1.23        2.25        3.17         4.14   
         2201           27.88        0.28        0.52        0.67         1.03   
         2202           48.76        0.66        1.91        2.75         3.47   
         2203           54.35        5.09        8.12       11.02        15.97   
         2204           23.60        0.37        0.62        0.69         1.01   
         2205           51.19        0.21        0.91        0.99         1.60   
         2206           38.93        0.48        0.64        0.67         0.94   
         2207           39.68        1.09        1.71        2.62         3.32   
         2208           20.00        0.02        0.23        0.23         0.34   
         2209           27.13        0.83        1.40        1.53         1.78   
         2210           60.31        4.34        6.64        7.96        11.40   
         2211           75.64        0.07        1.01        1.47         1.70   
         2212           26.72        0.49        0.66        1.26         1.97   
         2213           20.71        0.11        0.18        0.25         0.47   
         2214           55.97        5.20        6.51        7.64         9.23   
         
               pctSpeakOnlyEng  pctNotSpeakEng  pctLargHousFam  pctLargHous  \textbackslash{}
         0               85.68            1.37            4.81         4.17   
         1               87.79            1.81            4.25         3.34   
         2               93.11            1.14            2.97         2.05   
         3               94.98            0.56            3.93         2.56   
         5               96.87            0.60            3.08         1.92   
         6               89.98            0.60            5.08         3.46   
         7               97.43            0.28            3.85         2.55   
         8               95.21            0.43            2.59         1.54   
         9               85.72            2.51            6.70         4.10   
         10              94.85            0.81            3.66         2.51   
         11              60.30           10.80           12.43         8.45   
         12              96.72            0.59            2.99         1.87   
         13              96.83            0.54            7.86         5.50   
         16              90.41            0.92            4.08         3.15   
         17              46.84           15.46            6.98         4.60   
         18              94.75            0.53            2.47         1.90   
         19              87.44            2.20            4.07         2.80   
         21              59.04            9.84            9.16         5.71   
         22              71.79            4.31            7.26         6.07   
         23              93.31            1.23            1.90         1.18   
         24              93.60            0.75            3.74         2.82   
         25              95.90            0.75            3.36         2.47   
         26              89.62            1.21            2.69         1.82   
         27              85.20            3.17            5.26         3.68   
         28              83.37            2.94            5.93         4.10   
         29              98.41            0.18            7.83         5.91   
         30              65.56            2.40            9.00         6.59   
         31               8.15           21.64           21.34        18.23   
         32              78.98            2.49            4.07         2.62   
         33              95.94            0.24            3.62         2.78   
         {\ldots}               {\ldots}             {\ldots}             {\ldots}          {\ldots}   
         2185            97.77            0.41            4.07         2.77   
         2186            82.80            4.12            4.00         2.46   
         2187            92.23            1.10            4.24         2.70   
         2188            79.69            2.51            2.93         2.22   
         2189            59.71            4.56            9.46         7.69   
         2190            90.29            0.87            3.75         3.24   
         2191            93.88            0.95            4.31         3.31   
         2192            81.24            2.04            7.00         5.41   
         2193            19.82           16.81           15.98        12.91   
         2194            87.19            4.19            7.25         5.64   
         2195            72.30            5.71           10.45         7.37   
         2196            95.93            0.43            5.06         2.98   
         2197            92.73            0.98            2.12         1.51   
         2198            82.88            3.16            4.37         3.31   
         2199            93.57            0.49            4.62         3.83   
         2200            62.66            8.24            4.00         2.69   
         2201            91.56            1.04            5.08         3.69   
         2202            78.05            4.04            5.88         4.54   
         2203            57.99           12.58           12.42         8.51   
         2204            94.20            0.84            4.11         2.86   
         2205            92.93            1.76            4.70         3.27   
         2206            95.65            1.04            2.95         2.08   
         2207            86.98            1.63            4.24         2.80   
         2208            95.37            0.50            4.04         2.71   
         2209            87.37            1.94            3.79         2.74   
         2210            65.33           11.87           13.49         9.91   
         2211            92.78            0.86            5.03         3.37   
         2212            88.95            1.70            5.10         3.50   
         2213            48.92            6.66            9.83         7.10   
         2214            74.98            7.76            8.58         5.70   
         
               persPerOccupHous  persPerOwnOccup  persPerRenterOccup  pctPersOwnOccup  \textbackslash{}
         0                 2.99             3.00                2.84            91.46   
         1                 2.70             2.83                1.96            89.03   
         2                 2.42             2.69                2.06            64.18   
         3                 2.37             2.51                2.20            58.18   
         5                 2.28             2.37                2.16            57.81   
         6                 2.55             2.89                2.09            64.62   
         7                 2.36             2.42                2.27            65.29   
         8                 2.32             2.77                1.91            57.42   
         9                 2.45             2.47                2.44            46.82   
         10                2.42             2.50                2.31            59.76   
         11                2.84             2.90                2.79            48.07   
         12                2.29             2.40                2.17            53.11   
         13                2.64             2.64                2.65            61.62   
         16                2.73             2.86                2.29            79.94   
         17                2.59             2.63                2.56            39.38   
         18                2.60             2.69                2.14            85.62   
         19                2.58             2.89                2.25            58.00   
         21                2.54             2.80                2.43            31.59   
         22                3.05             2.80                3.18            31.74   
         23                2.32             2.61                2.02            58.03   
         24                2.58             2.61                2.45            78.92   
         25                2.51             2.58                2.38            65.60   
         26                2.35             2.36                2.33            75.61   
         27                2.63             2.64                2.63            40.87   
         28                2.55             2.71                2.29            66.40   
         29                2.83             2.88                2.77            58.69   
         30                2.74             2.68                2.86            63.10   
         31                3.78             3.95                3.54            61.58   
         32                2.33             2.45                2.21            53.56   
         33                2.77             2.90                2.27            83.55   
         {\ldots}                {\ldots}              {\ldots}                 {\ldots}              {\ldots}   
         2185              2.43             2.54                2.29            58.38   
         2186              2.18             2.18                2.19            63.81   
         2187              2.37             2.61                2.05            63.34   
         2188              2.52             2.60                2.38            68.11   
         2189              3.17             3.16                3.25            86.90   
         2190              2.95             2.98                2.62            93.27   
         2191              2.66             2.63                2.79            80.86   
         2192              2.81             3.00                2.09            84.75   
         2193              3.39             3.49                3.26            58.95   
         2194              2.87             2.88                2.87            58.68   
         2195              2.85             2.61                3.06            43.18   
         2196              2.35             2.59                2.14            51.61   
         2197              2.48             2.70                2.15            66.20   
         2198              2.69             2.78                2.47            74.00   
         2199              3.00             3.06                2.56            90.62   
         2200              2.44             2.78                2.27            37.65   
         2201              2.70             2.76                2.42            85.83   
         2202              2.80             2.85                2.72            67.14   
         2203              2.95             2.84                3.00            30.15   
         2204              2.59             2.86                2.19            65.76   
         2205              2.50             2.48                2.53            63.09   
         2206              2.38             2.37                2.40            69.26   
         2207              2.48             2.73                2.15            61.78   
         2208              2.49             2.65                2.20            68.26   
         2209              2.57             2.74                2.15            75.36   
         2210              3.03             2.83                3.19            41.69   
         2211              2.49             2.58                2.39            56.06   
         2212              2.44             2.37                2.67            74.61   
         2213              2.84             2.93                2.73            60.11   
         2214              2.58             2.45                2.76            52.72   
         
               pctPopDenseHous  pctSmallHousUnits  medNumBedrm         {\ldots}          \textbackslash{}
         0                0.39              11.06            3         {\ldots}           
         1                1.01              23.60            3         {\ldots}           
         2                2.03              47.46            3         {\ldots}           
         3                1.21              45.66            3         {\ldots}           
         5                2.11              53.19            2         {\ldots}           
         6                1.47              47.35            3         {\ldots}           
         7                1.90              56.30            2         {\ldots}           
         8                1.67              59.32            2         {\ldots}           
         9                6.14              59.96            2         {\ldots}           
         10               3.41              52.11            2         {\ldots}           
         11              18.18              72.06            2         {\ldots}           
         12               2.49              53.27            2         {\ldots}           
         13               5.43              46.91            3         {\ldots}           
         16               1.23              32.43            3         {\ldots}           
         17              18.31              75.17            2         {\ldots}           
         18               0.43              18.79            3         {\ldots}           
         19               4.95              47.54            3         {\ldots}           
         21              12.30              73.76            2         {\ldots}           
         22              11.94              55.65            2         {\ldots}           
         23               1.26              56.02            2         {\ldots}           
         24               2.26              29.40            3         {\ldots}           
         25               2.80              41.45            3         {\ldots}           
         26               1.36              30.49            3         {\ldots}           
         27               8.76              63.54            2         {\ldots}           
         28               4.87              47.70            3         {\ldots}           
         29               6.30              43.55            3         {\ldots}           
         30               7.17              40.73            3         {\ldots}           
         31              26.43              53.73            2         {\ldots}           
         32               1.79              36.94            3         {\ldots}           
         33               1.20              38.37            3         {\ldots}           
         {\ldots}               {\ldots}                {\ldots}          {\ldots}         {\ldots}           
         2185             2.53              47.95            3         {\ldots}           
         2186             4.40              57.89            2         {\ldots}           
         2187             1.39              44.66            3         {\ldots}           
         2188             1.79              29.64            3         {\ldots}           
         2189             7.87              35.54            3         {\ldots}           
         2190             0.38              12.02            3         {\ldots}           
         2191             1.83              32.52            3         {\ldots}           
         2192             2.12              29.21            3         {\ldots}           
         2193            20.01              52.80            2         {\ldots}           
         2194             5.57              37.66            3         {\ldots}           
         2195            13.74              57.69            2         {\ldots}           
         2196             3.52              52.30            2         {\ldots}           
         2197             1.76              40.35            3         {\ldots}           
         2198             2.61              41.34            3         {\ldots}           
         2199             1.43              30.22            3         {\ldots}           
         2200             2.49              59.98            2         {\ldots}           
         2201             2.27              45.85            3         {\ldots}           
         2202             5.55              46.39            3         {\ldots}           
         2203            19.82              74.95            2         {\ldots}           
         2204             2.75              45.94            3         {\ldots}           
         2205             3.99              49.69            3         {\ldots}           
         2206             2.08              44.55            3         {\ldots}           
         2207             2.49              57.29            2         {\ldots}           
         2208             1.75              48.31            3         {\ldots}           
         2209             1.70              41.32            3         {\ldots}           
         2210            16.89              57.23            2         {\ldots}           
         2211             3.99              54.48            2         {\ldots}           
         2212             4.39              61.03            2         {\ldots}           
         2213             9.64              50.28            2         {\ldots}           
         2214            11.31              61.63            2         {\ldots}           
         
               pctVacant6up  medYrHousBuilt  pctHousWOphone  pctHousWOplumb  \textbackslash{}
         0            37.50            1959            0.00            0.28   
         1            18.33            1958            0.31            0.14   
         2             7.54            1976            1.55            0.12   
         3            57.85            1939            7.00            0.87   
         5            26.22            1966            6.13            0.31   
         6            34.45            1956            0.69            0.28   
         7            56.36            1954            8.42            0.49   
         8            25.61            1971            2.66            0.19   
         9            37.57            1960           11.74            0.33   
         10           42.34            1965            7.89            0.30   
         11           18.35            1963            6.25            0.64   
         12           28.93            1966           10.67            0.23   
         13           39.65            1964           11.65            0.73   
         16           29.89            1960            0.89            0.13   
         17           17.69            1962            1.53            0.46   
         18           30.49            1963            0.18            0.21   
         19           27.45            1978            5.50            0.14   
         21           40.33            1946            7.33            1.25   
         22            3.12            1976            1.62            0.24   
         23           34.31            1957            3.83            0.79   
         24           29.52            1972            2.03            0.08   
         25           26.45            1976            8.04            0.40   
         26           32.60            1953            0.87            0.24   
         27           11.03            1970            2.97            0.24   
         28           38.94            1963            6.75            0.32   
         29           28.75            1967           12.35            1.08   
         30           47.80            1963           14.35            0.64   
         31           42.25            1972           12.42            2.11   
         32           59.05            1939            6.72            0.66   
         33           42.54            1968            1.17            0.71   
         {\ldots}            {\ldots}             {\ldots}             {\ldots}             {\ldots}   
         2185         27.14            1965            6.98            0.22   
         2186         11.32            1980            0.72            0.05   
         2187         34.84            1952            1.53            0.14   
         2188         31.54            1958            0.46            0.34   
         2189         15.41            1985            0.28            0.50   
         2190         20.11            1958            0.36            0.00   
         2191         18.15            1975            0.51            0.73   
         2192         43.71            1944            0.47            0.41   
         2193         30.87            1973           12.82            1.44   
         2194         25.10            1974            2.16            0.37   
         2195         13.48            1969            1.34            0.12   
         2196         39.09            1967            5.80            0.62   
         2197         18.80            1986            2.43            0.17   
         2198         54.04            1959            2.09            0.17   
         2199         56.32            1960            1.07            1.26   
         2200         36.65            1939            3.62            0.61   
         2201         48.53            1974            1.52            0.15   
         2202         37.08            1971            5.86            0.83   
         2203         19.78            1962            3.32            1.22   
         2204         19.40            1971            2.73            0.26   
         2205         32.21            1965            7.44            1.43   
         2206         64.13            1959            9.21            0.53   
         2207         24.44            1958            1.91            0.28   
         2208         60.63            1967            5.44            0.33   
         2209         35.71            1954            1.99            0.52   
         2210         13.18            1973            4.91            0.55   
         2211         46.08            1966            7.56            0.12   
         2212         29.47            1967            2.51            0.27   
         2213         67.21            1964           15.91            0.87   
         2214         28.67            1960            7.37            1.43   
         
               ownHousLowQ  ownHousMed  ownHousUperQ  ownHousQrange  rentLowQ  rentMed  \textbackslash{}
         0          215900      262600        326900         111000       685     1001   
         1          136300      164200        199900          63600       467      560   
         2           74700       90400        112000          37300       370      428   
         3           36400       49600         66500          30100       195      250   
         5           37700       53900         73100          35400       215      280   
         6          155100      179000        215500          60400       463      669   
         7           26300       37000         52400          26100       186      253   
         8           54500       70300         93700          39200       241      321   
         9           28600       43100         67400          38800       192      281   
         10          32200       49800         73600          41400       234      305   
         11          92800      117900        142700          49900       406      503   
         12          40600       58200         84900          44300       193      267   
         13          28100       41200         59900          31800       152      219   
         16         128000      143400        164700          36700       394      563   
         17         249800      343600        469800         220000       511      626   
         18          89100      117500        148000          58900       303      394   
         19          64100       82800        110200          46100       312      382   
         21         149700      189600        244600          94900       320      448   
         22         150800      172500        196500          45700       512      607   
         23          88900      117200        148400          59500       357      451   
         24          61700       73900         92300          30600       371      457   
         25          44800       60300         75500          30700       252      302   
         26          83600      108900        146700          63100       445      529   
         27         128100      158000        209600          81500       434      507   
         28          40000       53900         74800          34800       195      268   
         29          38900       50900         69100          30200       155      248   
         30          24500       39100         56400          31900       114      165   
         31          33700       52500         75000          41300       161      245   
         32          53400       71000         91900          38500       172      240   
         33          94100      119800        159000          64900       351      452   
         {\ldots}           {\ldots}         {\ldots}           {\ldots}            {\ldots}       {\ldots}      {\ldots}   
         2185        34600       50600         70300          35700       145      240   
         2186       123000      172600        263300         140300       514      616   
         2187        76600       94700        118800          42200       398      479   
         2188       242600      345700        500001         257401       385      547   
         2189       169600      224100        277000         107400       759      880   
         2190       251600      333800        432700         181100       709      927   
         2191        90400      112000        139200          48800       512      591   
         2192       178800      210800        259000          80200       468      565   
         2193        30100       44700         66700          36600       126      251   
         2194        61200       71900         90500          29300       329      397   
         2195       159100      187200        218700          59600       519      655   
         2196        44500       62900         89600          45100       174      258   
         2197        76600       96400        133300          56700       355      419   
         2198        81500      105200        143800          62300       347      428   
         2199       137600      167700        206600          69000       524      667   
         2200       101200      127800        156100          54900       179      277   
         2201        83000      105200        140700          57700       416      523   
         2202        58100       71000         88700          30600       282      363   
         2203       187100      230800        280900          93800       552      696   
         2204        66200       84900        113700          47500       321      396   
         2205        36700       53300         74600          37900       230      308   
         2206        24400       40900         65700          41300       146      218   
         2207       126300      147000        170700          44400       437      534   
         2208        30400       44700         62600          32200       158      218   
         2209       123900      144200        165400          41500       441      553   
         2210        71200       91100        118900          47700       298      374   
         2211        33600       52000         72700          39100       176      248   
         2212        91700      123900        164000          72300       347      451   
         2213        26000       37800         52100          26100       135      227   
         2214        68400       87600        114900          46500       272      369   
         
               rentUpperQ  rentQrange  medGrossRent  medRentpctHousInc  medOwnCostpct  \textbackslash{}
         0           1001         316          1001               23.8           21.1   
         1            672         205           627               27.6           20.7   
         2            520         150           484               24.1           21.7   
         3            309         114           333               28.7           20.6   
         5            349         134           340               26.4           17.3   
         6            824         361           736               24.4           20.8   
         7            325         139           338               26.3           15.1   
         8            387         146           355               25.2           20.7   
         9            369         177           353               29.6           19.4   
         10           376         142           380               23.8           17.1   
         11           596         190           564               33.0           24.3   
         12           329         136           332               27.9           20.0   
         13           287         135           333               29.1           17.5   
         16           676         282           668               24.8           22.6   
         17           763         252           688               30.5           25.3   
         18           502         199           465               24.6           18.7   
         19           469         157           444               23.7           22.0   
         21           615         295           496               25.7           21.8   
         22           689         177           666               31.6           23.3   
         23           553         196           499               26.1           23.7   
         24           508         137           543               24.5           20.9   
         25           373         121           389               24.8           19.6   
         26           632         187           675               20.2           18.5   
         27           587         153           548               30.8           23.6   
         28           343         148           306               26.2           16.1   
         29           318         163           343               29.0           20.5   
         30           226         112           261               28.6           23.0   
         31           339         178           315               27.6           22.6   
         32           303         131           337               24.7           18.6   
         33           552         201           526               28.0           23.5   
         {\ldots}          {\ldots}         {\ldots}           {\ldots}                {\ldots}            {\ldots}   
         2185         316         171           334               25.0           20.6   
         2186         732         218           696               32.8           26.7   
         2187         555         157           546               25.6           22.7   
         2188         744         359           554               24.9           20.7   
         2189        1001         242           983               26.8           27.7   
         2190        1001         292          1001               26.5           24.1   
         2191         642         130           710               26.3           27.4   
         2192         707         239           632               27.4           23.3   
         2193         316         190           311               26.2           19.8   
         2194         527         198           480               24.7           20.9   
         2195         794         275           709               29.1           27.3   
         2196         339         165           342               31.7           19.0   
         2197         499         144           484               17.9           20.0   
         2198         516         169           505               26.8           22.5   
         2199         857         333           819               26.8           26.6   
         2200         388         209           351               24.5           21.8   
         2201         637         221           594               26.4           23.0   
         2202         455         173           422               30.9           22.2   
         2203         841         289           749               29.2           26.7   
         2204         465         144           466               25.8           21.4   
         2205         382         152           391               27.7           19.0   
         2206         285         139           305               25.6           17.1   
         2207         622         185           621               26.4           23.6   
         2208         281         123           263               20.8           19.9   
         2209         648         207           651               26.7           23.4   
         2210         455         157           438               29.8           22.6   
         2211         297         121           330               23.8           17.3   
         2212         551         204           514               30.5           23.9   
         2213         317         182           316               26.2           23.3   
         2214         449         177           426               30.9           21.2   
         
               medOwnCostPctWO  persEmergShelt  persHomeless  pctForeignBorn  \textbackslash{}
         0                14.0              11             0           10.66   
         1                12.5               0             0            8.30   
         2                11.6              16             0            5.00   
         3                14.5               0             0            2.04   
         5                11.7             327             4            1.49   
         6                12.5               0             0            9.19   
         7                12.2              21             0            0.87   
         8                12.8             125            15            1.99   
         9                13.0              43             4            4.63   
         10               12.9               1             0            2.97   
         11               11.8              20            49           26.41   
         12               12.3              28             2            1.54   
         13               15.7              28             0            0.71   
         16               13.1               8             1            5.22   
         17               11.6              82            17           45.19   
         18               11.4              10             0            4.73   
         19               11.8              47             1            7.64   
         21               14.1           23383         10447           28.45   
         22               12.3               0             0           18.34   
         23               13.7               2             0            3.09   
         24               11.3               0             0            4.63   
         25               11.7               0             0            1.43   
         26               12.1               0             0            5.08   
         27               10.8              13            76            9.71   
         28               11.5               0             0            6.19   
         29               14.1              13             0            0.66   
         30               15.3               0             0            0.22   
         31               12.8               4             0           24.37   
         32               14.5               2             0            6.03   
         33               12.6               0             0            2.58   
         {\ldots}               {\ldots}             {\ldots}           {\ldots}             {\ldots}   
         2185             13.2              17             0            0.67   
         2186             13.4               0             0           13.48   
         2187             14.3               5             0            3.42   
         2188             13.5               0             0           20.47   
         2189             12.4               0             1           31.15   
         2190             13.6               0             0            8.44   
         2191             16.4               0             0            3.58   
         2192             16.4               0             0           17.20   
         2193             13.8               0             0           18.46   
         2194             13.6              24             1            9.25   
         2195             11.8               0             0           15.26   
         2196             12.6              17            11            2.13   
         2197             11.8               0             0            4.38   
         2198             15.0               0             0            5.75   
         2199             17.9               0             0            4.60   
         2200             14.1              62             1           20.72   
         2201             15.8               0             0            3.71   
         2202             13.8              29             0            7.12   
         2203             12.3              33             0           29.38   
         2204             12.2               0             0            4.28   
         2205             13.3              19             0            3.13   
         2206             13.1               2             0            2.41   
         2207             15.0              64             0            8.37   
         2208             12.8               0             0            1.71   
         2209             15.9               0             0            6.56   
         2210             11.7              64             0           18.90   
         2211             14.4               0             0            2.24   
         2212             13.1              44             0            7.35   
         2213             14.1               0             0            2.28   
         2214             11.6              10             2           16.49   
         
               pctBornStateResid  pctSameHouse-5  pctSameCounty-5  pctSameState-5  \textbackslash{}
         0                 53.72           65.29            78.09           89.14   
         1                 77.17           71.27            90.22           96.12   
         2                 44.77           36.60            61.26           82.85   
         3                 88.71           56.70            90.17           96.24   
         5                 64.35           42.29            70.61           85.66   
         6                 77.30           63.45            82.23           93.53   
         7                 73.70           54.85            85.55           91.51   
         8                 58.82           40.72            67.97           81.39   
         9                 75.59           42.33            74.05           92.12   
         10                65.73           44.95            74.82           88.66   
         11                47.45           38.61            69.21           89.27   
         12                70.53           41.51            72.68           88.87   
         13                80.16           56.01            85.46           92.02   
         16                47.43           60.30            83.68           88.85   
         17                29.68           37.69            73.29           76.85   
         18                58.81           59.75            85.21           89.74   
         19                51.54           36.76            67.01           84.09   
         21                53.09           63.06            82.76           89.78   
         22                24.24           26.33            46.38           54.52   
         23                54.87           42.07            69.61           75.44   
         24                28.32           45.19            75.45           81.03   
         25                40.40           39.82            70.19           77.43   
         26                60.71           57.14            86.99           94.36   
         27                45.45           35.36            77.14           83.16   
         28                48.88           44.43            76.23           87.33   
         29                53.03           52.14            82.37           88.60   
         30                93.09           62.57            89.93           98.48   
         31                67.12           60.11            86.08           91.70   
         32                81.86           61.42            85.56           93.76   
         33                71.76           51.97            79.39           91.47   
         {\ldots}                 {\ldots}             {\ldots}              {\ldots}             {\ldots}   
         2185              77.24           48.33            80.23           91.22   
         2186              37.33           36.06            61.72           85.08   
         2187              78.40           55.74            76.06           90.65   
         2188              26.19           51.38            64.69           71.18   
         2189              47.75           37.51            61.82           91.39   
         2190              55.21           67.54            83.45           90.04   
         2191              59.85           50.23            73.75           91.79   
         2192              32.27           67.40            81.82           85.59   
         2193              68.90           52.42            83.01           90.76   
         2194              46.23           42.04            75.07           83.38   
         2195              39.13           37.75            65.41           79.00   
         2196              72.02           45.46            69.10           84.99   
         2197              40.92           22.75            51.95           61.45   
         2198              66.70           69.30            87.95           95.67   
         2199              66.44           63.28            79.88           93.25   
         2200              70.20           60.28            92.56           94.15   
         2201              63.16           58.90            85.63           93.76   
         2202              53.82           53.21            75.31           88.36   
         2203              44.05           38.53            83.69           87.35   
         2204              51.11           42.64            76.41           86.40   
         2205              74.82           45.68            71.41           94.63   
         2206              66.89           54.67            81.93           89.51   
         2207              70.31           59.11            86.26           91.48   
         2208              71.81           48.97            83.51           91.84   
         2209              66.14           69.84            88.42           94.88   
         2210              52.67           39.19            74.58           85.88   
         2211              75.16           49.12            78.79           92.85   
         2212              48.66           46.73            75.54           92.30   
         2213              82.26           54.05            79.72           94.06   
         2214              55.29           48.74            66.20           89.08   
         
               numPolice  policePerPop  policeField  policeFieldPerPop  policeCalls  \textbackslash{}
         0           NaN           NaN          NaN                NaN          NaN   
         1           NaN           NaN          NaN                NaN          NaN   
         2           NaN           NaN          NaN                NaN          NaN   
         3           NaN           NaN          NaN                NaN          NaN   
         5           NaN           NaN          NaN                NaN          NaN   
         6           NaN           NaN          NaN                NaN          NaN   
         7           NaN           NaN          NaN                NaN          NaN   
         8           NaN           NaN          NaN                NaN          NaN   
         9         198.0        183.53        187.0             173.33      73432.0   
         10          NaN           NaN          NaN                NaN          NaN   
         11          NaN           NaN          NaN                NaN          NaN   
         12          NaN           NaN          NaN                NaN          NaN   
         13        111.0        189.09         89.0             151.61      39900.0   
         16          NaN           NaN          NaN                NaN          NaN   
         17        204.0        113.73        189.0             105.36     254080.0   
         18          NaN           NaN          NaN                NaN          NaN   
         19        356.0        121.78        330.0             112.89     350000.0   
         21      25655.0        350.50      22496.0             307.34    8328470.0   
         22          NaN           NaN          NaN                NaN          NaN   
         23          NaN           NaN          NaN                NaN          NaN   
         24          NaN           NaN          NaN                NaN          NaN   
         25          NaN           NaN          NaN                NaN          NaN   
         26          NaN           NaN          NaN                NaN          NaN   
         27          NaN           NaN          NaN                NaN          NaN   
         28          NaN           NaN          NaN                NaN          NaN   
         29          NaN           NaN          NaN                NaN          NaN   
         30          NaN           NaN          NaN                NaN          NaN   
         31        188.0        123.09        163.0             106.72     150000.0   
         32          NaN           NaN          NaN                NaN          NaN   
         33          NaN           NaN          NaN                NaN          NaN   
         {\ldots}         {\ldots}           {\ldots}          {\ldots}                {\ldots}          {\ldots}   
         2185      136.0        247.58        123.0             223.92      34614.0   
         2186        NaN           NaN          NaN                NaN          NaN   
         2187        NaN           NaN          NaN                NaN          NaN   
         2188        NaN           NaN          NaN                NaN          NaN   
         2189        NaN           NaN          NaN                NaN          NaN   
         2190        NaN           NaN          NaN                NaN          NaN   
         2191        NaN           NaN          NaN                NaN          NaN   
         2192        NaN           NaN          NaN                NaN          NaN   
         2193        NaN           NaN          NaN                NaN          NaN   
         2194      208.0        495.14        139.0             330.89      26727.0   
         2195        NaN           NaN          NaN                NaN          NaN   
         2196      168.0        208.85        149.0             185.23      70425.0   
         2197        NaN           NaN          NaN                NaN          NaN   
         2198        NaN           NaN          NaN                NaN          NaN   
         2199        NaN           NaN          NaN                NaN          NaN   
         2200      236.0        262.48        206.0             229.11     130000.0   
         2201        NaN           NaN          NaN                NaN          NaN   
         2202        NaN           NaN          NaN                NaN          NaN   
         2203        NaN           NaN          NaN                NaN          NaN   
         2204        NaN           NaN          NaN                NaN          NaN   
         2205        NaN           NaN          NaN                NaN          NaN   
         2206        NaN           NaN          NaN                NaN          NaN   
         2207      106.0        200.58        103.0             194.90      38789.0   
         2208        NaN           NaN          NaN                NaN          NaN   
         2209        NaN           NaN          NaN                NaN          NaN   
         2210        NaN           NaN          NaN                NaN          NaN   
         2211        NaN           NaN          NaN                NaN          NaN   
         2212        NaN           NaN          NaN                NaN          NaN   
         2213        NaN           NaN          NaN                NaN          NaN   
         2214        NaN           NaN          NaN                NaN          NaN   
         
               policCallPerPop  policCallPerOffic  policePerPop2  racialMatch  \textbackslash{}
         0                 NaN                NaN            NaN          NaN   
         1                 NaN                NaN            NaN          NaN   
         2                 NaN                NaN            NaN          NaN   
         3                 NaN                NaN            NaN          NaN   
         5                 NaN                NaN            NaN          NaN   
         6                 NaN                NaN            NaN          NaN   
         7                 NaN                NaN            NaN          NaN   
         8                 NaN                NaN            NaN          NaN   
         9             68065.1              370.9          183.5        89.32   
         10                NaN                NaN            NaN          NaN   
         11                NaN                NaN            NaN          NaN   
         12                NaN                NaN            NaN          NaN   
         13            67969.3              359.5          189.1        63.67   
         16                NaN                NaN            NaN          NaN   
         17           141645.0             1245.5          113.7        92.47   
         18                NaN                NaN            NaN          NaN   
         19           119730.2              983.1          121.8        95.56   
         21           113784.0              324.6          350.5        75.94   
         22                NaN                NaN            NaN          NaN   
         23                NaN                NaN            NaN          NaN   
         24                NaN                NaN            NaN          NaN   
         25                NaN                NaN            NaN          NaN   
         26                NaN                NaN            NaN          NaN   
         27                NaN                NaN            NaN          NaN   
         28                NaN                NaN            NaN          NaN   
         29                NaN                NaN            NaN          NaN   
         30                NaN                NaN            NaN          NaN   
         31            98208.7              797.9          123.1        95.47   
         32                NaN                NaN            NaN          NaN   
         33                NaN                NaN            NaN          NaN   
         {\ldots}               {\ldots}                {\ldots}            {\ldots}          {\ldots}   
         2185          63013.6              254.5          247.6        78.25   
         2186              NaN                NaN            NaN          NaN   
         2187              NaN                NaN            NaN          NaN   
         2188              NaN                NaN            NaN          NaN   
         2189              NaN                NaN            NaN          NaN   
         2190              NaN                NaN            NaN          NaN   
         2191              NaN                NaN            NaN          NaN   
         2192              NaN                NaN            NaN          NaN   
         2193              NaN                NaN            NaN          NaN   
         2194          63623.6              128.5          495.1        90.03   
         2195              NaN                NaN            NaN          NaN   
         2196          87549.7              419.2          208.9        82.07   
         2197              NaN                NaN            NaN          NaN   
         2198              NaN                NaN            NaN          NaN   
         2199              NaN                NaN            NaN          NaN   
         2200         144584.2              550.8          262.5        98.19   
         2201              NaN                NaN            NaN          NaN   
         2202              NaN                NaN            NaN          NaN   
         2203              NaN                NaN            NaN          NaN   
         2204              NaN                NaN            NaN          NaN   
         2205              NaN                NaN            NaN          NaN   
         2206              NaN                NaN            NaN          NaN   
         2207          73397.3              365.9          200.6        89.78   
         2208              NaN                NaN            NaN          NaN   
         2209              NaN                NaN            NaN          NaN   
         2210              NaN                NaN            NaN          NaN   
         2211              NaN                NaN            NaN          NaN   
         2212              NaN                NaN            NaN          NaN   
         2213              NaN                NaN            NaN          NaN   
         2214              NaN                NaN            NaN          NaN   
         
               pctPolicWhite  pctPolicBlack  pctPolicHisp  pctPolicAsian  \textbackslash{}
         0               NaN            NaN           NaN            NaN   
         1               NaN            NaN           NaN            NaN   
         2               NaN            NaN           NaN            NaN   
         3               NaN            NaN           NaN            NaN   
         5               NaN            NaN           NaN            NaN   
         6               NaN            NaN           NaN            NaN   
         7               NaN            NaN           NaN            NaN   
         8               NaN            NaN           NaN            NaN   
         9             78.28          11.11         10.61           0.00   
         10              NaN            NaN           NaN            NaN   
         11              NaN            NaN           NaN            NaN   
         12              NaN            NaN           NaN            NaN   
         13            81.98          18.02          0.00           0.00   
         16              NaN            NaN           NaN            NaN   
         17            78.43           3.92         11.76           5.39   
         18              NaN            NaN           NaN            NaN   
         19            87.08           6.74          6.18           0.00   
         21            76.21          11.17         11.82           0.69   
         22              NaN            NaN           NaN            NaN   
         23              NaN            NaN           NaN            NaN   
         24              NaN            NaN           NaN            NaN   
         25              NaN            NaN           NaN            NaN   
         26              NaN            NaN           NaN            NaN   
         27              NaN            NaN           NaN            NaN   
         28              NaN            NaN           NaN            NaN   
         29              NaN            NaN           NaN            NaN   
         30              NaN            NaN           NaN            NaN   
         31             1.60           0.00         98.40           0.00   
         32              NaN            NaN           NaN            NaN   
         33              NaN            NaN           NaN            NaN   
         {\ldots}             {\ldots}            {\ldots}           {\ldots}            {\ldots}   
         2185          80.88          19.12          0.00           0.00   
         2186            NaN            NaN           NaN            NaN   
         2187            NaN            NaN           NaN            NaN   
         2188            NaN            NaN           NaN            NaN   
         2189            NaN            NaN           NaN            NaN   
         2190            NaN            NaN           NaN            NaN   
         2191            NaN            NaN           NaN            NaN   
         2192            NaN            NaN           NaN            NaN   
         2193            NaN            NaN           NaN            NaN   
         2194          98.08           0.96          0.48           0.48   
         2195            NaN            NaN           NaN            NaN   
         2196          80.36          18.45          1.19           0.00   
         2197            NaN            NaN           NaN            NaN   
         2198            NaN            NaN           NaN            NaN   
         2199            NaN            NaN           NaN            NaN   
         2200          97.88           2.12          0.00           0.00   
         2201            NaN            NaN           NaN            NaN   
         2202            NaN            NaN           NaN            NaN   
         2203            NaN            NaN           NaN            NaN   
         2204            NaN            NaN           NaN            NaN   
         2205            NaN            NaN           NaN            NaN   
         2206            NaN            NaN           NaN            NaN   
         2207          94.34           4.72          0.94           0.00   
         2208            NaN            NaN           NaN            NaN   
         2209            NaN            NaN           NaN            NaN   
         2210            NaN            NaN           NaN            NaN   
         2211            NaN            NaN           NaN            NaN   
         2212            NaN            NaN           NaN            NaN   
         2213            NaN            NaN           NaN            NaN   
         2214            NaN            NaN           NaN            NaN   
         
               pctPolicMinority  officDrugUnits  numDiffDrugsSeiz  policAveOT  \textbackslash{}
         0                  NaN             NaN               NaN         NaN   
         1                  NaN             NaN               NaN         NaN   
         2                  NaN             NaN               NaN         NaN   
         3                  NaN             NaN               NaN         NaN   
         5                  NaN             NaN               NaN         NaN   
         6                  NaN             NaN               NaN         NaN   
         7                  NaN             NaN               NaN         NaN   
         8                  NaN             NaN               NaN         NaN   
         9                21.72            13.0              12.0        60.2   
         10                 NaN             NaN               NaN         NaN   
         11                 NaN             NaN               NaN         NaN   
         12                 NaN             NaN               NaN         NaN   
         13               18.02            12.0               7.0        72.1   
         16                 NaN             NaN               NaN         NaN   
         17               21.08            12.0              11.0        16.9   
         18                 NaN             NaN               NaN         NaN   
         19               12.92            28.0              10.0        42.1   
         21               23.45          1773.0              10.0       242.2   
         22                 NaN             NaN               NaN         NaN   
         23                 NaN             NaN               NaN         NaN   
         24                 NaN             NaN               NaN         NaN   
         25                 NaN             NaN               NaN         NaN   
         26                 NaN             NaN               NaN         NaN   
         27                 NaN             NaN               NaN         NaN   
         28                 NaN             NaN               NaN         NaN   
         29                 NaN             NaN               NaN         NaN   
         30                 NaN             NaN               NaN         NaN   
         31               98.40             8.0               3.0       160.7   
         32                 NaN             NaN               NaN         NaN   
         33                 NaN             NaN               NaN         NaN   
         {\ldots}                {\ldots}             {\ldots}               {\ldots}         {\ldots}   
         2185             19.12             0.0               6.0        71.5   
         2186               NaN             NaN               NaN         NaN   
         2187               NaN             NaN               NaN         NaN   
         2188               NaN             NaN               NaN         NaN   
         2189               NaN             NaN               NaN         NaN   
         2190               NaN             NaN               NaN         NaN   
         2191               NaN             NaN               NaN         NaN   
         2192               NaN             NaN               NaN         NaN   
         2193               NaN             NaN               NaN         NaN   
         2194              1.92            12.0               6.0        42.1   
         2195               NaN             NaN               NaN         NaN   
         2196             19.64            19.0               7.0        41.7   
         2197               NaN             NaN               NaN         NaN   
         2198               NaN             NaN               NaN         NaN   
         2199               NaN             NaN               NaN         NaN   
         2200              2.12            14.0               4.0       148.3   
         2201               NaN             NaN               NaN         NaN   
         2202               NaN             NaN               NaN         NaN   
         2203               NaN             NaN               NaN         NaN   
         2204               NaN             NaN               NaN         NaN   
         2205               NaN             NaN               NaN         NaN   
         2206               NaN             NaN               NaN         NaN   
         2207              5.66             6.0               4.0        25.7   
         2208               NaN             NaN               NaN         NaN   
         2209               NaN             NaN               NaN         NaN   
         2210               NaN             NaN               NaN         NaN   
         2211               NaN             NaN               NaN         NaN   
         2212               NaN             NaN               NaN         NaN   
         2213               NaN             NaN               NaN         NaN   
         2214               NaN             NaN               NaN         NaN   
         
               landArea  popDensity  pctUsePubTrans  policCarsAvail  policOperBudget  \textbackslash{}
         0          6.5      1845.9            9.63             NaN              NaN   
         1         10.6      2186.7            3.84             NaN              NaN   
         2         10.6      2780.9            4.37             NaN              NaN   
         3          5.2      3217.7            3.31             NaN              NaN   
         5         70.4      1995.7            0.97             NaN              NaN   
         6         10.9      2643.5            9.62             NaN              NaN   
         7         39.2      1515.3            0.70             NaN              NaN   
         8         30.9      2399.3            1.41             NaN              NaN   
         9         78.5      1319.3            0.76           100.0     9.315474e+06   
         10        38.7       816.1            0.00             NaN              NaN   
         11         2.7      9387.3           11.22             NaN              NaN   
         12        30.0      1354.2            0.28             NaN              NaN   
         13        43.9      1301.5            0.93            44.0     3.761016e+06   
         16        34.6      1314.3            1.28             NaN              NaN   
         17        31.7      5677.3            4.15            86.0     2.090041e+07   
         18         5.8      2552.7            1.96             NaN              NaN   
         19        96.4      2716.3            0.14            98.0     2.019538e+07   
         21       320.1     22878.2           54.33          3187.0     1.617293e+09   
         22         9.1      2917.9            1.93             NaN              NaN   
         23        41.8       291.4            0.75             NaN              NaN   
         24        10.1      1581.4            0.58             NaN              NaN   
         25        23.0      1073.9            0.00             NaN              NaN   
         26         3.7      3697.1            1.11             NaN              NaN   
         27        14.9      5943.0            2.17             NaN              NaN   
         28         9.4      1189.1            0.09             NaN              NaN   
         29        14.9      1900.7            0.10             NaN              NaN   
         30         4.8      2323.5            0.78             NaN              NaN   
         31        34.1      3608.7            3.55            90.0     6.357675e+06   
         32         6.2      3353.7            2.60             NaN              NaN   
         33        52.5       225.9            0.88             NaN              NaN   
         {\ldots}        {\ldots}         {\ldots}             {\ldots}             {\ldots}              {\ldots}   
         2185      41.8      1170.8            1.67            80.0     6.877907e+06   
         2186      19.7      1177.7            0.74             NaN              NaN   
         2187       3.7      4062.2            1.73             NaN              NaN   
         2188      17.0       777.1            7.74             NaN              NaN   
         2189       5.7      2933.9            6.35             NaN              NaN   
         2190       6.8      2265.3            6.57             NaN              NaN   
         2191      50.9       262.0            1.73             NaN              NaN   
         2192       6.3      6031.5           15.82             NaN              NaN   
         2193      14.6      2043.6            0.23             NaN              NaN   
         2194      20.0      1879.8            3.65            69.0     1.355909e+07   
         2195       4.6      4428.7            1.19             NaN              NaN   
         2196      48.8      1593.9            0.47            75.0     7.281130e+06   
         2197      20.7       718.9            0.09             NaN              NaN   
         2198      42.7       285.6            2.00             NaN              NaN   
         2199      78.2       325.4            2.46             NaN              NaN   
         2200      32.1      2884.7            1.96            70.0     9.600000e+06   
         2201      69.7       352.1            1.76             NaN              NaN   
         2202      15.5       916.8            0.57             NaN              NaN   
         2203       2.0     13345.2            3.70             NaN              NaN   
         2204      10.7      2240.5            1.76             NaN              NaN   
         2205      16.9       876.4            0.47             NaN              NaN   
         2206      26.7       813.8            0.09             NaN              NaN   
         2207      11.2      4812.3            3.35            35.0     6.025642e+06   
         2208       7.2      1824.8            0.00             NaN              NaN   
         2209       2.6      4109.8            1.22             NaN              NaN   
         2210      16.7      3365.4            0.59             NaN              NaN   
         2211       7.3      1682.8            1.15             NaN              NaN   
         2212      27.5      1195.2            0.12             NaN              NaN   
         2213       6.3      2142.2            0.00             NaN              NaN   
         2214      21.7      1331.0            1.39             NaN              NaN   
         
               pctPolicPatrol  gangUnit  pctOfficDrugUnit  policBudgetPerPop  \textbackslash{}
         0                NaN       NaN              0.00                NaN   
         1                NaN       NaN              0.00                NaN   
         2                NaN       NaN              0.00                NaN   
         3                NaN       NaN              0.00                NaN   
         5                NaN       NaN              0.00                NaN   
         6                NaN       NaN              0.00                NaN   
         7                NaN       NaN              0.00                NaN   
         8                NaN       NaN              0.00                NaN   
         9              94.44      10.0              6.57           86346.30   
         10               NaN       NaN              0.00                NaN   
         11               NaN       NaN              0.00                NaN   
         12               NaN       NaN              0.00                NaN   
         13             80.18      10.0             10.81           64068.50   
         16               NaN       NaN              0.00                NaN   
         17             92.65       5.0              5.88          116516.00   
         18               NaN       NaN              0.00                NaN   
         19             92.70      10.0              7.87           69085.60   
         21             87.69       5.0              6.91          220955.41   
         22               NaN       NaN              0.00                NaN   
         23               NaN       NaN              0.00                NaN   
         24               NaN       NaN              0.00                NaN   
         25               NaN       NaN              0.00                NaN   
         26               NaN       NaN              0.00                NaN   
         27               NaN       NaN              0.00                NaN   
         28               NaN       NaN              0.00                NaN   
         29               NaN       NaN              0.00                NaN   
         30               NaN       NaN              0.00                NaN   
         31             86.70       0.0              4.26           41625.30   
         32               NaN       NaN              0.00                NaN   
         33               NaN       NaN              0.00                NaN   
         {\ldots}              {\ldots}       {\ldots}               {\ldots}                {\ldots}   
         2185           90.44      10.0              0.00          125209.90   
         2186             NaN       NaN              0.00                NaN   
         2187             NaN       NaN              0.00                NaN   
         2188             NaN       NaN              0.00                NaN   
         2189             NaN       NaN              0.00                NaN   
         2190             NaN       NaN              0.00                NaN   
         2191             NaN       NaN              0.00                NaN   
         2192             NaN       NaN              0.00                NaN   
         2193             NaN       NaN              0.00                NaN   
         2194           66.83       5.0              5.77          322774.00   
         2195             NaN       NaN              0.00                NaN   
         2196           88.69      10.0             11.31           90516.30   
         2197             NaN       NaN              0.00                NaN   
         2198             NaN       NaN              0.00                NaN   
         2199             NaN       NaN              0.00                NaN   
         2200           87.29       0.0              5.93          106769.90   
         2201             NaN       NaN              0.00                NaN   
         2202             NaN       NaN              0.00                NaN   
         2203             NaN       NaN              0.00                NaN   
         2204             NaN       NaN              0.00                NaN   
         2205             NaN       NaN              0.00                NaN   
         2206             NaN       NaN              0.00                NaN   
         2207           97.17       0.0              5.66          114018.40   
         2208             NaN       NaN              0.00                NaN   
         2209             NaN       NaN              0.00                NaN   
         2210             NaN       NaN              0.00                NaN   
         2211             NaN       NaN              0.00                NaN   
         2212             NaN       NaN              0.00                NaN   
         2213             NaN       NaN              0.00                NaN   
         2214             NaN       NaN              0.00                NaN   
         
               violentPerPop  communityType  policeField\_missing  \textbackslash{}
         0             41.02       township                 True   
         1            127.56       township                 True   
         2            218.59           city                 True   
         3            306.64           city                 True   
         5            442.95           city                 True   
         6            226.63           town                 True   
         7            439.73           city                 True   
         8            115.31           city                 True   
         9           1544.24           city                False   
         10           722.02           city                 True   
         11          2605.96           city                 True   
         12           798.39           city                 True   
         13          1476.93           city                False   
         16            89.94           town                 True   
         17           374.07           city                False   
         18           112.50           city                 True   
         19           772.77           city                False   
         21          2097.71           city                False   
         22           644.75           city                 True   
         23           145.20           city                 True   
         24           560.71           city                 True   
         25           204.23           city                 True   
         26           347.97           city                 True   
         27           894.51           city                 True   
         28          1143.90           city                 True   
         29           724.95           city                 True   
         30          1487.34           city                 True   
         31           689.42           city                False   
         32            49.93           city                 True   
         33            16.72           town                 True   
         {\ldots}             {\ldots}            {\ldots}                  {\ldots}   
         2185        1691.21           city                False   
         2186         741.91           city                 True   
         2187         216.85        borough                 True   
         2188          73.73       township                 True   
         2189         324.66           city                 True   
         2190          43.98       township                 True   
         2191         254.93       township                 True   
         2192         255.74       township                 True   
         2193         492.40           city                 True   
         2194         228.53           city                False   
         2195         485.18           city                 True   
         2196        1246.89           city                False   
         2197         205.84           city                 True   
         2198         234.34           town                 True   
         2199          86.12       township                 True   
         2200         640.62           city                False   
         2201         409.98       township                 True   
         2202         255.86           city                 True   
         2203        1996.15           city                 True   
         2204         288.98           city                 True   
         2205         372.56           city                 True   
         2206         228.66           city                 True   
         2207         285.73           town                False   
         2208          46.85           city                 True   
         2209         132.87        borough                 True   
         2210         545.75           city                 True   
         2211         124.10           city                 True   
         2212         353.83           city                 True   
         2213         691.17           city                 True   
         2214         918.89           city                 True   
         
               pctPolicMinority\_missing  numPolice\_missing policePerPop\_missing  \textbackslash{}
         0                         True               True                 True   
         1                         True               True                 True   
         2                         True               True                 True   
         3                         True               True                 True   
         5                         True               True                 True   
         6                         True               True                 True   
         7                         True               True                 True   
         8                         True               True                 True   
         9                        False              False                False   
         10                        True               True                 True   
         11                        True               True                 True   
         12                        True               True                 True   
         13                       False              False                False   
         16                        True               True                 True   
         17                       False              False                False   
         18                        True               True                 True   
         19                       False              False                False   
         21                       False              False                False   
         22                        True               True                 True   
         23                        True               True                 True   
         24                        True               True                 True   
         25                        True               True                 True   
         26                        True               True                 True   
         27                        True               True                 True   
         28                        True               True                 True   
         29                        True               True                 True   
         30                        True               True                 True   
         31                       False              False                False   
         32                        True               True                 True   
         33                        True               True                 True   
         {\ldots}                        {\ldots}                {\ldots}                  {\ldots}   
         2185                     False              False                False   
         2186                      True               True                 True   
         2187                      True               True                 True   
         2188                      True               True                 True   
         2189                      True               True                 True   
         2190                      True               True                 True   
         2191                      True               True                 True   
         2192                      True               True                 True   
         2193                      True               True                 True   
         2194                     False              False                False   
         2195                      True               True                 True   
         2196                     False              False                False   
         2197                      True               True                 True   
         2198                      True               True                 True   
         2199                      True               True                 True   
         2200                     False              False                False   
         2201                      True               True                 True   
         2202                      True               True                 True   
         2203                      True               True                 True   
         2204                      True               True                 True   
         2205                      True               True                 True   
         2206                      True               True                 True   
         2207                     False              False                False   
         2208                      True               True                 True   
         2209                      True               True                 True   
         2210                      True               True                 True   
         2211                      True               True                 True   
         2212                      True               True                 True   
         2213                      True               True                 True   
         2214                      True               True                 True   
         
               policeFieldPerPop\_missing  policeCalls\_missing  policCallPerPop\_missing  \textbackslash{}
         0                          True                 True                     True   
         1                          True                 True                     True   
         2                          True                 True                     True   
         3                          True                 True                     True   
         5                          True                 True                     True   
         6                          True                 True                     True   
         7                          True                 True                     True   
         8                          True                 True                     True   
         9                         False                False                    False   
         10                         True                 True                     True   
         11                         True                 True                     True   
         12                         True                 True                     True   
         13                        False                False                    False   
         16                         True                 True                     True   
         17                        False                False                    False   
         18                         True                 True                     True   
         19                        False                False                    False   
         21                        False                False                    False   
         22                         True                 True                     True   
         23                         True                 True                     True   
         24                         True                 True                     True   
         25                         True                 True                     True   
         26                         True                 True                     True   
         27                         True                 True                     True   
         28                         True                 True                     True   
         29                         True                 True                     True   
         30                         True                 True                     True   
         31                        False                False                    False   
         32                         True                 True                     True   
         33                         True                 True                     True   
         {\ldots}                         {\ldots}                  {\ldots}                      {\ldots}   
         2185                      False                False                    False   
         2186                       True                 True                     True   
         2187                       True                 True                     True   
         2188                       True                 True                     True   
         2189                       True                 True                     True   
         2190                       True                 True                     True   
         2191                       True                 True                     True   
         2192                       True                 True                     True   
         2193                       True                 True                     True   
         2194                      False                False                    False   
         2195                       True                 True                     True   
         2196                      False                False                    False   
         2197                       True                 True                     True   
         2198                       True                 True                     True   
         2199                       True                 True                     True   
         2200                      False                False                    False   
         2201                       True                 True                     True   
         2202                       True                 True                     True   
         2203                       True                 True                     True   
         2204                       True                 True                     True   
         2205                       True                 True                     True   
         2206                       True                 True                     True   
         2207                      False                False                    False   
         2208                       True                 True                     True   
         2209                       True                 True                     True   
         2210                       True                 True                     True   
         2211                       True                 True                     True   
         2212                       True                 True                     True   
         2213                       True                 True                     True   
         2214                       True                 True                     True   
         
               policCallPerOffic\_missing  policePerPop2\_missing  racialMatch\_missing  \textbackslash{}
         0                          True                   True                 True   
         1                          True                   True                 True   
         2                          True                   True                 True   
         3                          True                   True                 True   
         5                          True                   True                 True   
         6                          True                   True                 True   
         7                          True                   True                 True   
         8                          True                   True                 True   
         9                         False                  False                False   
         10                         True                   True                 True   
         11                         True                   True                 True   
         12                         True                   True                 True   
         13                        False                  False                False   
         16                         True                   True                 True   
         17                        False                  False                False   
         18                         True                   True                 True   
         19                        False                  False                False   
         21                        False                  False                False   
         22                         True                   True                 True   
         23                         True                   True                 True   
         24                         True                   True                 True   
         25                         True                   True                 True   
         26                         True                   True                 True   
         27                         True                   True                 True   
         28                         True                   True                 True   
         29                         True                   True                 True   
         30                         True                   True                 True   
         31                        False                  False                False   
         32                         True                   True                 True   
         33                         True                   True                 True   
         {\ldots}                         {\ldots}                    {\ldots}                  {\ldots}   
         2185                      False                  False                False   
         2186                       True                   True                 True   
         2187                       True                   True                 True   
         2188                       True                   True                 True   
         2189                       True                   True                 True   
         2190                       True                   True                 True   
         2191                       True                   True                 True   
         2192                       True                   True                 True   
         2193                       True                   True                 True   
         2194                      False                  False                False   
         2195                       True                   True                 True   
         2196                      False                  False                False   
         2197                       True                   True                 True   
         2198                       True                   True                 True   
         2199                       True                   True                 True   
         2200                      False                  False                False   
         2201                       True                   True                 True   
         2202                       True                   True                 True   
         2203                       True                   True                 True   
         2204                       True                   True                 True   
         2205                       True                   True                 True   
         2206                       True                   True                 True   
         2207                      False                  False                False   
         2208                       True                   True                 True   
         2209                       True                   True                 True   
         2210                       True                   True                 True   
         2211                       True                   True                 True   
         2212                       True                   True                 True   
         2213                       True                   True                 True   
         2214                       True                   True                 True   
         
               pctPolicBlack\_missing  pctPolicHisp\_missing  pctPolicAsian\_missing  \textbackslash{}
         0                      True                  True                   True   
         1                      True                  True                   True   
         2                      True                  True                   True   
         3                      True                  True                   True   
         5                      True                  True                   True   
         6                      True                  True                   True   
         7                      True                  True                   True   
         8                      True                  True                   True   
         9                     False                 False                  False   
         10                     True                  True                   True   
         11                     True                  True                   True   
         12                     True                  True                   True   
         13                    False                 False                  False   
         16                     True                  True                   True   
         17                    False                 False                  False   
         18                     True                  True                   True   
         19                    False                 False                  False   
         21                    False                 False                  False   
         22                     True                  True                   True   
         23                     True                  True                   True   
         24                     True                  True                   True   
         25                     True                  True                   True   
         26                     True                  True                   True   
         27                     True                  True                   True   
         28                     True                  True                   True   
         29                     True                  True                   True   
         30                     True                  True                   True   
         31                    False                 False                  False   
         32                     True                  True                   True   
         33                     True                  True                   True   
         {\ldots}                     {\ldots}                   {\ldots}                    {\ldots}   
         2185                  False                 False                  False   
         2186                   True                  True                   True   
         2187                   True                  True                   True   
         2188                   True                  True                   True   
         2189                   True                  True                   True   
         2190                   True                  True                   True   
         2191                   True                  True                   True   
         2192                   True                  True                   True   
         2193                   True                  True                   True   
         2194                  False                 False                  False   
         2195                   True                  True                   True   
         2196                  False                 False                  False   
         2197                   True                  True                   True   
         2198                   True                  True                   True   
         2199                   True                  True                   True   
         2200                  False                 False                  False   
         2201                   True                  True                   True   
         2202                   True                  True                   True   
         2203                   True                  True                   True   
         2204                   True                  True                   True   
         2205                   True                  True                   True   
         2206                   True                  True                   True   
         2207                  False                 False                  False   
         2208                   True                  True                   True   
         2209                   True                  True                   True   
         2210                   True                  True                   True   
         2211                   True                  True                   True   
         2212                   True                  True                   True   
         2213                   True                  True                   True   
         2214                   True                  True                   True   
         
               pctPolicWhite\_missing  officDrugUnits\_missing  policAveOT\_missing  \textbackslash{}
         0                      True                    True                True   
         1                      True                    True                True   
         2                      True                    True                True   
         3                      True                    True                True   
         5                      True                    True                True   
         6                      True                    True                True   
         7                      True                    True                True   
         8                      True                    True                True   
         9                     False                   False               False   
         10                     True                    True                True   
         11                     True                    True                True   
         12                     True                    True                True   
         13                    False                   False               False   
         16                     True                    True                True   
         17                    False                   False               False   
         18                     True                    True                True   
         19                    False                   False               False   
         21                    False                   False               False   
         22                     True                    True                True   
         23                     True                    True                True   
         24                     True                    True                True   
         25                     True                    True                True   
         26                     True                    True                True   
         27                     True                    True                True   
         28                     True                    True                True   
         29                     True                    True                True   
         30                     True                    True                True   
         31                    False                   False               False   
         32                     True                    True                True   
         33                     True                    True                True   
         {\ldots}                     {\ldots}                     {\ldots}                 {\ldots}   
         2185                  False                   False               False   
         2186                   True                    True                True   
         2187                   True                    True                True   
         2188                   True                    True                True   
         2189                   True                    True                True   
         2190                   True                    True                True   
         2191                   True                    True                True   
         2192                   True                    True                True   
         2193                   True                    True                True   
         2194                  False                   False               False   
         2195                   True                    True                True   
         2196                  False                   False               False   
         2197                   True                    True                True   
         2198                   True                    True                True   
         2199                   True                    True                True   
         2200                  False                   False               False   
         2201                   True                    True                True   
         2202                   True                    True                True   
         2203                   True                    True                True   
         2204                   True                    True                True   
         2205                   True                    True                True   
         2206                   True                    True                True   
         2207                  False                   False               False   
         2208                   True                    True                True   
         2209                   True                    True                True   
         2210                   True                    True                True   
         2211                   True                    True                True   
         2212                   True                    True                True   
         2213                   True                    True                True   
         2214                   True                    True                True   
         
               policCarsAvail\_missing  policOperBudget\_missing  pctPolicPatrol\_missing  \textbackslash{}
         0                       True                     True                    True   
         1                       True                     True                    True   
         2                       True                     True                    True   
         3                       True                     True                    True   
         5                       True                     True                    True   
         6                       True                     True                    True   
         7                       True                     True                    True   
         8                       True                     True                    True   
         9                      False                    False                   False   
         10                      True                     True                    True   
         11                      True                     True                    True   
         12                      True                     True                    True   
         13                     False                    False                   False   
         16                      True                     True                    True   
         17                     False                    False                   False   
         18                      True                     True                    True   
         19                     False                    False                   False   
         21                     False                    False                   False   
         22                      True                     True                    True   
         23                      True                     True                    True   
         24                      True                     True                    True   
         25                      True                     True                    True   
         26                      True                     True                    True   
         27                      True                     True                    True   
         28                      True                     True                    True   
         29                      True                     True                    True   
         30                      True                     True                    True   
         31                     False                    False                   False   
         32                      True                     True                    True   
         33                      True                     True                    True   
         {\ldots}                      {\ldots}                      {\ldots}                     {\ldots}   
         2185                   False                    False                   False   
         2186                    True                     True                    True   
         2187                    True                     True                    True   
         2188                    True                     True                    True   
         2189                    True                     True                    True   
         2190                    True                     True                    True   
         2191                    True                     True                    True   
         2192                    True                     True                    True   
         2193                    True                     True                    True   
         2194                   False                    False                   False   
         2195                    True                     True                    True   
         2196                   False                    False                   False   
         2197                    True                     True                    True   
         2198                    True                     True                    True   
         2199                    True                     True                    True   
         2200                   False                    False                   False   
         2201                    True                     True                    True   
         2202                    True                     True                    True   
         2203                    True                     True                    True   
         2204                    True                     True                    True   
         2205                    True                     True                    True   
         2206                    True                     True                    True   
         2207                   False                    False                   False   
         2208                    True                     True                    True   
         2209                    True                     True                    True   
         2210                    True                     True                    True   
         2211                    True                     True                    True   
         2212                    True                     True                    True   
         2213                    True                     True                    True   
         2214                    True                     True                    True   
         
               gangUnit\_missing  numDiffDrugsSeiz\_missing  policBudgetPerPop\_missing  \textbackslash{}
         0                 True                      True                       True   
         1                 True                      True                       True   
         2                 True                      True                       True   
         3                 True                      True                       True   
         5                 True                      True                       True   
         6                 True                      True                       True   
         7                 True                      True                       True   
         8                 True                      True                       True   
         9                False                     False                      False   
         10                True                      True                       True   
         11                True                      True                       True   
         12                True                      True                       True   
         13               False                     False                      False   
         16                True                      True                       True   
         17               False                     False                      False   
         18                True                      True                       True   
         19               False                     False                      False   
         21               False                     False                      False   
         22                True                      True                       True   
         23                True                      True                       True   
         24                True                      True                       True   
         25                True                      True                       True   
         26                True                      True                       True   
         27                True                      True                       True   
         28                True                      True                       True   
         29                True                      True                       True   
         30                True                      True                       True   
         31               False                     False                      False   
         32                True                      True                       True   
         33                True                      True                       True   
         {\ldots}                {\ldots}                       {\ldots}                        {\ldots}   
         2185             False                     False                      False   
         2186              True                      True                       True   
         2187              True                      True                       True   
         2188              True                      True                       True   
         2189              True                      True                       True   
         2190              True                      True                       True   
         2191              True                      True                       True   
         2192              True                      True                       True   
         2193              True                      True                       True   
         2194             False                     False                      False   
         2195              True                      True                       True   
         2196             False                     False                      False   
         2197              True                      True                       True   
         2198              True                      True                       True   
         2199              True                      True                       True   
         2200             False                     False                      False   
         2201              True                      True                       True   
         2202              True                      True                       True   
         2203              True                      True                       True   
         2204              True                      True                       True   
         2205              True                      True                       True   
         2206              True                      True                       True   
         2207             False                     False                      False   
         2208              True                      True                       True   
         2209              True                      True                       True   
         2210              True                      True                       True   
         2211              True                      True                       True   
         2212              True                      True                       True   
         2213              True                      True                       True   
         2214              True                      True                       True   
         
               communityCode\_missing  countyCode\_missing  
         0                     False               False  
         1                     False               False  
         2                      True                True  
         3                     False               False  
         5                      True                True  
         6                     False               False  
         7                      True                True  
         8                     False               False  
         9                      True                True  
         10                     True                True  
         11                     True                True  
         12                     True                True  
         13                     True                True  
         16                    False               False  
         17                     True                True  
         18                     True                True  
         19                     True                True  
         21                     True                True  
         22                     True                True  
         23                    False               False  
         24                     True                True  
         25                     True                True  
         26                     True                True  
         27                     True                True  
         28                     True                True  
         29                     True                True  
         30                     True                True  
         31                     True                True  
         32                    False               False  
         33                    False               False  
         {\ldots}                     {\ldots}                 {\ldots}  
         2185                   True                True  
         2186                   True                True  
         2187                  False               False  
         2188                  False               False  
         2189                   True                True  
         2190                  False               False  
         2191                  False               False  
         2192                  False               False  
         2193                   True                True  
         2194                   True                True  
         2195                   True                True  
         2196                   True                True  
         2197                   True                True  
         2198                  False               False  
         2199                  False               False  
         2200                  False               False  
         2201                  False               False  
         2202                   True                True  
         2203                   True                True  
         2204                   True                True  
         2205                   True                True  
         2206                   True                True  
         2207                  False               False  
         2208                  False               False  
         2209                  False               False  
         2210                   True                True  
         2211                   True                True  
         2212                   True                True  
         2213                   True                True  
         2214                   True                True  
         
         [1994 rows x 154 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{crimes} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{thresh} \PY{o}{=} \PY{l+m+mf}{0.5}\PY{o}{*}\PY{n+nb}{len}\PY{p}{(}\PY{n}{crimes}\PY{p}{)}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}33}]:} (1994, 130)
\end{Verbatim}
            
    \subsection{Handling missing values}\label{handling-missing-values}

    We still have only 1 missing value left in other per cap.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{msno}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{n}{crimes}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_61_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{c+c1}{\PYZsh{}percentage nulls per column}
         \PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{/}\PY{n}{crimes}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}35}]:} otherPerCap            0.000502
         countyCode\_missing     0.000000
         pctKids-4w2Par         0.000000
         pctUnemploy            0.000000
         pctEmploy              0.000000
         pctEmployMfg           0.000000
         pctEmployProfServ      0.000000
         pctOccupManu           0.000000
         pctOccupMgmt           0.000000
         pctMaleDivorc          0.000000
         pctMaleNevMar          0.000000
         pctFemDivorc           0.000000
         pctAllDivorc           0.000000
         persPerFam             0.000000
         pct2Par                0.000000
         pctKids2Par            0.000000
         pct12-17w2Par          0.000000
         pctNotHSgrad           0.000000
         pctWorkMom-6           0.000000
         pctWorkMom-18          0.000000
         kidsBornNevrMarr       0.000000
         pctKidsBornNevrMarr    0.000000
         numForeignBorn         0.000000
         pctFgnImmig-3          0.000000
         pctFgnImmig-5          0.000000
         pctFgnImmig-8          0.000000
         pctFgnImmig-10         0.000000
         pctImmig-3             0.000000
         pctImmig-5             0.000000
         pctImmig-8             0.000000
                                  {\ldots}   
         pctHousWOplumb         0.000000
         persPerOwnOccup        0.000000
         persPerRenterOccup     0.000000
         pctPersOwnOccup        0.000000
         pctPopDenseHous        0.000000
         pctSmallHousUnits      0.000000
         medNumBedrm            0.000000
         houseVacant            0.000000
         pctHousOccup           0.000000
         pctHousOwnerOccup      0.000000
         pctVacantBoarded       0.000000
         pctVacant6up           0.000000
         medYrHousBuilt         0.000000
         pctHousWOphone         0.000000
         ownHousLowQ            0.000000
         pctForeignBorn         0.000000
         ownHousMed             0.000000
         ownHousUperQ           0.000000
         ownHousQrange          0.000000
         rentLowQ               0.000000
         rentMed                0.000000
         rentUpperQ             0.000000
         rentQrange             0.000000
         medGrossRent           0.000000
         medRentpctHousInc      0.000000
         medOwnCostpct          0.000000
         medOwnCostPctWO        0.000000
         persEmergShelt         0.000000
         persHomeless           0.000000
         State                  0.000000
         Length: 130, dtype: float64
\end{Verbatim}
            
    only other per cap is missing in one row. But looking at the pct black
and such there are no other people than black, whitem asian and hispanic
(the sum is alreayd more than hundred).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}36}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{filter}\PY{p}{(}\PY{n}{regex}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{(?i)white|black|asian|other|indian|hisp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{isnan}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{otherPerCap}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}36}]:}       pctBlack  pctWhite  pctAsian  pctHisp  whitePerCap  blackPerCap  \textbackslash{}
         2005     50.34     49.31      0.23      0.5        14988         5876   
         
               asianPerCap  otherPerCap  hispPerCap  pctPolicBlack\_missing  \textbackslash{}
         2005        16278          NaN       17758                   True   
         
               pctPolicHisp\_missing  pctPolicAsian\_missing  pctPolicWhite\_missing  
         2005                  True                   True                   True  
\end{Verbatim}
            
    Let's plot the wages per capita for other. We impute by the median
because of the skewedness.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{otherPerCap}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{otherPerCap}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{otherPerCap}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}\PYZhy{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{g}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_66_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{otherPerCap}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{otherPerCap}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{transform}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{x}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{n}{crimes}\PY{p}{[}\PY{n}{crimes}\PY{o}{.}\PY{n}{otherPerCap}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}39}]:} Empty DataFrame
         Columns: [State, fold, pop, perHoush, pctBlack, pctWhite, pctAsian, pctHisp, pct12-21, pct12-29, pct16-24, pct65up, persUrban, pctUrban, medIncome, pctWwage, pctWfarm, pctWdiv, pctWsocsec, pctPubAsst, pctRetire, medFamIncome, perCapInc, whitePerCap, blackPerCap, NAperCap, asianPerCap, otherPerCap, hispPerCap, persPoverty, pctPoverty, pctLowEdu, pctNotHSgrad, pctCollGrad, pctUnemploy, pctEmploy, pctEmployMfg, pctEmployProfServ, pctOccupManu, pctOccupMgmt, pctMaleDivorc, pctMaleNevMar, pctFemDivorc, pctAllDivorc, persPerFam, pct2Par, pctKids2Par, pctKids-4w2Par, pct12-17w2Par, pctWorkMom-6, pctWorkMom-18, kidsBornNevrMarr, pctKidsBornNevrMarr, numForeignBorn, pctFgnImmig-3, pctFgnImmig-5, pctFgnImmig-8, pctFgnImmig-10, pctImmig-3, pctImmig-5, pctImmig-8, pctImmig-10, pctSpeakOnlyEng, pctNotSpeakEng, pctLargHousFam, pctLargHous, persPerOccupHous, persPerOwnOccup, persPerRenterOccup, pctPersOwnOccup, pctPopDenseHous, pctSmallHousUnits, medNumBedrm, houseVacant, pctHousOccup, pctHousOwnerOccup, pctVacantBoarded, pctVacant6up, medYrHousBuilt, pctHousWOphone, pctHousWOplumb, ownHousLowQ, ownHousMed, ownHousUperQ, ownHousQrange, rentLowQ, rentMed, rentUpperQ, rentQrange, medGrossRent, medRentpctHousInc, medOwnCostpct, medOwnCostPctWO, persEmergShelt, persHomeless, pctForeignBorn, pctBornStateResid, pctSameHouse-5, pctSameCounty-5, pctSameState-5, {\ldots}]
         Index: []
\end{Verbatim}
            
    No missing values are left!

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:} State                  0
         persHomeless           0
         persEmergShelt         0
         medOwnCostPctWO        0
         medOwnCostpct          0
         medRentpctHousInc      0
         medGrossRent           0
         rentQrange             0
         rentUpperQ             0
         rentMed                0
         rentLowQ               0
         ownHousQrange          0
         ownHousUperQ           0
         ownHousMed             0
         pctForeignBorn         0
         ownHousLowQ            0
         pctHousWOphone         0
         medYrHousBuilt         0
         pctVacant6up           0
         pctVacantBoarded       0
         pctHousOwnerOccup      0
         pctHousOccup           0
         houseVacant            0
         medNumBedrm            0
         pctSmallHousUnits      0
         pctPopDenseHous        0
         pctPersOwnOccup        0
         persPerRenterOccup     0
         persPerOwnOccup        0
         pctHousWOplumb         0
                               ..
         pctImmig-10            0
         pctImmig-8             0
         pctImmig-5             0
         pctImmig-3             0
         pctFgnImmig-10         0
         pctFgnImmig-8          0
         pctFgnImmig-5          0
         pctFgnImmig-3          0
         numForeignBorn         0
         pctKidsBornNevrMarr    0
         kidsBornNevrMarr       0
         pctWorkMom-18          0
         pctWorkMom-6           0
         pct12-17w2Par          0
         pctKids-4w2Par         0
         pctKids2Par            0
         pct2Par                0
         persPerFam             0
         pctAllDivorc           0
         pctFemDivorc           0
         pctMaleNevMar          0
         pctMaleDivorc          0
         pctOccupMgmt           0
         pctOccupManu           0
         pctEmployProfServ      0
         pctEmployMfg           0
         pctEmploy              0
         pctUnemploy            0
         pctNotHSgrad           0
         countyCode\_missing     0
         Length: 130, dtype: int64
\end{Verbatim}
            
    \subsection{Exploring the correlation between
variables}\label{exploring-the-correlation-between-variables}

    We now explore the correlation between the variables to see which ones
we should consider for the models.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{c+c1}{\PYZsh{} GETTING Correllation matrix}
         \PY{n}{corr\PYZus{}mat}\PY{o}{=}\PY{n}{crimes}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pearson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{corr\PYZus{}mat}\PY{p}{,}\PY{n}{vmax}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{square}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{annot}\PY{o}{=}\PY{k+kc}{False}\PY{p}{,}\PY{n}{cmap}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cubehelix}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Correlation between non\PYZhy{}class variables}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_73_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    We want to drop features which are highly correlated:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{c+c1}{\PYZsh{} Create correlation matrix}
         \PY{n}{corr\PYZus{}matrix} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{violentPerPop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis} \PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{} Select upper triangle of correlation matrix}
         \PY{n}{upper} \PY{o}{=} \PY{n}{corr\PYZus{}matrix}\PY{o}{.}\PY{n}{where}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{triu}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{ones}\PY{p}{(}\PY{n}{corr\PYZus{}matrix}\PY{o}{.}\PY{n}{shape}\PY{p}{)}\PY{p}{,} \PY{n}{k}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{bool}\PY{p}{)}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}select treshhold}
         
         \PY{n}{tresh} \PY{o}{=} \PY{l+m+mf}{0.80}
         
         \PY{c+c1}{\PYZsh{} Find index of feature columns with correlation greater than 0.95}
         \PY{n}{to\PYZus{}drop} \PY{o}{=} \PY{p}{[}\PY{n}{column} \PY{k}{for} \PY{n}{column} \PY{o+ow}{in} \PY{n}{upper}\PY{o}{.}\PY{n}{columns} \PY{k}{if} \PY{n+nb}{any}\PY{p}{(}\PY{n}{upper}\PY{p}{[}\PY{n}{column}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{tresh}\PY{p}{)}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{to\PYZus{}drop}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}43}]:} ['pctWhite',
          'pct12-29',
          'pct16-24',
          'persUrban',
          'pctWwage',
          'pctWsocsec',
          'medFamIncome',
          'perCapInc',
          'whitePerCap',
          'persPoverty',
          'pctNotHSgrad',
          'pctUnemploy',
          'pctEmploy',
          'pctOccupMgmt',
          'pctMaleNevMar',
          'pctFemDivorc',
          'pctAllDivorc',
          'persPerFam',
          'pctKids2Par',
          'pctKids-4w2Par',
          'pct12-17w2Par',
          'pctWorkMom-18',
          'kidsBornNevrMarr',
          'pctKidsBornNevrMarr',
          'numForeignBorn',
          'pctFgnImmig-5',
          'pctFgnImmig-8',
          'pctFgnImmig-10',
          'pctImmig-5',
          'pctImmig-8',
          'pctImmig-10',
          'pctSpeakOnlyEng',
          'pctNotSpeakEng',
          'pctLargHousFam',
          'pctLargHous',
          'persPerOccupHous',
          'persPerOwnOccup',
          'persPerRenterOccup',
          'pctPopDenseHous',
          'houseVacant',
          'pctHousOwnerOccup',
          'pctHousWOphone',
          'ownHousLowQ',
          'ownHousMed',
          'ownHousUperQ',
          'ownHousQrange',
          'rentLowQ',
          'rentMed',
          'rentUpperQ',
          'medGrossRent',
          'persEmergShelt',
          'persHomeless',
          'pctForeignBorn',
          'pctSameCounty-5',
          'pctPolicMinority\_missing',
          'numPolice\_missing',
          'policePerPop\_missing',
          'policeFieldPerPop\_missing',
          'policeCalls\_missing',
          'policCallPerPop\_missing',
          'policCallPerOffic\_missing',
          'policePerPop2\_missing',
          'racialMatch\_missing',
          'pctPolicBlack\_missing',
          'pctPolicHisp\_missing',
          'pctPolicAsian\_missing',
          'pctPolicWhite\_missing',
          'officDrugUnits\_missing',
          'policAveOT\_missing',
          'policCarsAvail\_missing',
          'policOperBudget\_missing',
          'pctPolicPatrol\_missing',
          'gangUnit\_missing',
          'numDiffDrugsSeiz\_missing',
          'policBudgetPerPop\_missing',
          'countyCode\_missing']
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{crimes}\PY{p}{[}\PY{n}{to\PYZus{}drop}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}45}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}45}]:} (1994, 54)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}46}]:} \PY{c+c1}{\PYZsh{} GETTING Correllation matrix}
         \PY{n}{corr\PYZus{}mat}\PY{o}{=}\PY{n}{crimes}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pearson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{corr\PYZus{}mat}\PY{p}{,}\PY{n}{vmax}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{square}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}\PY{n}{annot}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Correlation between non\PYZhy{}class variables}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_79_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsection{Exploration of correlation with target
variable}\label{exploration-of-correlation-with-target-variable}

    First, our target variable seems far from normally distributed

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{violentPerPop}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{kind}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HIST}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{bins} \PY{o}{=} \PY{l+m+mi}{30}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}47}]:} <matplotlib.axes.\_subplots.AxesSubplot at 0x16330b70>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_82_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Log transform looks better

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{crimes}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{violentPerPop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}\PY{p}{)} \PY{c+c1}{\PYZsh{}plus one to avoid log zero}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log transformed number of violent crimes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_84_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Make new target variable

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{violentPerPop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{(}\PY{n}{x}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{crimes}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}50}]:}      State  fold      pop  perHoush  pctBlack  pctAsian  pctHisp  pct12-21  \textbackslash{}
         0       NJ     1    11980      3.10      1.37      6.50     1.88     12.47   
         1       PA     1    23123      2.82      0.80      3.44     0.85     11.01   
         2       OR     1    29344      2.43      0.74      3.43     2.35     11.36   
         3       NY     1    16656      2.40      1.70      0.50     0.70     12.55   
         5       MO     1   140494      2.45      2.51      0.90     0.95     18.09   
         6       MA     1    28700      2.60      1.60      1.47     1.10     11.17   
         7       IN     1    59459      2.45     14.20      0.40     0.63     15.31   
         8       ND     1    74111      2.46      0.35      1.25     0.73     16.64   
         9       TX     1   103590      2.62     23.14      0.92    16.35     19.88   
         10      TX     1    31601      2.54     12.63      0.77     4.39     15.73   
         11      CA     1    25158      2.89     21.34     17.21    26.78     13.65   
         12      KY     1    40641      2.54     12.18      1.12     0.68     21.51   
         13      AR     1    57140      2.74     53.52      0.49     0.43     16.51   
         16      CT     1    45532      2.85      2.65      1.04     2.28     11.86   
         17      CA     1   180038      2.62      1.30     14.14    20.96     12.04   
         18      OH     1    14869      2.67      2.28      2.67     0.74     13.71   
         19      TX     1   261721      2.60      8.41      3.92     8.91     14.18   
         21      NY     1  7322564      2.60     28.71      7.00    24.36     13.06   
         22      CA     1    26436      3.34     18.97     20.84    10.73     16.16   
         23      NH     1    12183      2.36      0.41      1.55     0.91     11.29   
         24      FL     1    16023      2.63     13.79      1.42     2.40     11.91   
         25      AR     1    24692      2.54      0.06      0.77     1.86     12.84   
         26      TX     1    13842      2.35      0.41      1.98     7.95      8.23   
         27      CA     1    88693      2.70      2.92      2.82    13.97     13.77   
         28      WA     1    11235      2.60      1.89      1.82    18.16     14.59   
         29      AR     1    28259      2.86     42.15      0.52     0.50     16.26   
         30      LA     1    11162      2.80     26.96      0.40     0.78     15.43   
         31      TX     1   122899      3.84      0.12      0.38    93.87     19.93   
         32      NY     1    20714      2.36      1.46      0.56    11.61     11.35   
         33      ME     1    11856      3.03      0.37      0.40     0.45     20.11   
         {\ldots}    {\ldots}   {\ldots}      {\ldots}       {\ldots}       {\ldots}       {\ldots}      {\ldots}       {\ldots}   
         2185    TN    10    48949      2.55     40.25      0.44     0.53     16.01   
         2186    CA    10    23252      2.19      0.96      1.81    13.75      9.99   
         2187    PA    10    15066      2.40      6.50      1.13     1.17      9.98   
         2188    NJ    10    13198      2.55      6.88      7.39     3.98     10.18   
         2189    CA    10    16829      3.17     12.78     43.31    10.45     13.76   
         2190    NJ    10    15372      3.04      0.51      2.93     1.62     13.09   
         2191    NJ    10    13333      2.69      0.68      0.52     2.27     11.55   
         2192    NJ    10    37825      2.91     26.16      5.62     6.27     13.73   
         2193    TX    10    29885      3.53      0.47      0.44    85.89     20.10   
         2194    OR    10    37520      2.92      0.49      2.20    11.20     14.67   
         2195    CA    10    20319      3.02      5.55      6.80    29.84     14.78   
         2196    AL    10    77759      2.64     35.49      1.34     0.77     23.36   
         2197    AL    10    14904      2.50      7.81      2.68     1.66      9.83   
         2198    NJ    10    12208      2.77      1.14      0.70     8.56     13.29   
         2199    NJ    10    25430      3.03      1.03      0.91     2.13     13.47   
         2200    MA    10    92703      2.49      1.03      1.33     1.70     13.45   
         2201    NJ    10    24544      2.71      9.34      2.46     3.04     14.33   
         2202    CO    10    14203      2.97      1.08      1.41    34.61     15.13   
         2203    CA    10    27331      2.96      8.32     12.11    34.24     13.99   
         2204    WA    10    23875      2.67      0.75      2.74     2.06     13.62   
         2205    TX    10    14804      2.60      2.73      0.63     6.42     14.37   
         2206    OK    10    21732      2.42      4.26      0.54     3.44     12.90   
         2207    CT    10    54021      2.54     12.43      2.03     3.57     11.86   
         2208    ND    10    13131      2.56      0.11      0.27     0.66     13.81   
         2209    NJ    10    10567      2.57      0.18      0.84     1.66     10.42   
         2210    CA    10    56216      3.07      6.87     15.23    29.86     15.46   
         2211    LA    10    12251      2.68     21.18      1.52     1.29     17.36   
         2212    CA    10    32824      2.46      0.52      0.98    11.00     11.81   
         2213    TX    10    13547      2.89      3.37      0.90    62.11     17.16   
         2214    CA    10    28898      2.61      2.39      9.09    24.43     12.99   
         
               pct65up  pctUrban  medIncome  pctWfarm  pctWdiv  pctPubAsst  pctRetire  \textbackslash{}
         0       11.33    100.00      75122      1.55    70.20        1.03      18.39   
         1       17.18    100.00      47917      1.11    64.11        2.75      22.85   
         2       10.28    100.00      35669      1.15    55.73        2.94      14.56   
         3       17.57      0.00      20580      0.24    38.95       11.71      18.33   
         5       13.26    100.00      21577      1.00    41.15        7.12      14.09   
         6       14.42    100.00      42805      0.39    47.70        5.41      17.23   
         7       14.60    100.00      23221      0.67    35.74        8.81      22.59   
         8        8.58    100.00      25326      2.93    47.11        4.21      10.31   
         9       13.12    100.00      17852      0.86    30.98        9.06      13.99   
         10      14.26    100.00      24763      1.54    37.36        7.02      15.20   
         11       9.44    100.00      25479      0.00    24.98       23.63      13.18   
         12      11.50      0.00      20043      1.24    34.02        9.60      13.84   
         13      13.38    100.00      19143      0.63    24.41       13.58      14.16   
         16       9.76     96.51      44635      0.71    50.24        3.78      18.37   
         17      11.54    100.00      34372      0.62    40.04       11.27      11.51   
         18      12.38    100.00      49851      0.89    69.45        1.59      19.47   
         19       4.58    100.00      35048      0.81    39.01        2.71       9.12   
         21      11.62    100.00      29823      0.48    35.38       13.12      12.56   
         22       4.13    100.00      29043      0.53    28.69        6.90      15.99   
         23      11.28      0.00      32221      0.51    38.36        3.37      10.47   
         24      13.65    100.00      34934      0.30    47.11        2.74      23.43   
         25      14.62      0.00      26198      1.36    42.10        3.92      16.09   
         26      13.57    100.00      45892      1.07    65.77        0.73      15.55   
         27       9.65    100.00      28108      0.53    34.68       12.74      16.03   
         28      13.36      0.00      23258      1.78    34.40       10.28      16.58   
         29       9.53    100.00      22052      1.32    21.89       13.69       9.35   
         30      12.78      0.00      14874      0.80    20.56       18.81      11.52   
         31       7.32    100.00      18395      1.17    18.24       16.71       7.95   
         32      21.15      0.00      22166      0.32    47.13        7.08      21.60   
         33       8.63     33.10      36618      1.20    51.29        4.56      14.76   
         {\ldots}       {\ldots}       {\ldots}        {\ldots}       {\ldots}      {\ldots}         {\ldots}        {\ldots}   
         2185    13.55    100.00      21063      0.79    29.84       11.81      15.06   
         2186    21.61    100.00      37315      0.39    50.35        2.91      19.23   
         2187    13.34    100.00      31848      0.24    43.96        6.00      17.96   
         2188    13.46      0.00      62288      1.02    74.03        2.60      15.61   
         2189     4.26    100.00      56098      0.45    50.35        4.63       8.85   
         2190    12.05    100.00      75905      1.19    71.00        1.45      17.82   
         2191    15.85      0.00      33961      0.47    41.71        3.39      22.74   
         2192    13.12    100.00      56598      0.19    55.86        2.97      14.24   
         2193     8.18    100.00      18956      1.31    21.50       18.87       7.38   
         2194     7.64    100.00      33125      0.86    42.25        5.69      13.98   
         2195     9.05    100.00      33554      0.50    39.21        8.51      18.63   
         2196    10.61    100.00      19568      0.50    33.56        8.16      13.04   
         2197     3.03     99.20      42911      1.22    55.47        1.95       9.51   
         2198    16.32      0.00      34450      1.43    45.64        4.31      18.34   
         2199     5.91      0.00      52734      0.56    50.06        2.44      10.20   
         2200    16.06     99.75      22452      0.24    31.43       15.73      17.42   
         2201     8.78     60.02      37594      0.65    34.87        2.73      11.91   
         2202    10.13      0.00      27126      1.38    30.55        7.36      12.06   
         2203     5.34    100.00      34552      0.36    30.35        9.74       8.90   
         2204    10.84    100.00      32849      0.64    44.84        7.11      16.93   
         2205    15.16      0.00      25208      1.47    38.74        7.99      15.54   
         2206    17.83      0.00      23393      1.30    40.33        7.48      17.16   
         2207    13.39    100.00      35723      0.65    40.72        4.89      16.83   
         2208    12.99      0.00      22407      6.53    46.16        7.36      11.14   
         2209    15.33    100.00      37664      0.00    48.61        5.43      25.96   
         2210     8.08    100.00      24727      1.12    31.42       19.98      14.41   
         2211    12.57    100.00      20321      0.47    33.25        8.85      18.23   
         2212    20.73    100.00      27182      0.51    44.72        9.01      23.56   
         2213    10.42      0.00      19899      1.70    21.94       13.05      10.29   
         2214    12.12     99.19      23287      1.20    27.54       19.05      17.29   
         
               blackPerCap  NAperCap  asianPerCap  otherPerCap  hispPerCap  pctPoverty  \textbackslash{}
         0           13600      5725        27101       5115.0       22838        1.96   
         1           18137         0        20074       5250.0       12222        3.98   
         2           16644     21606        15528       5954.0        8405        4.75   
         3            9984      4941         3541       2451.0        4391       17.23   
         5            7382     10264        10753       7192.0        8104       17.78   
         6           17342     21482        12639      21852.0       22594        4.01   
         7            9820      6634         8802       7428.0        6187       17.98   
         8            8852      5344         8011       5332.0        5174       13.68   
         9            5715     11313         5770       7320.0        6984       28.68   
         10           7496      9126         9107       5267.0        4542       15.61   
         11          10412      8238         9546       8330.0        7813       19.02   
         12           6016      6636         9119       1982.0       16133       23.91   
         13           5688      7669        12183      23509.0       10718       27.71   
         16           8297     13171        12425      10337.0       11655        2.89   
         17          17693     20931        16696       9438.0       11182       14.37   
         18          12964     15565        22630       9548.0        7828        2.35   
         19          11615     13416        11175       7804.0        9045        8.21   
         21          10505     10861        12851       7151.0        8420       19.29   
         22          10242      6333         9734       7196.0        8444        9.67   
         23          12405     20559         7679       7826.0       11733        6.07   
         24          13246      9320        11052       9621.0       14449        5.75   
         25              0     13934        12182       9809.0        9511        8.72   
         26          12941     16625        36559      10485.0       12650        3.33   
         27           9215      9266         9291       7746.0        8951       12.92   
         28           6562     18700         5910       6497.0        7045       15.28   
         29           5095      5019        15413      10764.0        9752       22.94   
         30           3617      6319        39010      29572.0        7060       38.27   
         31           2922      5577        13361       5195.0        6331       37.29   
         32          15778         0        15243       6326.0        7427       13.50   
         33          10291      9093        11443      18000.0        6328        4.05   
         {\ldots}           {\ldots}       {\ldots}          {\ldots}          {\ldots}         {\ldots}         {\ldots}   
         2185         6238     11620        11791       4393.0        9400       20.97   
         2186        12762     14527        14615       8584.0        9041        7.11   
         2187        11999         0         4680       7098.0        6760        5.36   
         2188        15423         0        23071      10870.0       25589        5.84   
         2189        19592     15390        16455      15469.0       14488        2.10   
         2190        24098         0        30507       4829.0       16432        1.82   
         2191        17059     19982        12768      12647.0       14826        4.36   
         2192        18588     15851        17037      11810.0       15561        3.51   
         2193         5366    115171        13221       5127.0        5979       33.78   
         2194         9093     12721        11832       5196.0        5225        8.28   
         2195        10520     11616        11102       8082.0        8373        8.82   
         2196         6306     11096         7372       2262.0        5757       26.72   
         2197         9664     16912        15294      26658.0       18411        4.16   
         2198         8499     44830        58449       6963.0        7777        6.16   
         2199        13851     24911        15812       6535.0       11615        4.67   
         2200         7851     10843         6669       5365.0        6761       14.28   
         2201        12807     12667        13644      14635.0       13429        4.58   
         2202        77463     12812        13461       7569.0        7493       13.11   
         2203        11207     11224        13451       8100.0        9165       13.07   
         2204        10898      8285        10330      10280.0        6639        7.01   
         2205         8628      3643         3613       6234.0        7225       15.45   
         2206         5381      7991         6164       3436.0        3833       18.48   
         2207        13643     14383        11474      11614.0       12975        6.06   
         2208            0      4184        26428       1200.0        2568       14.46   
         2209         2995     19200        15171       7897.0       13728        4.33   
         2210         8344      8590         3399       6470.0        6644       25.06   
         2211         5768     10910         1718      11471.0        4883       20.79   
         2212        13630     13197        17313       8532.0        9398        7.56   
         2213         6437      8271          171       4436.0        5338       30.32   
         2214         8163      9874         6827       7540.0        8275       18.50   
         
               pctLowEdu  pctCollGrad  pctEmployMfg  pctEmployProfServ  pctOccupManu  \textbackslash{}
         0          5.81        48.18         14.65              28.82          5.49   
         1          5.61        29.89         12.26              29.28          6.39   
         2          2.80        30.13         15.95              21.52          8.79   
         3         11.05        10.81         31.22              27.43         26.76   
         5          8.76        20.66         14.31              26.83         14.72   
         6          4.49        27.01         14.02              27.17          8.50   
         7         10.09        12.00         27.00              21.54         21.92   
         8          5.52        30.24          6.89              31.55         11.37   
         9         13.01        17.02         15.73              29.06         16.43   
         10         9.07        19.23         25.33              27.59         15.74   
         11        14.03        11.64         15.39              20.63         17.38   
         12        15.28        23.41         16.08              29.05         15.13   
         13        14.49        16.56         17.94              27.79         18.07   
         16         6.55        17.59         26.12              16.06         13.94   
         17        11.54        28.55         14.43              24.78          9.07   
         18         1.33        54.76         10.06              43.92          2.33   
         19         3.71        29.99         18.91              18.97         10.60   
         21        14.10        22.98         11.41              28.40         11.64   
         22         5.80        17.01          6.69              20.66          9.67   
         23         5.83        26.78         14.87              36.57         11.79   
         24         4.07        21.25         18.44              24.03          9.88   
         25         8.18        15.11         27.42              16.18         22.66   
         26         2.73        48.93          8.73              31.56          3.65   
         27         6.71        14.45         12.47              21.82         11.44   
         28        12.99        14.51         18.92              22.82         16.52   
         29        15.88        10.76         14.03              21.22         19.96   
         30        23.94        10.82          7.98              30.42         14.60   
         31        36.26        11.63          5.40              23.07         14.83   
         32        12.54        12.33         23.60              25.83         19.07   
         33         3.90        26.00         14.71              28.53         13.59   
         {\ldots}         {\ldots}          {\ldots}           {\ldots}                {\ldots}           {\ldots}   
         2185      13.33        17.12         20.79              25.97         17.83   
         2186       3.97        23.60          4.59              19.43          5.03   
         2187       9.46        18.95         23.39              20.69         16.39   
         2188       3.31        73.63          8.50              58.10          1.53   
         2189       3.93        34.73         11.26              21.64          8.80   
         2190       4.54        45.50         18.62              26.99          5.77   
         2191       6.35        10.57         10.27              19.46         12.35   
         2192       4.46        40.92         13.46              35.27          7.77   
         2193      32.85        19.38          8.03              36.79         13.47   
         2194       7.93        19.27         27.80              18.31         15.58   
         2195       9.27        15.91         13.83              18.35         12.41   
         2196      11.40        27.29         11.73              39.97         11.82   
         2197       2.45        48.97         32.69              19.85          4.80   
         2198      18.92        14.86         13.07              19.16         14.58   
         2199       5.01        24.91         18.58              19.59         11.57   
         2200      33.08         8.43         32.56              20.47         28.06   
         2201       6.33        14.66          4.82              17.45         10.25   
         2202      12.15        13.03         15.58              20.11         20.63   
         2203      13.76        13.11         26.92              12.09         15.29   
         2204       6.17        17.67         23.20              22.21         14.94   
         2205      11.42        15.82         18.39              20.07         13.28   
         2206      11.76        17.94         12.67              22.80         13.77   
         2207       8.49        17.18         18.23              23.03         13.64   
         2208      12.58        17.45          3.35              26.95         10.89   
         2209      12.84         9.28         26.55              19.08         20.13   
         2210      17.12        15.79         13.47              27.18         16.38   
         2211      12.51        19.28          7.81              37.06         10.37   
         2212       7.82        12.42          9.34              23.36         13.53   
         2213      24.37        12.40          8.22              25.16         10.63   
         2214      13.93         8.86          9.44              17.75         19.61   
         
               pctMaleDivorc  pct2Par  pctWorkMom-6  pctFgnImmig-3  pctImmig-3  \textbackslash{}
         0              3.67    91.43         44.56           8.69        0.93   
         1              4.23    86.91         51.14           5.21        0.43   
         2             10.10    78.54         66.08          16.42        0.82   
         3             10.98    64.02         59.59          13.86        0.28   
         5             11.40    71.94         62.96          21.33        0.32   
         6              5.97    79.53         65.16          11.38        1.05   
         7             13.28    62.56         63.08          13.15        0.11   
         8              7.29    79.35         74.32          23.68        0.47   
         9             11.07    61.65         60.80          15.54        0.72   
         10            11.48    68.41         67.43          17.91        0.53   
         11            13.91    58.06         58.63          21.87        5.78   
         12            10.16    64.60         58.45          33.23        0.51   
         13            10.92    58.65         64.38          26.04        0.19   
         16             7.02    81.96         63.59           9.38        0.49   
         17             8.68    77.10         52.45          30.33       13.71   
         18             5.73    82.50         64.94          11.79        0.56   
         19            10.73    78.19         63.48          19.03        1.45   
         21             9.13    57.64         47.37          15.87        4.51   
         22             7.15    80.12         51.64          12.27        2.25   
         23             9.73    74.41         75.27          23.14        0.71   
         24            10.45    77.22         67.95          10.38        0.48   
         25             9.43    78.73         69.07          18.93        0.27   
         26             9.63    78.29         69.26           0.85        0.04   
         27            13.12    65.86         52.92          20.75        2.01   
         28            10.96    75.49         61.08          27.63        1.71   
         29            11.69    60.12         67.15           0.00        0.00   
         30             8.97    67.27         50.91           0.00        0.00   
         31             6.18    75.51         48.23          14.07        3.43   
         32             9.34    65.74         59.49          10.56        0.64   
         33             7.33    80.48         70.68           2.61        0.07   
         {\ldots}             {\ldots}      {\ldots}           {\ldots}            {\ldots}         {\ldots}   
         2185          11.20    57.04         68.41          49.24        0.33   
         2186          11.15    73.61         61.68          17.80        2.40   
         2187           9.88    74.11         59.70           1.36        0.05   
         2188           4.96    83.21         59.26          30.66        6.27   
         2189           6.57    86.71         77.21           8.62        2.69   
         2190           2.98    91.90         43.55          11.87        1.00   
         2191           7.08    79.58         51.66           0.00        0.00   
         2192           5.76    83.83         60.20          12.50        2.15   
         2193           7.67    69.11         55.20          17.26        3.19   
         2194           9.64    76.03         64.00          28.48        2.63   
         2195          11.04    72.66         68.79           8.58        1.31   
         2196           8.85    61.94         66.46          43.90        0.93   
         2197           8.93    84.49         54.44          15.29        0.67   
         2198           7.72    77.62         65.24           2.71        0.16   
         2199           6.49    87.76         49.48           2.40        0.11   
         2200           8.65    68.09         63.97           5.96        1.23   
         2201          10.20    77.67         67.10           7.46        0.28   
         2202          10.37    74.11         77.49           9.30        0.66   
         2203          11.79    67.48         55.20          17.33        5.09   
         2204          11.07    76.70         55.86           8.62        0.37   
         2205          10.00    75.46         51.21           6.70        0.21   
         2206           9.27    76.79         51.30          19.85        0.48   
         2207           9.31    71.24         59.63          13.03        1.09   
         2208           7.83    77.17         65.27           1.33        0.02   
         2209           8.65    76.36         63.54          12.70        0.83   
         2210          10.22    67.04         47.24          22.97        4.34   
         2211          10.86    68.57         64.20           2.91        0.07   
         2212           9.89    76.77         55.73           6.63        0.49   
         2213          10.35    67.76         50.57           4.85        0.11   
         2214          15.77    62.64         50.44          31.54        5.20   
         
               pctPersOwnOccup  pctSmallHousUnits  medNumBedrm  pctHousOccup  \textbackslash{}
         0               91.46              11.06            3         98.37   
         1               89.03              23.60            3         97.15   
         2               64.18              47.46            3         95.68   
         3               58.18              45.66            3         91.19   
         5               57.81              53.19            2         91.81   
         6               64.62              47.35            3         95.11   
         7               65.29              56.30            2         92.22   
         8               57.42              59.32            2         95.07   
         9               46.82              59.96            2         87.57   
         10              59.76              52.11            2         87.33   
         11              48.07              72.06            2         92.42   
         12              53.11              53.27            2         91.27   
         13              61.62              46.91            3         90.00   
         16              79.94              32.43            3         96.21   
         17              39.38              75.17            2         95.13   
         18              85.62              18.79            3         97.14   
         19              58.00              47.54            3         89.26   
         21              31.59              73.76            2         94.23   
         22              31.74              55.65            2         95.73   
         23              58.03              56.02            2         90.47   
         24              78.92              29.40            3         93.31   
         25              65.60              41.45            3         94.31   
         26              75.61              30.49            3         94.85   
         27              40.87              63.54            2         95.47   
         28              66.40              47.70            3         93.07   
         29              58.69              43.55            3         94.04   
         30              63.10              40.73            3         90.68   
         31              61.58              53.73            2         94.21   
         32              53.56              36.94            3         92.49   
         33              83.55              38.37            3         96.69   
         {\ldots}               {\ldots}                {\ldots}          {\ldots}           {\ldots}   
         2185            58.38              47.95            3         92.61   
         2186            63.81              57.89            2         58.06   
         2187            63.34              44.66            3         94.67   
         2188            68.11              29.64            3         93.32   
         2189            86.90              35.54            3         93.91   
         2190            93.27              12.02            3         96.40   
         2191            80.86              32.52            3         68.97   
         2192            84.75              29.21            3         97.50   
         2193            58.95              52.80            2         92.05   
         2194            58.68              37.66            3         96.27   
         2195            43.18              57.69            2         89.99   
         2196            51.61              52.30            2         94.46   
         2197            66.20              40.35            3         90.19   
         2198            74.00              41.34            3         95.70   
         2199            90.62              30.22            3         89.08   
         2200            37.65              59.98            2         92.39   
         2201            85.83              45.85            3         90.52   
         2202            67.14              46.39            3         89.81   
         2203            30.15              74.95            2         94.36   
         2204            65.76              45.94            3         95.38   
         2205            63.09              49.69            3         86.41   
         2206            69.26              44.55            3         86.36   
         2207            61.78              57.29            2         93.85   
         2208            68.26              48.31            3         84.38   
         2209            75.36              41.32            3         97.03   
         2210            41.69              57.23            2         96.40   
         2211            56.06              54.48            2         89.72   
         2212            74.61              61.03            2         93.30   
         2213            60.11              50.28            2         85.39   
         2214            52.72              61.63            2         94.85   
         
               pctVacantBoarded  pctVacant6up  medYrHousBuilt  pctHousWOplumb  \textbackslash{}
         0                 3.12         37.50            1959            0.28   
         1                 0.00         18.33            1958            0.14   
         2                 0.92          7.54            1976            0.12   
         3                 2.54         57.85            1939            0.87   
         5                 2.09         26.22            1966            0.31   
         6                 1.41         34.45            1956            0.28   
         7                 6.39         56.36            1954            0.49   
         8                 0.45         25.61            1971            0.19   
         9                 5.64         37.57            1960            0.33   
         10                2.77         42.34            1965            0.30   
         11                3.78         18.35            1963            0.64   
         12                1.51         28.93            1966            0.23   
         13                4.06         39.65            1964            0.73   
         16                0.16         29.89            1960            0.13   
         17                2.25         17.69            1962            0.46   
         18                0.61         30.49            1963            0.21   
         19                1.81         27.45            1978            0.14   
         21                4.83         40.33            1946            1.25   
         22                0.57          3.12            1976            0.24   
         23                1.28         34.31            1957            0.79   
         24                1.14         29.52            1972            0.08   
         25                0.34         26.45            1976            0.40   
         26                1.25         32.60            1953            0.24   
         27                1.47         11.03            1970            0.24   
         28                2.18         38.94            1963            0.32   
         29                8.31         28.75            1967            1.08   
         30                7.32         47.80            1963            0.64   
         31                6.40         42.25            1972            2.11   
         32                2.10         59.05            1939            0.66   
         33                0.00         42.54            1968            0.71   
         {\ldots}                {\ldots}           {\ldots}             {\ldots}             {\ldots}   
         2185              1.37         27.14            1965            0.22   
         2186              0.95         11.32            1980            0.05   
         2187              2.83         34.84            1952            0.14   
         2188              0.00         31.54            1958            0.34   
         2189              0.58         15.41            1985            0.50   
         2190              2.65         20.11            1958            0.00   
         2191              0.40         18.15            1975            0.73   
         2192              0.90         43.71            1944            0.41   
         2193              3.14         30.87            1973            1.44   
         2194              2.01         25.10            1974            0.37   
         2195              0.00         13.48            1969            0.12   
         2196              3.07         39.09            1967            0.62   
         2197              0.77         18.80            1986            0.17   
         2198              4.55         54.04            1959            0.17   
         2199              2.72         56.32            1960            1.26   
         2200              2.02         36.65            1939            0.61   
         2201              3.89         48.53            1974            0.15   
         2202              2.03         37.08            1971            0.83   
         2203              1.09         19.78            1962            1.22   
         2204              1.85         19.40            1971            0.26   
         2205              1.90         32.21            1965            1.43   
         2206              2.26         64.13            1959            0.53   
         2207              0.86         24.44            1958            0.28   
         2208              4.74         60.63            1967            0.33   
         2209              0.00         35.71            1954            0.52   
         2210              1.46         13.18            1973            0.55   
         2211              4.59         46.08            1966            0.12   
         2212              0.84         29.47            1967            0.27   
         2213              5.61         67.21            1964            0.87   
         2214              3.67         28.67            1960            1.43   
         
               rentQrange  medRentpctHousInc  medOwnCostpct  medOwnCostPctWO  \textbackslash{}
         0            316               23.8           21.1             14.0   
         1            205               27.6           20.7             12.5   
         2            150               24.1           21.7             11.6   
         3            114               28.7           20.6             14.5   
         5            134               26.4           17.3             11.7   
         6            361               24.4           20.8             12.5   
         7            139               26.3           15.1             12.2   
         8            146               25.2           20.7             12.8   
         9            177               29.6           19.4             13.0   
         10           142               23.8           17.1             12.9   
         11           190               33.0           24.3             11.8   
         12           136               27.9           20.0             12.3   
         13           135               29.1           17.5             15.7   
         16           282               24.8           22.6             13.1   
         17           252               30.5           25.3             11.6   
         18           199               24.6           18.7             11.4   
         19           157               23.7           22.0             11.8   
         21           295               25.7           21.8             14.1   
         22           177               31.6           23.3             12.3   
         23           196               26.1           23.7             13.7   
         24           137               24.5           20.9             11.3   
         25           121               24.8           19.6             11.7   
         26           187               20.2           18.5             12.1   
         27           153               30.8           23.6             10.8   
         28           148               26.2           16.1             11.5   
         29           163               29.0           20.5             14.1   
         30           112               28.6           23.0             15.3   
         31           178               27.6           22.6             12.8   
         32           131               24.7           18.6             14.5   
         33           201               28.0           23.5             12.6   
         {\ldots}          {\ldots}                {\ldots}            {\ldots}              {\ldots}   
         2185         171               25.0           20.6             13.2   
         2186         218               32.8           26.7             13.4   
         2187         157               25.6           22.7             14.3   
         2188         359               24.9           20.7             13.5   
         2189         242               26.8           27.7             12.4   
         2190         292               26.5           24.1             13.6   
         2191         130               26.3           27.4             16.4   
         2192         239               27.4           23.3             16.4   
         2193         190               26.2           19.8             13.8   
         2194         198               24.7           20.9             13.6   
         2195         275               29.1           27.3             11.8   
         2196         165               31.7           19.0             12.6   
         2197         144               17.9           20.0             11.8   
         2198         169               26.8           22.5             15.0   
         2199         333               26.8           26.6             17.9   
         2200         209               24.5           21.8             14.1   
         2201         221               26.4           23.0             15.8   
         2202         173               30.9           22.2             13.8   
         2203         289               29.2           26.7             12.3   
         2204         144               25.8           21.4             12.2   
         2205         152               27.7           19.0             13.3   
         2206         139               25.6           17.1             13.1   
         2207         185               26.4           23.6             15.0   
         2208         123               20.8           19.9             12.8   
         2209         207               26.7           23.4             15.9   
         2210         157               29.8           22.6             11.7   
         2211         121               23.8           17.3             14.4   
         2212         204               30.5           23.9             13.1   
         2213         182               26.2           23.3             14.1   
         2214         177               30.9           21.2             11.6   
         
               pctBornStateResid  pctSameHouse-5  pctSameState-5  landArea  popDensity  \textbackslash{}
         0                 53.72           65.29           89.14       6.5      1845.9   
         1                 77.17           71.27           96.12      10.6      2186.7   
         2                 44.77           36.60           82.85      10.6      2780.9   
         3                 88.71           56.70           96.24       5.2      3217.7   
         5                 64.35           42.29           85.66      70.4      1995.7   
         6                 77.30           63.45           93.53      10.9      2643.5   
         7                 73.70           54.85           91.51      39.2      1515.3   
         8                 58.82           40.72           81.39      30.9      2399.3   
         9                 75.59           42.33           92.12      78.5      1319.3   
         10                65.73           44.95           88.66      38.7       816.1   
         11                47.45           38.61           89.27       2.7      9387.3   
         12                70.53           41.51           88.87      30.0      1354.2   
         13                80.16           56.01           92.02      43.9      1301.5   
         16                47.43           60.30           88.85      34.6      1314.3   
         17                29.68           37.69           76.85      31.7      5677.3   
         18                58.81           59.75           89.74       5.8      2552.7   
         19                51.54           36.76           84.09      96.4      2716.3   
         21                53.09           63.06           89.78     320.1     22878.2   
         22                24.24           26.33           54.52       9.1      2917.9   
         23                54.87           42.07           75.44      41.8       291.4   
         24                28.32           45.19           81.03      10.1      1581.4   
         25                40.40           39.82           77.43      23.0      1073.9   
         26                60.71           57.14           94.36       3.7      3697.1   
         27                45.45           35.36           83.16      14.9      5943.0   
         28                48.88           44.43           87.33       9.4      1189.1   
         29                53.03           52.14           88.60      14.9      1900.7   
         30                93.09           62.57           98.48       4.8      2323.5   
         31                67.12           60.11           91.70      34.1      3608.7   
         32                81.86           61.42           93.76       6.2      3353.7   
         33                71.76           51.97           91.47      52.5       225.9   
         {\ldots}                 {\ldots}             {\ldots}             {\ldots}       {\ldots}         {\ldots}   
         2185              77.24           48.33           91.22      41.8      1170.8   
         2186              37.33           36.06           85.08      19.7      1177.7   
         2187              78.40           55.74           90.65       3.7      4062.2   
         2188              26.19           51.38           71.18      17.0       777.1   
         2189              47.75           37.51           91.39       5.7      2933.9   
         2190              55.21           67.54           90.04       6.8      2265.3   
         2191              59.85           50.23           91.79      50.9       262.0   
         2192              32.27           67.40           85.59       6.3      6031.5   
         2193              68.90           52.42           90.76      14.6      2043.6   
         2194              46.23           42.04           83.38      20.0      1879.8   
         2195              39.13           37.75           79.00       4.6      4428.7   
         2196              72.02           45.46           84.99      48.8      1593.9   
         2197              40.92           22.75           61.45      20.7       718.9   
         2198              66.70           69.30           95.67      42.7       285.6   
         2199              66.44           63.28           93.25      78.2       325.4   
         2200              70.20           60.28           94.15      32.1      2884.7   
         2201              63.16           58.90           93.76      69.7       352.1   
         2202              53.82           53.21           88.36      15.5       916.8   
         2203              44.05           38.53           87.35       2.0     13345.2   
         2204              51.11           42.64           86.40      10.7      2240.5   
         2205              74.82           45.68           94.63      16.9       876.4   
         2206              66.89           54.67           89.51      26.7       813.8   
         2207              70.31           59.11           91.48      11.2      4812.3   
         2208              71.81           48.97           91.84       7.2      1824.8   
         2209              66.14           69.84           94.88       2.6      4109.8   
         2210              52.67           39.19           85.88      16.7      3365.4   
         2211              75.16           49.12           92.85       7.3      1682.8   
         2212              48.66           46.73           92.30      27.5      1195.2   
         2213              82.26           54.05           94.06       6.3      2142.2   
         2214              55.29           48.74           89.08      21.7      1331.0   
         
               pctUsePubTrans  pctOfficDrugUnit  violentPerPop communityType  \textbackslash{}
         0               9.63              0.00          41.02      township   
         1               3.84              0.00         127.56      township   
         2               4.37              0.00         218.59          city   
         3               3.31              0.00         306.64          city   
         5               0.97              0.00         442.95          city   
         6               9.62              0.00         226.63          town   
         7               0.70              0.00         439.73          city   
         8               1.41              0.00         115.31          city   
         9               0.76              6.57        1544.24          city   
         10              0.00              0.00         722.02          city   
         11             11.22              0.00        2605.96          city   
         12              0.28              0.00         798.39          city   
         13              0.93             10.81        1476.93          city   
         16              1.28              0.00          89.94          town   
         17              4.15              5.88         374.07          city   
         18              1.96              0.00         112.50          city   
         19              0.14              7.87         772.77          city   
         21             54.33              6.91        2097.71          city   
         22              1.93              0.00         644.75          city   
         23              0.75              0.00         145.20          city   
         24              0.58              0.00         560.71          city   
         25              0.00              0.00         204.23          city   
         26              1.11              0.00         347.97          city   
         27              2.17              0.00         894.51          city   
         28              0.09              0.00        1143.90          city   
         29              0.10              0.00         724.95          city   
         30              0.78              0.00        1487.34          city   
         31              3.55              4.26         689.42          city   
         32              2.60              0.00          49.93          city   
         33              0.88              0.00          16.72          town   
         {\ldots}              {\ldots}               {\ldots}            {\ldots}           {\ldots}   
         2185            1.67              0.00        1691.21          city   
         2186            0.74              0.00         741.91          city   
         2187            1.73              0.00         216.85       borough   
         2188            7.74              0.00          73.73      township   
         2189            6.35              0.00         324.66          city   
         2190            6.57              0.00          43.98      township   
         2191            1.73              0.00         254.93      township   
         2192           15.82              0.00         255.74      township   
         2193            0.23              0.00         492.40          city   
         2194            3.65              5.77         228.53          city   
         2195            1.19              0.00         485.18          city   
         2196            0.47             11.31        1246.89          city   
         2197            0.09              0.00         205.84          city   
         2198            2.00              0.00         234.34          town   
         2199            2.46              0.00          86.12      township   
         2200            1.96              5.93         640.62          city   
         2201            1.76              0.00         409.98      township   
         2202            0.57              0.00         255.86          city   
         2203            3.70              0.00        1996.15          city   
         2204            1.76              0.00         288.98          city   
         2205            0.47              0.00         372.56          city   
         2206            0.09              0.00         228.66          city   
         2207            3.35              5.66         285.73          town   
         2208            0.00              0.00          46.85          city   
         2209            1.22              0.00         132.87       borough   
         2210            0.59              0.00         545.75          city   
         2211            1.15              0.00         124.10          city   
         2212            0.12              0.00         353.83          city   
         2213            0.00              0.00         691.17          city   
         2214            1.39              0.00         918.89          city   
         
               policeField\_missing  communityCode\_missing    target  
         0                    True                  False  3.738146  
         1                    True                  False  4.856396  
         2                    True                   True  5.391762  
         3                    True                  False  5.728930  
         5                    True                   True  6.095712  
         6                    True                  False  5.427722  
         7                    True                   True  6.088432  
         8                    True                  False  4.756259  
         9                   False                   True  7.342935  
         10                   True                   True  6.583437  
         11                   True                   True  7.865940  
         12                   True                   True  6.683849  
         13                  False                   True  7.298398  
         16                   True                  False  4.510200  
         17                  False                   True  5.927113  
         18                   True                   True  4.731803  
         19                  False                   True  6.651275  
         21                  False                   True  7.649078  
         22                   True                   True  6.470412  
         23                   True                  False  4.984976  
         24                   True                   True  6.330986  
         25                   True                   True  5.324131  
         26                   True                   True  5.854986  
         27                   True                   True  6.797393  
         28                   True                   True  7.043073  
         29                   True                   True  6.587481  
         30                   True                   True  7.305417  
         31                  False                   True  6.537300  
         32                   True                  False  3.930452  
         33                   True                  False  2.874694  
         {\ldots}                   {\ldots}                    {\ldots}       {\ldots}  
         2185                False                   True  7.433791  
         2186                 True                   True  6.610575  
         2187                 True                  False  5.383807  
         2188                 True                  False  4.313882  
         2189                 True                   True  5.785854  
         2190                 True                  False  3.806218  
         2191                 True                  False  5.544904  
         2192                 True                  False  5.548064  
         2193                 True                   True  6.201320  
         2194                False                   True  5.436034  
         2195                 True                   True  6.186579  
         2196                False                   True  7.129209  
         2197                 True                   True  5.331946  
         2198                 True                  False  5.461031  
         2199                 True                  False  4.467286  
         2200                False                  False  6.463996  
         2201                 True                  False  6.018545  
         2202                 True                   True  5.548531  
         2203                 True                   True  7.599476  
         2204                 True                   True  5.669812  
         2205                 True                   True  5.923079  
         2206                 True                   True  5.436600  
         2207                False                  False  5.658541  
         2208                 True                  False  3.868071  
         2209                 True                  False  4.896869  
         2210                 True                   True  6.303992  
         2211                 True                   True  4.829113  
         2212                 True                   True  5.871639  
         2213                 True                   True  6.539832  
         2214                 True                   True  6.824254  
         
         [1994 rows x 55 columns]
\end{Verbatim}
            
    \subsubsection{We look at the categorical
variables}\label{we-look-at-the-categorical-variables}

    State and communityName have way too much

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}51}]:} \PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{} Target variable exploration}
         
         \PY{n}{facet} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{FacetGrid}\PY{p}{(}\PY{n}{crimes} \PY{p}{,} \PY{n}{aspect}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{,} \PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{communityType}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{facet}\PY{o}{.}\PY{n}{map}\PY{p}{(}\PY{n}{sns}\PY{o}{.}\PY{n}{kdeplot}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{shade}\PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Violent crimes per community type}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_90_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}52}]:} \PY{n}{sns}\PY{o}{.}\PY{n}{factorplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{communityType}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{communityType}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{kind}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{box}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{crimes}\PY{p}{,} \PY{n}{size} \PY{o}{=} \PY{l+m+mi}{7}\PY{p}{,} \PY{n}{aspect} \PY{o}{=} \PY{l+m+mi}{2}\PY{p}{,}\PY{p}{)}
         \PY{c+c1}{\PYZsh{}limit y axis for visibility}
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{violent crimes per community type}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         
         
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_91_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    We see that cities have higher violent crime rate.

    \subsection{Correlation with target for numerical
features}\label{correlation-with-target-for-numerical-features}

    We see that the pc2par and pctWdiv have very high absolute correlation

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}72}]:} \PY{n}{number\PYZus{}features} \PY{o}{=} \PY{l+m+mi}{15}
         \PY{n}{keep\PYZus{}features} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{:}\PY{l+m+mi}{2}\PY{o}{+}\PY{n}{number\PYZus{}features}\PY{p}{]}\PY{o}{.}\PY{n}{index}
\end{Verbatim}


    \section{Regression}\label{regression}

    \subsection{Splitting in train and
testset}\label{splitting-in-train-and-testset}

    We use one hot encoding to convert the nominal variables.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}54}]:} \PY{n}{nominal\PYZus{}features} \PY{o}{=} \PY{n}{crimes}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{O}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{nominal\PYZus{}features}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}55}]:}      State communityType
         0       NJ      township
         1       PA      township
         2       OR          city
         3       NY          city
         5       MO          city
         6       MA          town
         7       IN          city
         8       ND          city
         9       TX          city
         10      TX          city
         11      CA          city
         12      KY          city
         13      AR          city
         16      CT          town
         17      CA          city
         18      OH          city
         19      TX          city
         21      NY          city
         22      CA          city
         23      NH          city
         24      FL          city
         25      AR          city
         26      TX          city
         27      CA          city
         28      WA          city
         29      AR          city
         30      LA          city
         31      TX          city
         32      NY          city
         33      ME          town
         {\ldots}    {\ldots}           {\ldots}
         2185    TN          city
         2186    CA          city
         2187    PA       borough
         2188    NJ      township
         2189    CA          city
         2190    NJ      township
         2191    NJ      township
         2192    NJ      township
         2193    TX          city
         2194    OR          city
         2195    CA          city
         2196    AL          city
         2197    AL          city
         2198    NJ          town
         2199    NJ      township
         2200    MA          city
         2201    NJ      township
         2202    CO          city
         2203    CA          city
         2204    WA          city
         2205    TX          city
         2206    OK          city
         2207    CT          town
         2208    ND          city
         2209    NJ       borough
         2210    CA          city
         2211    LA          city
         2212    CA          city
         2213    TX          city
         2214    CA          city
         
         [1994 rows x 2 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}56}]:} \PY{n}{crimes} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{crimes}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{n}{nominal\PYZus{}features}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{n}{crimes}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}57}]:}    fold     pop  perHoush  pctBlack  pctAsian  pctHisp  pct12-21  pct65up  \textbackslash{}
         0     1   11980      3.10      1.37      6.50     1.88     12.47    11.33   
         1     1   23123      2.82      0.80      3.44     0.85     11.01    17.18   
         2     1   29344      2.43      0.74      3.43     2.35     11.36    10.28   
         3     1   16656      2.40      1.70      0.50     0.70     12.55    17.57   
         5     1  140494      2.45      2.51      0.90     0.95     18.09    13.26   
         
            pctUrban  medIncome  pctWfarm  pctWdiv  pctPubAsst  pctRetire  blackPerCap  \textbackslash{}
         0     100.0      75122      1.55    70.20        1.03      18.39        13600   
         1     100.0      47917      1.11    64.11        2.75      22.85        18137   
         2     100.0      35669      1.15    55.73        2.94      14.56        16644   
         3       0.0      20580      0.24    38.95       11.71      18.33         9984   
         5     100.0      21577      1.00    41.15        7.12      14.09         7382   
         
            NAperCap  asianPerCap  otherPerCap  hispPerCap  pctPoverty  pctLowEdu  \textbackslash{}
         0      5725        27101       5115.0       22838        1.96       5.81   
         1         0        20074       5250.0       12222        3.98       5.61   
         2     21606        15528       5954.0        8405        4.75       2.80   
         3      4941         3541       2451.0        4391       17.23      11.05   
         5     10264        10753       7192.0        8104       17.78       8.76   
         
            pctCollGrad  pctEmployMfg  pctEmployProfServ  pctOccupManu  pctMaleDivorc  \textbackslash{}
         0        48.18         14.65              28.82          5.49           3.67   
         1        29.89         12.26              29.28          6.39           4.23   
         2        30.13         15.95              21.52          8.79          10.10   
         3        10.81         31.22              27.43         26.76          10.98   
         5        20.66         14.31              26.83         14.72          11.40   
         
            pct2Par  pctWorkMom-6  pctFgnImmig-3  pctImmig-3  pctPersOwnOccup  \textbackslash{}
         0    91.43         44.56           8.69        0.93            91.46   
         1    86.91         51.14           5.21        0.43            89.03   
         2    78.54         66.08          16.42        0.82            64.18   
         3    64.02         59.59          13.86        0.28            58.18   
         5    71.94         62.96          21.33        0.32            57.81   
         
            pctSmallHousUnits  medNumBedrm  pctHousOccup  pctVacantBoarded  \textbackslash{}
         0              11.06            3         98.37              3.12   
         1              23.60            3         97.15              0.00   
         2              47.46            3         95.68              0.92   
         3              45.66            3         91.19              2.54   
         5              53.19            2         91.81              2.09   
         
            pctVacant6up  medYrHousBuilt  pctHousWOplumb  rentQrange  \textbackslash{}
         0         37.50            1959            0.28         316   
         1         18.33            1958            0.14         205   
         2          7.54            1976            0.12         150   
         3         57.85            1939            0.87         114   
         5         26.22            1966            0.31         134   
         
            medRentpctHousInc  medOwnCostpct  medOwnCostPctWO  pctBornStateResid  \textbackslash{}
         0               23.8           21.1             14.0              53.72   
         1               27.6           20.7             12.5              77.17   
         2               24.1           21.7             11.6              44.77   
         3               28.7           20.6             14.5              88.71   
         5               26.4           17.3             11.7              64.35   
         
            pctSameHouse-5  pctSameState-5  landArea  popDensity  pctUsePubTrans  \textbackslash{}
         0           65.29           89.14       6.5      1845.9            9.63   
         1           71.27           96.12      10.6      2186.7            3.84   
         2           36.60           82.85      10.6      2780.9            4.37   
         3           56.70           96.24       5.2      3217.7            3.31   
         5           42.29           85.66      70.4      1995.7            0.97   
         
            pctOfficDrugUnit  violentPerPop  policeField\_missing  \textbackslash{}
         0               0.0          41.02                 True   
         1               0.0         127.56                 True   
         2               0.0         218.59                 True   
         3               0.0         306.64                 True   
         5               0.0         442.95                 True   
         
            communityCode\_missing    target  State\_AK  State\_AL  State\_AR  State\_AZ  \textbackslash{}
         0                  False  3.738146         0         0         0         0   
         1                  False  4.856396         0         0         0         0   
         2                   True  5.391762         0         0         0         0   
         3                  False  5.728930         0         0         0         0   
         5                   True  6.095712         0         0         0         0   
         
            State\_CA  State\_CO  State\_CT  State\_DC  State\_DE  State\_FL  State\_GA  \textbackslash{}
         0         0         0         0         0         0         0         0   
         1         0         0         0         0         0         0         0   
         2         0         0         0         0         0         0         0   
         3         0         0         0         0         0         0         0   
         5         0         0         0         0         0         0         0   
         
            State\_IA  State\_ID  State\_IN  State\_KS  State\_KY  State\_LA  State\_MA  \textbackslash{}
         0         0         0         0         0         0         0         0   
         1         0         0         0         0         0         0         0   
         2         0         0         0         0         0         0         0   
         3         0         0         0         0         0         0         0   
         5         0         0         0         0         0         0         0   
         
            State\_MD  State\_ME  State\_MN  State\_MO  State\_MS  State\_NC  State\_ND  \textbackslash{}
         0         0         0         0         0         0         0         0   
         1         0         0         0         0         0         0         0   
         2         0         0         0         0         0         0         0   
         3         0         0         0         0         0         0         0   
         5         0         0         0         1         0         0         0   
         
            State\_NH  State\_NJ  State\_NM  State\_NV  State\_NY  State\_OH  State\_OK  \textbackslash{}
         0         0         1         0         0         0         0         0   
         1         0         0         0         0         0         0         0   
         2         0         0         0         0         0         0         0   
         3         0         0         0         0         1         0         0   
         5         0         0         0         0         0         0         0   
         
            State\_OR  State\_PA  State\_RI  State\_SC  State\_SD  State\_TN  State\_TX  \textbackslash{}
         0         0         0         0         0         0         0         0   
         1         0         1         0         0         0         0         0   
         2         1         0         0         0         0         0         0   
         3         0         0         0         0         0         0         0   
         5         0         0         0         0         0         0         0   
         
            State\_UT  State\_VA  State\_VT  State\_WA  State\_WI  State\_WV  State\_WY  \textbackslash{}
         0         0         0         0         0         0         0         0   
         1         0         0         0         0         0         0         0   
         2         0         0         0         0         0         0         0   
         3         0         0         0         0         0         0         0   
         5         0         0         0         0         0         0         0   
         
            communityType\_Other  communityType\_borough  communityType\_city  \textbackslash{}
         0                    0                      0                   0   
         1                    0                      0                   0   
         2                    0                      0                   1   
         3                    0                      0                   1   
         5                    0                      0                   1   
         
            communityType\_district  communityType\_division  communityType\_town  \textbackslash{}
         0                       0                       0                   0   
         1                       0                       0                   0   
         2                       0                       0                   0   
         3                       0                       0                   0   
         5                       0                       0                   0   
         
            communityType\_township  communityType\_village  
         0                       1                      0  
         1                       1                      0  
         2                       0                      0  
         3                       0                      0  
         5                       0                      0  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}70}]:} 
\end{Verbatim}


    \subsection{Different regression
model}\label{different-regression-model}

    We have to center and scale age and fare. We hence setup an scikit-learn
pipeline. We make a list of models to try: - simple regression -
penalized regression - Random Forest - Neural network - KNN - XGBoost

    We split the dataset in a test and trainset. Our testset size is 50\%.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}102}]:} \PY{c+c1}{\PYZsh{} create training and testing vars}
          \PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{crimes}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{violentPerPop}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n}{crimes}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)}
          
          \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k}{import} \PY{n}{Pipeline}
          \PY{k+kn}{import} \PY{n+nn}{operator}
          \PY{n}{models}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{p}{)}
          \PY{c+c1}{\PYZsh{}Logistic Regression}
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{LinearRegression}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Elastic Net}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{ElasticNet}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}   
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{XGBoost}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{XGBRegressor}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Random Forest}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{RandomForestRegressor}\PY{p}{(}\PY{n}{n\PYZus{}estimators}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,}\PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{n\PYZus{}jobs}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Gradient Boost}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{GradientBoostingRegressor}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{40}\PY{p}{)}\PY{p}{:}
              \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{KNN}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{p}{:} \PY{n}{KNeighborsRegressor}\PY{p}{(}\PY{n}{n\PYZus{}neighbors}\PY{o}{=}\PY{n}{i}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          \PY{n}{models}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neural Net}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{MLPRegressor}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} Compute train and test errors}
          \PY{n}{train\PYZus{}errors} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{p}{)}
          \PY{n}{test\PYZus{}errors} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{p}{)}
          
          \PY{k}{for} \PY{n}{label}\PY{p}{,} \PY{n}{clf} \PY{o+ow}{in} \PY{n}{models}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
              \PY{n}{estimators} \PY{o}{=} \PY{p}{[} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{clf} \PY{p}{)}\PY{p}{]}
              \PY{n}{pipeline} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{n}{estimators}\PY{p}{)} \PY{c+c1}{\PYZsh{}standard scale}
              \PY{n}{scores} \PY{o}{=} \PY{n}{cross\PYZus{}val\PYZus{}score}\PY{p}{(}
                  \PY{n}{estimator}\PY{o}{=}\PY{n}{pipeline}\PY{p}{,}
                  \PY{n}{X}\PY{o}{=}\PY{n}{X\PYZus{}train}\PY{p}{,}
                  \PY{n}{y}\PY{o}{=}\PY{n}{y\PYZus{}train}\PY{p}{,}
                  \PY{n}{cv}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,}
                  \PY{n}{scoring}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neg\PYZus{}mean\PYZus{}squared\PYZus{}error}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{p}{)}
              \PY{n}{pipeline}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}test}\PY{p}{)}
              \PY{n}{test\PYZus{}errors}\PY{o}{.}\PY{n}{update}\PY{p}{(}\PY{p}{\PYZob{}}\PY{n}{label}\PY{p}{:} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{pipeline}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{)}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
              \PY{n}{pipeline}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,}\PY{n}{y\PYZus{}train}\PY{p}{)}
              \PY{n}{r2} \PY{o}{=} \PY{n}{r2\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{pipeline}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{)}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neg MSE: }\PY{l+s+si}{\PYZpc{}0.2f}\PY{l+s+s2}{ (+/\PYZhy{} }\PY{l+s+si}{\PYZpc{}0.2f}\PY{l+s+s2}{) [}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{]}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{scores}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{scores}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{label}\PY{p}{)}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{r2: }\PY{l+s+si}{\PYZpc{}0.2f}\PY{l+s+s2}{ [}\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{]}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{r2}\PY{p}{,} \PY{n}{label}\PY{p}{)}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{test error: }\PY{l+s+si}{\PYZpc{}0.2f}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{test\PYZus{}errors}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{label}\PY{p}{)}\PY{p}{)}
              
          \PY{n}{best\PYZus{}model} \PY{o}{=} \PY{n+nb}{min}\PY{p}{(}\PY{n}{test\PYZus{}errors}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{n}{operator}\PY{o}{.}\PY{n}{itemgetter}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Best model with lowest test error : }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{best\PYZus{}model}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Neg MSE: -0.51 (+/- 0.13) [LinearRegression]
r2: 0.71 [LinearRegression]
test error: 0.34
Neg MSE: -0.53 (+/- 0.09) [Elastic Net]
r2: 0.60 [Elastic Net]
test error: 0.45
Neg MSE: -0.46 (+/- 0.11) [XGBoost]
r2: 0.87 [XGBoost]
test error: 0.17
Neg MSE: -0.46 (+/- 0.11) [Random Forest]
r2: 0.95 [Random Forest]
test error: 0.06
Neg MSE: -0.46 (+/- 0.12) [Gradient Boost]
r2: 0.87 [Gradient Boost]
test error: 0.16
Neg MSE: -1.06 (+/- 0.12) [KNN2]
r2: 0.73 [KNN2]
test error: 0.34
Neg MSE: -0.95 (+/- 0.13) [KNN3]
r2: 0.64 [KNN3]
test error: 0.45
Neg MSE: -0.90 (+/- 0.14) [KNN4]
r2: 0.58 [KNN4]
test error: 0.51
Neg MSE: -0.88 (+/- 0.14) [KNN5]
r2: 0.55 [KNN5]
test error: 0.55
Neg MSE: -0.86 (+/- 0.16) [KNN6]
r2: 0.52 [KNN6]
test error: 0.58
Neg MSE: -0.86 (+/- 0.15) [KNN7]
r2: 0.51 [KNN7]
test error: 0.60
Neg MSE: -0.86 (+/- 0.14) [KNN8]
r2: 0.49 [KNN8]
test error: 0.62
Neg MSE: -0.84 (+/- 0.14) [KNN9]
r2: 0.48 [KNN9]
test error: 0.63
Neg MSE: -0.84 (+/- 0.15) [KNN10]
r2: 0.46 [KNN10]
test error: 0.63
Neg MSE: -0.84 (+/- 0.14) [KNN11]
r2: 0.46 [KNN11]
test error: 0.64
Neg MSE: -0.83 (+/- 0.14) [KNN12]
r2: 0.44 [KNN12]
test error: 0.65
Neg MSE: -0.83 (+/- 0.14) [KNN13]
r2: 0.44 [KNN13]
test error: 0.66
Neg MSE: -0.83 (+/- 0.14) [KNN14]
r2: 0.44 [KNN14]
test error: 0.67
Neg MSE: -0.83 (+/- 0.14) [KNN15]
r2: 0.43 [KNN15]
test error: 0.67
Neg MSE: -0.82 (+/- 0.13) [KNN16]
r2: 0.43 [KNN16]
test error: 0.68
Neg MSE: -0.83 (+/- 0.13) [KNN17]
r2: 0.43 [KNN17]
test error: 0.68
Neg MSE: -0.83 (+/- 0.13) [KNN18]
r2: 0.43 [KNN18]
test error: 0.68
Neg MSE: -0.83 (+/- 0.14) [KNN19]
r2: 0.42 [KNN19]
test error: 0.69
Neg MSE: -0.83 (+/- 0.14) [KNN20]
r2: 0.42 [KNN20]
test error: 0.69
Neg MSE: -0.83 (+/- 0.13) [KNN21]
r2: 0.42 [KNN21]
test error: 0.69
Neg MSE: -0.83 (+/- 0.13) [KNN22]
r2: 0.41 [KNN22]
test error: 0.69
Neg MSE: -0.83 (+/- 0.13) [KNN23]
r2: 0.41 [KNN23]
test error: 0.69
Neg MSE: -0.83 (+/- 0.13) [KNN24]
r2: 0.41 [KNN24]
test error: 0.70
Neg MSE: -0.83 (+/- 0.13) [KNN25]
r2: 0.40 [KNN25]
test error: 0.70
Neg MSE: -0.83 (+/- 0.13) [KNN26]
r2: 0.40 [KNN26]
test error: 0.70
Neg MSE: -0.83 (+/- 0.13) [KNN27]
r2: 0.40 [KNN27]
test error: 0.70
Neg MSE: -0.83 (+/- 0.13) [KNN28]
r2: 0.40 [KNN28]
test error: 0.70
Neg MSE: -0.83 (+/- 0.13) [KNN29]
r2: 0.40 [KNN29]
test error: 0.71
Neg MSE: -0.83 (+/- 0.13) [KNN30]
r2: 0.40 [KNN30]
test error: 0.71
Neg MSE: -0.83 (+/- 0.13) [KNN31]
r2: 0.40 [KNN31]
test error: 0.71
Neg MSE: -0.83 (+/- 0.13) [KNN32]
r2: 0.39 [KNN32]
test error: 0.72
Neg MSE: -0.83 (+/- 0.13) [KNN33]
r2: 0.39 [KNN33]
test error: 0.72
Neg MSE: -0.83 (+/- 0.13) [KNN34]
r2: 0.39 [KNN34]
test error: 0.72
Neg MSE: -0.83 (+/- 0.13) [KNN35]
r2: 0.39 [KNN35]
test error: 0.72
Neg MSE: -0.83 (+/- 0.13) [KNN36]
r2: 0.39 [KNN36]
test error: 0.72
Neg MSE: -0.83 (+/- 0.13) [KNN37]
r2: 0.39 [KNN37]
test error: 0.73
Neg MSE: -0.83 (+/- 0.13) [KNN38]
r2: 0.39 [KNN38]
test error: 0.73
Neg MSE: -0.83 (+/- 0.13) [KNN39]
r2: 0.38 [KNN39]
test error: 0.73
Neg MSE: -66351.91 (+/- 82717.85) [Neural Net]
r2: -25523.59 [Neural Net]
test error: 10993414.53
Best model with lowest test error : Random Forest

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}97}]:} \PY{n}{clf}\PY{o}{=}\PY{n}{models}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{KNN1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{estimators} \PY{o}{=} \PY{p}{[} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{normalizer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Normalizer}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{clf} \PY{p}{)}\PY{p}{]}
         \PY{n}{pipeline} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{n}{estimators}\PY{p}{)} \PY{c+c1}{\PYZsh{}standard scale}
         \PY{n}{pipeline}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
         \PY{n}{y\PYZus{}pred} \PY{o}{=} \PY{n}{pipeline}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{)}
         \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{predictions}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{y\PYZus{}pred}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{y\PYZus{}train}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}97}]:}         actual  predictions
         139   5.383577     5.383577
         756   5.859789     5.859789
         600   4.492001     4.492001
         1347  6.054510     6.054510
         800   4.646120     4.646120
         1671  5.647812     5.647812
         432   4.681483     4.681483
         94    6.589738     6.589738
         944   6.717031     6.717031
         1154  7.093396     7.093396
         221   5.833143     5.833143
         117   4.125520     4.125520
         1394  4.696107     4.696107
         1878  6.385801     6.385801
         936   2.543176     2.543176
         136   6.479262     6.479262
         1535  7.364218     7.364218
         1230  6.287282     6.287282
         1328  3.694116     3.694116
         2019  3.795489     3.795489
         1450  6.016425     6.016425
         1421  7.184356     7.184356
         1006  6.568246     6.568246
         2141  4.307707     4.307707
         1789  5.655117     5.655117
         592   5.707243     5.707243
         1427  6.185859     6.185859
         468   5.068841     5.068841
         1916  6.127459     6.127459
         244   6.249898     6.249898
         {\ldots}        {\ldots}          {\ldots}
         2040  6.283388     6.283388
         195   7.398162     7.398162
         527   7.193363     7.193363
         1255  4.836758     4.836758
         1875  4.504687     4.504687
         1769  5.481971     5.481971
         1176  3.807995     3.807995
         972   7.583298     7.583298
         1604  7.323250     7.323250
         664   5.644598     5.644598
         2073  5.499093     5.499093
         1012  5.358471     5.358471
         2202  5.548531     5.548531
         983   5.556287     5.556287
         52    5.474160     5.474160
         1706  6.533367     6.533367
         1377  4.841269     4.841269
         1873  6.204416     6.204416
         523   6.301868     6.301868
         1272  6.507308     6.507308
         823   5.562373     5.562373
         986   6.124508     6.124508
         857   5.805255     5.805255
         177   5.195066     5.195066
         1140  4.040064     4.040064
         1791  7.141617     7.141617
         1115  7.239768     7.239768
         1978  5.935317     5.935317
         863   3.831463     3.831463
         467   6.648829     6.648829
         
         [997 rows x 2 columns]
\end{Verbatim}
            
    R squared: -167521.55 (+/- 42890.81) {[}LinearRegression{]} test error:
205645.63 R squared: -232087.68 (+/- 62426.01) {[}Elastic Net{]} test
error: 295655.91 R squared: -148197.50 (+/- 37426.63) {[}XGBoost{]} test
error: 76787.41 R squared: -138506.75 (+/- 34178.45) {[}Random Forest{]}
test error: 25326.34 R squared: -149016.16 (+/- 34920.26) {[}Gradient
Boost{]} test error: 74549.01 R squared: -151117.59 (+/- 35133.19)
{[}KNN{]} test error: 164439.03 R squared: -348716.62 (+/- 87084.29)
{[}Neural Net{]} test error: 436115.04 Best model with lowest test error
: Random Forest

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{train\PYZus{}errors}\PY{p}{)}
        \PY{n+nb}{print}\PY{p}{(}\PY{n}{test\PYZus{}errors}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}87}]:} \PY{k+kn}{from} \PY{n+nn}{yellowbrick}\PY{n+nn}{.}\PY{n+nn}{regressor} \PY{k}{import} \PY{n}{PredictionError}\PY{p}{,} \PY{n}{ResidualsPlot}
         \PY{k+kn}{from} \PY{n+nn}{yellowbrick}\PY{n+nn}{.}\PY{n+nn}{regressor}\PY{n+nn}{.}\PY{n+nn}{alphas} \PY{k}{import} \PY{n}{AlphaSelection}
         
         \PY{c+c1}{\PYZsh{} Instantiate the linear model and visualizer}
         \PY{k}{for} \PY{n}{label}\PY{p}{,} \PY{n}{clf} \PY{o+ow}{in} \PY{n}{models}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
             \PY{n}{estimators} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reduce\PYZus{}dim}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{PCA}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{normalizer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Normalizer}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{clf} \PY{p}{)}\PY{p}{]}
             \PY{n}{pipeline} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{n}{estimators}\PY{p}{)} \PY{c+c1}{\PYZsh{}standard scale    }
             \PY{n}{visualizer1} \PY{o}{=} \PY{n}{PredictionError}\PY{p}{(}\PY{n}{pipeline}\PY{p}{)}
             \PY{n}{visualizer1}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Fit the training data to the visualizer}
             \PY{n}{visualizer1}\PY{o}{.}\PY{n}{score}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}test}\PY{p}{)}
             \PY{n}{visualizer} \PY{o}{=} \PY{n}{ResidualsPlot}\PY{p}{(}\PY{n}{pipeline}\PY{p}{)}
             \PY{n}{visualizer}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Fit the training data to the visualizer}
             \PY{n}{visualizer}\PY{o}{.}\PY{n}{score}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}test}\PY{p}{)}  \PY{c+c1}{\PYZsh{} Evaluate the model on the test data}
             \PY{n}{g1} \PY{o}{=} \PY{n}{visualizer}\PY{o}{.}\PY{n}{poof}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} Evaluate the model on the test data}
             \PY{n}{g} \PY{o}{=} \PY{n}{visualizer}\PY{o}{.}\PY{n}{poof}\PY{p}{(}\PY{p}{)}             \PY{c+c1}{\PYZsh{} Draw/show/poof the data}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_3.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_4.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_5.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_6.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_7.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_8.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_9.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_10.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_11.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_12.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_13.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_14.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_15.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_16.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_17.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_18.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_19.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_20.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_21.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_22.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_23.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_24.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_25.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_26.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_27.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_28.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_29.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_30.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_31.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_32.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_33.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_34.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_35.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_36.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_37.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_38.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_39.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_40.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_41.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_42.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_43.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_111_44.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{k+kn}{from} \PY{n+nn}{yellowbrick}\PY{n+nn}{.}\PY{n+nn}{features} \PY{k}{import} \PY{n}{FeatureImportances}
        \PY{c+c1}{\PYZsh{} Create a new matplotlib figure}
        \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
        \PY{n}{ax} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{p}{)}
        \PY{k}{for} \PY{n}{label}\PY{p}{,} \PY{n}{clf} \PY{o+ow}{in} \PY{n}{models}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
            \PY{n}{pipeline} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{normalizer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Normalizer}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{clf} \PY{p}{)}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{}standard scale}
            \PY{n}{viz} \PY{o}{=} \PY{n}{FeatureImportances}\PY{p}{(}\PY{n}{pipeline}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
            \PY{n}{viz}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
            \PY{n}{viz}\PY{o}{.}\PY{n}{poof}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsection{Performance on the
testset}\label{performance-on-the-testset}

    We check now the performance on the testset and see that KNN does not
perform very well. Random forest seems the most promising so we will
tweak that.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor} }]:} \PY{c+c1}{\PYZsh{} \PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
        \PY{c+c1}{\PYZsh{} Compute train and test errors}
        \PY{n}{train\PYZus{}errors} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{p}{)}
        \PY{n}{test\PYZus{}errors} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{p}{)}
        \PY{k}{for} \PY{n}{label}\PY{p}{,} \PY{n}{clf} \PY{o+ow}{in} \PY{n}{models}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
            \PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
            \PY{n}{train\PYZus{}errors}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{enet}\PY{o}{.}\PY{n}{score}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}\PY{p}{)}
            \PY{n}{test\PYZus{}errors}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{enet}\PY{o}{.}\PY{n}{score}\PY{p}{(}\PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}test}\PY{p}{)}\PY{p}{)}
        
        \PY{n}{i\PYZus{}alpha\PYZus{}optim} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{argmax}\PY{p}{(}\PY{n}{test\PYZus{}errors}\PY{p}{)}
        \PY{n}{alpha\PYZus{}optim} \PY{o}{=} \PY{n}{alphas}\PY{p}{[}\PY{n}{i\PYZus{}alpha\PYZus{}optim}\PY{p}{]}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Optimal regularization parameter : }\PY{l+s+si}{\PYZpc{}s}\PY{l+s+s2}{\PYZdq{}} \PY{o}{\PYZpc{}} \PY{n}{alpha\PYZus{}optim}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} Estimate the coef\PYZus{} on full data with optimal regularization parameter}
        \PY{n}{enet}\PY{o}{.}\PY{n}{set\PYZus{}params}\PY{p}{(}\PY{n}{alpha}\PY{o}{=}\PY{n}{alpha\PYZus{}optim}\PY{p}{)}
        \PY{n}{coef\PYZus{}} \PY{o}{=} \PY{n}{enet}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X}\PY{p}{,} \PY{n}{y}\PY{p}{)}\PY{o}{.}\PY{n}{coef\PYZus{}}
        
        \PY{c+c1}{\PYZsh{} \PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
        \PY{c+c1}{\PYZsh{} Plot results functions}
        
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{semilogx}\PY{p}{(}\PY{n}{alphas}\PY{p}{,} \PY{n}{train\PYZus{}errors}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Train}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{semilogx}\PY{p}{(}\PY{n}{alphas}\PY{p}{,} \PY{n}{test\PYZus{}errors}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Test}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{vlines}\PY{p}{(}\PY{n}{alpha\PYZus{}optim}\PY{p}{,} \PY{n}{plt}\PY{o}{.}\PY{n}{ylim}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{test\PYZus{}errors}\PY{p}{)}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{k}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Optimum on test}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{loc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lower left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylim}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mf}{1.2}\PY{p}{]}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Regularization parameter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Performance}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} Show estimated coef\PYZus{} vs true coef}
        \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{coef}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{True coef}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{coef\PYZus{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estimated coef}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{subplots\PYZus{}adjust}\PY{p}{(}\PY{l+m+mf}{0.09}\PY{p}{,} \PY{l+m+mf}{0.04}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{,} \PY{l+m+mf}{0.94}\PY{p}{,} \PY{l+m+mf}{0.26}\PY{p}{,} \PY{l+m+mf}{0.26}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsection{Different random forest}\label{different-random-forest}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}108}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{GridSearchCV}
          
          \PY{n}{rfc} \PY{o}{=} \PY{n}{RandomForestRegressor}\PY{p}{(}\PY{n}{n\PYZus{}jobs}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,}  \PY{n}{oob\PYZus{}score} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)} 
          \PY{n}{pipeline} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{normalizer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{Normalizer}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{clf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{rfc} \PY{p}{)}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{}standard scale}
          \PY{c+c1}{\PYZsh{} Use a grid over parameters of interest}
          \PY{n}{param\PYZus{}grid} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{clf\PYZus{}\PYZus{}n\PYZus{}estimators}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}\PY{p}{[}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{,}\PY{l+m+mi}{1000}\PY{p}{]}\PY{p}{,}
              \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{clf\PYZus{}\PYZus{}max\PYZus{}depth}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{k+kc}{None}\PY{p}{]}\PY{p}{,}
                        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{clf\PYZus{}\PYZus{}max\PYZus{}features}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{sqrt}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{log2}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,}
                        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{clf\PYZus{}\PYZus{}min\PYZus{}samples\PYZus{}split}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{]}\PY{p}{,}
                        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{clf\PYZus{}\PYZus{}min\PYZus{}samples\PYZus{}leaf}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{]}\PY{p}{,}
                        \PY{c+c1}{\PYZsh{} \PYZdq{}bootstrap\PYZdq{}: [True, False],}
                        \PY{c+c1}{\PYZsh{}\PYZdq{}clf\PYZus{}\PYZus{}criterion\PYZdq{}: [\PYZdq{}gini\PYZdq{}, \PYZdq{}entropy\PYZdq{}]}
                       \PY{p}{\PYZcb{}}
          \PY{c+c1}{\PYZsh{}pipeline.get\PYZus{}params().keys()}
          \PY{n}{CV\PYZus{}rfc} \PY{o}{=} \PY{n}{GridSearchCV}\PY{p}{(}\PY{n}{estimator}\PY{o}{=}\PY{n}{pipeline}\PY{p}{,} \PY{n}{param\PYZus{}grid}\PY{o}{=}\PY{n}{param\PYZus{}grid}\PY{p}{,} \PY{n}{cv}\PY{o}{=} \PY{l+m+mi}{10}\PY{p}{,} \PY{n}{scoring} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean\PYZus{}squared\PYZus{}error}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{CV\PYZus{}rfc}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{CV\PYZus{}rfc}\PY{o}{.}\PY{n}{best\PYZus{}params\PYZus{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
\{'clf\_\_max\_depth': None, 'clf\_\_max\_features': None, 'clf\_\_min\_samples\_leaf': 1, 'clf\_\_min\_samples\_split': 3, 'clf\_\_n\_estimators': 1000\}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}119}]:} \PY{c+c1}{\PYZsh{} \PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
          \PY{c+c1}{\PYZsh{} Plot feature importance}
          \PY{n}{clf}\PY{o}{=} \PY{n}{CV\PYZus{}rfc}\PY{o}{.}\PY{n}{best\PYZus{}estimator\PYZus{}}\PY{o}{.}\PY{n}{steps}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
          \PY{k+kn}{from} \PY{n+nn}{yellowbrick}\PY{n+nn}{.}\PY{n+nn}{features} \PY{k}{import} \PY{n}{FeatureImportances}
          \PY{c+c1}{\PYZsh{} Create a new matplotlib figure}
          \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{)}
          
          \PY{n}{viz} \PY{o}{=} \PY{n}{FeatureImportances}\PY{p}{(}\PY{n}{clf}\PY{p}{)}
          \PY{n}{viz}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
          \PY{n}{viz}\PY{o}{.}\PY{n}{poof}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_118_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
